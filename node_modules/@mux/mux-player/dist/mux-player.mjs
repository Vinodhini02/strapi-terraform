var mc=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var me=(i,e,t)=>(mc(i,e,"read from private field"),t?t.call(i):e.get(i)),Xe=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},Ht=(i,e,t,r)=>(mc(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t);var Ze=(i,e,t)=>(mc(i,e,"access private method"),t);var $s=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment=="undefined"){class i extends $s{}globalThis.DocumentFragment=i}var Wn=class extends $s{},pc=class extends $s{},G_={get(i){},define(i,e,t){},getName(i){return null},upgrade(i){},whenDefined(i){return Promise.resolve(Wn)}},Vn,gc=class{constructor(e,t={}){Xe(this,Vn,void 0);Ht(this,Vn,t==null?void 0:t.detail)}get detail(){return me(this,Vn)}initCustomEvent(){}};Vn=new WeakMap;function K_(i,e){return new Wn}var Wg={document:{createElement:K_},DocumentFragment,customElements:G_,CustomEvent:gc,EventTarget:$s,HTMLElement:Wn,HTMLVideoElement:pc},Vg=typeof window=="undefined"||typeof globalThis.customElements=="undefined",Ve=Vg?Wg:globalThis,Ut=Vg?Wg.document:globalThis.document;var $={MEDIA_PLAY_REQUEST:"mediaplayrequest",MEDIA_PAUSE_REQUEST:"mediapauserequest",MEDIA_MUTE_REQUEST:"mediamuterequest",MEDIA_UNMUTE_REQUEST:"mediaunmuterequest",MEDIA_VOLUME_REQUEST:"mediavolumerequest",MEDIA_SEEK_REQUEST:"mediaseekrequest",MEDIA_AIRPLAY_REQUEST:"mediaairplayrequest",MEDIA_ENTER_FULLSCREEN_REQUEST:"mediaenterfullscreenrequest",MEDIA_EXIT_FULLSCREEN_REQUEST:"mediaexitfullscreenrequest",MEDIA_PREVIEW_REQUEST:"mediapreviewrequest",MEDIA_ENTER_PIP_REQUEST:"mediaenterpiprequest",MEDIA_EXIT_PIP_REQUEST:"mediaexitpiprequest",MEDIA_ENTER_CAST_REQUEST:"mediaentercastrequest",MEDIA_EXIT_CAST_REQUEST:"mediaexitcastrequest",MEDIA_SHOW_TEXT_TRACKS_REQUEST:"mediashowtexttracksrequest",MEDIA_HIDE_TEXT_TRACKS_REQUEST:"mediahidetexttracksrequest",MEDIA_SHOW_SUBTITLES_REQUEST:"mediashowsubtitlesrequest",MEDIA_DISABLE_SUBTITLES_REQUEST:"mediadisablesubtitlesrequest",MEDIA_TOGGLE_SUBTITLES_REQUEST:"mediatogglesubtitlesrequest",MEDIA_PLAYBACK_RATE_REQUEST:"mediaplaybackraterequest",MEDIA_RENDITION_REQUEST:"mediarenditionrequest",MEDIA_AUDIO_TRACK_REQUEST:"mediaaudiotrackrequest",MEDIA_SEEK_TO_LIVE_REQUEST:"mediaseektoliverequest",REGISTER_MEDIA_STATE_RECEIVER:"registermediastatereceiver",UNREGISTER_MEDIA_STATE_RECEIVER:"unregistermediastatereceiver"},ue={MEDIA_CHROME_ATTRIBUTES:"mediachromeattributes",MEDIA_CONTROLLER:"mediacontroller"},vc={MEDIA_AIRPLAY_UNAVAILABLE:"mediaAirplayUnavailable",MEDIA_FULLSCREEN_UNAVAILABLE:"mediaFullscreenUnavailable",MEDIA_PIP_UNAVAILABLE:"mediaPipUnavailable",MEDIA_CAST_UNAVAILABLE:"mediaCastUnavailable",MEDIA_RENDITION_UNAVAILABLE:"mediaRenditionUnavailable",MEDIA_AUDIO_TRACK_UNAVAILABLE:"mediaAudioTrackUnavailable",MEDIA_WIDTH:"mediaWidth",MEDIA_HEIGHT:"mediaHeight",MEDIA_PAUSED:"mediaPaused",MEDIA_HAS_PLAYED:"mediaHasPlayed",MEDIA_ENDED:"mediaEnded",MEDIA_MUTED:"mediaMuted",MEDIA_VOLUME_LEVEL:"mediaVolumeLevel",MEDIA_VOLUME:"mediaVolume",MEDIA_VOLUME_UNAVAILABLE:"mediaVolumeUnavailable",MEDIA_IS_PIP:"mediaIsPip",MEDIA_IS_CASTING:"mediaIsCasting",MEDIA_IS_AIRPLAYING:"mediaIsAirplaying",MEDIA_SUBTITLES_LIST:"mediaSubtitlesList",MEDIA_SUBTITLES_SHOWING:"mediaSubtitlesShowing",MEDIA_IS_FULLSCREEN:"mediaIsFullscreen",MEDIA_PLAYBACK_RATE:"mediaPlaybackRate",MEDIA_CURRENT_TIME:"mediaCurrentTime",MEDIA_DURATION:"mediaDuration",MEDIA_SEEKABLE:"mediaSeekable",MEDIA_PREVIEW_TIME:"mediaPreviewTime",MEDIA_PREVIEW_IMAGE:"mediaPreviewImage",MEDIA_PREVIEW_COORDS:"mediaPreviewCoords",MEDIA_PREVIEW_CHAPTER:"mediaPreviewChapter",MEDIA_LOADING:"mediaLoading",MEDIA_BUFFERED:"mediaBuffered",MEDIA_STREAM_TYPE:"mediaStreamType",MEDIA_TARGET_LIVE_WINDOW:"mediaTargetLiveWindow",MEDIA_TIME_IS_LIVE:"mediaTimeIsLive",MEDIA_RENDITION_LIST:"mediaRenditionList",MEDIA_RENDITION_SELECTED:"mediaRenditionSelected",MEDIA_AUDIO_TRACK_LIST:"mediaAudioTrackList",MEDIA_AUDIO_TRACK_ENABLED:"mediaAudioTrackEnabled",MEDIA_CHAPTERS_CUES:"mediaChaptersCues"},Yg=Object.entries(vc),y=Yg.reduce((i,[e,t])=>(i[e]=t.toLowerCase(),i),{}),W_={USER_INACTIVE:"userinactivechange",BREAKPOINTS_CHANGE:"breakpointchange",BREAKPOINTS_COMPUTED:"breakpointscomputed"},Hi=Yg.reduce((i,[e,t])=>(i[e]=t.toLowerCase(),i),{...W_}),tD=Object.entries(Hi).reduce((i,[e,t])=>{let r=y[e];return r&&(i[t]=r),i},{userinactivechange:"userinactive"}),qg=Object.entries(y).reduce((i,[e,t])=>{let r=Hi[e];return r&&(i[t]=r),i},{userinactive:"userinactivechange"}),It={SUBTITLES:"subtitles",CAPTIONS:"captions",DESCRIPTIONS:"descriptions",CHAPTERS:"chapters",METADATA:"metadata"},ar={DISABLED:"disabled",HIDDEN:"hidden",SHOWING:"showing"};var Ec={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},Ft={UNAVAILABLE:"unavailable",UNSUPPORTED:"unsupported"},zt={LIVE:"live",ON_DEMAND:"on-demand",UNKNOWN:"unknown"};var jg={INLINE:"inline",FULLSCREEN:"fullscreen",PICTURE_IN_PICTURE:"picture-in-picture"};var ce={ENTER_AIRPLAY:"Start airplay",EXIT_AIRPLAY:"Stop airplay",AUDIO_TRACK_MENU:"Audio",CAPTIONS:"Captions",ENABLE_CAPTIONS:"Enable captions",DISABLE_CAPTIONS:"Disable captions",START_CAST:"Start casting",STOP_CAST:"Stop casting",ENTER_FULLSCREEN:"Enter fullscreen mode",EXIT_FULLSCREEN:"Exit fullscreen mode",MUTE:"Mute",UNMUTE:"Unmute",ENTER_PIP:"Enter picture in picture mode",EXIT_PIP:"Enter picture in picture mode",PLAY:"Play",PAUSE:"Pause",PLAYBACK_RATE:"Playback rate",RENDITIONS:"Quality",SEEK_BACKWARD:"Seek backward",SEEK_FORWARD:"Seek forward",SETTINGS:"Settings"},Pe={AUDIO_PLAYER:()=>"audio player",VIDEO_PLAYER:()=>"video player",VOLUME:()=>"volume",SEEK:()=>"seek",CLOSED_CAPTIONS:()=>"closed captions",PLAYBACK_RATE:({playbackRate:i=1}={})=>`current playback rate ${i}`,PLAYBACK_TIME:()=>"playback time",MEDIA_LOADING:()=>"media loading",SETTINGS:()=>"settings",AUDIO_TRACKS:()=>"audio tracks",QUALITY:()=>"quality"},Oe={PLAY:()=>"play",PAUSE:()=>"pause",MUTE:()=>"mute",UNMUTE:()=>"unmute",ENTER_AIRPLAY:()=>"start airplay",EXIT_AIRPLAY:()=>"stop airplay",ENTER_CAST:()=>"start casting",EXIT_CAST:()=>"stop casting",ENTER_FULLSCREEN:()=>"enter fullscreen mode",EXIT_FULLSCREEN:()=>"exit fullscreen mode",ENTER_PIP:()=>"enter picture in picture mode",EXIT_PIP:()=>"exit picture in picture mode",SEEK_FORWARD_N_SECS:({seekOffset:i=30}={})=>`seek forward ${i} seconds`,SEEK_BACK_N_SECS:({seekOffset:i=30}={})=>`seek back ${i} seconds`,SEEK_LIVE:()=>"seek to live",PLAYING_LIVE:()=>"playing live"},Y_={...Pe,...Oe};function zg(i){return i==null?void 0:i.map(q_).join(" ")}function Xg(i){return i==null?void 0:i.split(/\s+/).map(j_)}function q_(i){if(i){let{id:e,width:t,height:r}=i;return[e,t,r].filter(s=>s!=null).join(":")}}function j_(i){if(i){let[e,t,r]=i.split(":");return{id:e,width:+t,height:+r}}}function Qg(i){return i==null?void 0:i.map(z_).join(" ")}function Zg(i){return i==null?void 0:i.split(/\s+/).map(X_)}function z_(i){if(i){let{id:e,kind:t,language:r,label:s}=i;return[e,t,r,s].filter(n=>n!=null).join(":")}}function X_(i){if(i){let[e,t,r,s]=i.split(":");return{id:e,kind:t,language:r,label:s}}}function Jg(i){return i.replace(/[-_]([a-z])/g,(e,t)=>t.toUpperCase())}function Hs(i){return typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i)}function wo(i){return typeof i!="string"?!1:!isNaN(i)&&!isNaN(parseFloat(i))}var Do=i=>new Promise(e=>setTimeout(e,i));var e0=[{singular:"hour",plural:"hours"},{singular:"minute",plural:"minutes"},{singular:"second",plural:"seconds"}],Q_=(i,e)=>{let t=i===1?e0[e].singular:e0[e].plural;return`${i} ${t}`},Or=i=>{if(!Hs(i))return"";let e=Math.abs(i),t=e!==i,r=new Date(0,0,0,0,0,e,0);return`${[r.getHours(),r.getMinutes(),r.getSeconds()].map((o,l)=>o&&Q_(o,l)).filter(o=>o).join(", ")}${t?" remaining":""}`};function di(i,e){let t=!1;i<0&&(t=!0,i=0-i),i=i<0?0:i;let r=Math.floor(i%60),s=Math.floor(i/60%60),n=Math.floor(i/3600),a=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(i)||i===1/0)&&(n=s=r="0"),n=n>0||o>0?n+":":"",s=((n||a>=10)&&s<10?"0"+s:s)+":",r=r<10?"0"+r:r,(t?"-":"")+n+s+r}var nD=Object.freeze({length:0,start(i){let e=i>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'start' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0},end(i){let e=i>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'end' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0}});var Mo=class{addEventListener(){}removeEventListener(){}dispatchEvent(){return!0}},Po=class extends Mo{},Oo=class extends Po{constructor(){super(...arguments),this.role=null}},bc=class{observe(){}unobserve(){}disconnect(){}},t0={createElement:function(){return new Yn.HTMLElement},createElementNS:function(){return new Yn.HTMLElement},addEventListener(){},removeEventListener(){},dispatchEvent(i){return!1}},Yn={ResizeObserver:bc,document:t0,Node:Po,Element:Oo,HTMLElement:class extends Oo{constructor(){super(...arguments),this.innerHTML=""}get content(){return new Yn.DocumentFragment}},DocumentFragment:class extends Mo{},customElements:{get:function(){},define:function(){},whenDefined:function(){}},localStorage:{getItem(i){return null},setItem(i,e){},removeItem(i){}},CustomEvent:function(){},getComputedStyle:function(){},navigator:{languages:[],get userAgent(){return""}},matchMedia(i){return{matches:!1,media:i}}},i0=typeof window=="undefined"||typeof window.customElements=="undefined",r0=Object.keys(Yn).every(i=>i in globalThis),x=i0&&!r0?Yn:globalThis,N=i0&&!r0?t0:globalThis.document;var s0=new WeakMap,yc=i=>{let e=s0.get(i);return e||s0.set(i,e=new Set),e},n0=new x.ResizeObserver(i=>{for(let e of i)for(let t of yc(e.target))t(e)});function Gi(i,e){yc(i).add(e),n0.observe(i)}function Nr(i,e){let t=yc(i);t.delete(e),t.size||n0.unobserve(i)}function He(i){var e;return(e=No(i))!=null?e:ui(i,"media-controller")}function No(i){var e;let{MEDIA_CONTROLLER:t}=ue,r=i.getAttribute(t);if(r)return(e=Ur(i))==null?void 0:e.getElementById(r)}var Uo=(i,e,t=".value")=>{let r=i.querySelector(t);r&&(r.textContent=e)},J_=(i,e)=>{let t=`slot[name="${e}"]`,r=i.shadowRoot.querySelector(t);return r?r.children:[]},Fo=(i,e)=>J_(i,e)[0],St=(i,e)=>!i||!e?!1:i!=null&&i.contains(e)?!0:St(i,e.getRootNode().host),ui=(i,e)=>{if(!i)return null;let t=i.closest(e);return t||ui(i.getRootNode().host,e)};function qn(i=document){var e;let t=i==null?void 0:i.activeElement;return t?(e=qn(t.shadowRoot))!=null?e:t:null}function Ur(i){var e;let t=(e=i==null?void 0:i.getRootNode)==null?void 0:e.call(i);return t instanceof ShadowRoot||t instanceof Document?t:null}function a0(i,e=3){if(i.checkVisibility)return i.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0});let t=i;for(;t&&e>0;){let r=getComputedStyle(t);if(r.opacity==="0"||r.visibility==="hidden"||r.display==="none")return!1;t=t.parentElement,e--}return!0}function o0(i,e,t,r){let s=Tc(t,r),n=Tc(t,{x:i,y:e}),a=Tc(r,{x:i,y:e});return n>s||a>s?n>a?1:0:n/s}function Tc(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function Le(i,e){let t=eA(i,r=>r===e);return t||_c(i,e)}function eA(i,e){var t,r;let s;for(s of(t=i.querySelectorAll("style:not([media])"))!=null?t:[]){let n;try{n=(r=s.sheet)==null?void 0:r.cssRules}catch{continue}for(let a of n!=null?n:[])if(e(a.selectorText))return a}}function _c(i,e){var t,r;let s=(t=i.querySelectorAll("style:not([media])"))!=null?t:[],n=s==null?void 0:s[s.length-1];return n!=null&&n.sheet?(n==null||n.sheet.insertRule(`${e}{}`,n.sheet.cssRules.length),(r=n.sheet.cssRules)==null?void 0:r[n.sheet.cssRules.length-1]):(console.warn("Media Chrome: No style sheet found on style tag of",i),{style:{setProperty:()=>{},removeProperty:()=>"",getPropertyValue:()=>""}})}function pe(i,e,t=Number.NaN){let r=i.getAttribute(e);return r!=null?+r:t}function Te(i,e,t){let r=+t;if(t==null||Number.isNaN(r)){i.hasAttribute(e)&&i.removeAttribute(e);return}pe(i,e,void 0)!==r&&i.setAttribute(e,`${r}`)}function Re(i,e){return i.hasAttribute(e)}function Se(i,e,t){if(t==null){i.hasAttribute(e)&&i.removeAttribute(e);return}Re(i,e)!=t&&i.toggleAttribute(e,t)}function ge(i,e,t=null){var r;return(r=i.getAttribute(e))!=null?r:t}function fe(i,e,t){if(t==null){i.hasAttribute(e)&&i.removeAttribute(e);return}let r=`${t}`;ge(i,e,void 0)!==r&&i.setAttribute(e,r)}var l0=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},or=(i,e,t)=>(l0(i,e,"read from private field"),t?t.call(i):e.get(i)),tA=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},Bo=(i,e,t,r)=>(l0(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),Lt,d0=N.createElement("template");d0.innerHTML=`
<style>
  :host {
    display: var(--media-control-display, var(--media-gesture-receiver-display, inline-block));
    box-sizing: border-box;
  }
</style>
`;var Ac=class extends x.HTMLElement{constructor(e={}){if(super(),tA(this,Lt,void 0),!this.shadowRoot){let t=this.attachShadow({mode:"open"}),r=d0.content.cloneNode(!0);this.nativeEl=r;let s=e.slotTemplate;s||(s=N.createElement("template"),s.innerHTML=`<slot>${e.defaultContent||""}</slot>`),this.nativeEl.appendChild(s.content.cloneNode(!0)),t.appendChild(r)}}static get observedAttributes(){return[ue.MEDIA_CONTROLLER,y.MEDIA_PAUSED]}attributeChangedCallback(e,t,r){var s,n,a,o,l;e===ue.MEDIA_CONTROLLER&&(t&&((n=(s=or(this,Lt))==null?void 0:s.unassociateElement)==null||n.call(s,this),Bo(this,Lt,null)),r&&this.isConnected&&(Bo(this,Lt,(a=this.getRootNode())==null?void 0:a.getElementById(r)),(l=(o=or(this,Lt))==null?void 0:o.associateElement)==null||l.call(o,this)))}connectedCallback(){var e,t,r,s;this.tabIndex=-1,this.setAttribute("aria-hidden","true"),Bo(this,Lt,iA(this)),this.getAttribute(ue.MEDIA_CONTROLLER)&&((t=(e=or(this,Lt))==null?void 0:e.associateElement)==null||t.call(e,this)),(r=or(this,Lt))==null||r.addEventListener("pointerdown",this),(s=or(this,Lt))==null||s.addEventListener("click",this)}disconnectedCallback(){var e,t,r,s;this.getAttribute(ue.MEDIA_CONTROLLER)&&((t=(e=or(this,Lt))==null?void 0:e.unassociateElement)==null||t.call(e,this)),(r=or(this,Lt))==null||r.removeEventListener("pointerdown",this),(s=or(this,Lt))==null||s.removeEventListener("click",this),Bo(this,Lt,null)}handleEvent(e){var t;let r=(t=e.composedPath())==null?void 0:t[0];if(["video","media-controller"].includes(r==null?void 0:r.localName)){if(e.type==="pointerdown")this._pointerType=e.pointerType;else if(e.type==="click"){let{clientX:n,clientY:a}=e,{left:o,top:l,width:d,height:u}=this.getBoundingClientRect(),c=n-o,h=a-l;if(c<0||h<0||c>d||h>u||d===0&&u===0)return;let{pointerType:f=this._pointerType}=e;if(this._pointerType=void 0,f===Ec.TOUCH){this.handleTap(e);return}else if(f===Ec.MOUSE){this.handleMouseClick(e);return}}}}get mediaPaused(){return Re(this,y.MEDIA_PAUSED)}set mediaPaused(e){Se(this,y.MEDIA_PAUSED,e)}handleTap(e){}handleMouseClick(e){let t=this.mediaPaused?$.MEDIA_PLAY_REQUEST:$.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new x.CustomEvent(t,{composed:!0,bubbles:!0}))}};Lt=new WeakMap;function iA(i){var e;let t=i.getAttribute(ue.MEDIA_CONTROLLER);return t?(e=i.getRootNode())==null?void 0:e.getElementById(t):ui(i,"media-controller")}x.customElements.get("media-gesture-receiver")||x.customElements.define("media-gesture-receiver",Ac);var Rc=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},lr=(i,e,t)=>(Rc(i,e,"read from private field"),t?t.call(i):e.get(i)),Ki=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},jn=(i,e,t,r)=>(Rc(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),Xt=(i,e,t)=>(Rc(i,e,"access private method"),t),$o,Gs,zn,Ks,Sc,u0,xc,c0,Xn,Ho,Go,Ic,Ws,Qn,ve={AUDIO:"audio",AUTOHIDE:"autohide",BREAKPOINTS:"breakpoints",GESTURES_DISABLED:"gesturesdisabled",KEYBOARD_CONTROL:"keyboardcontrol",NO_AUTOHIDE:"noautohide",USER_INACTIVE:"userinactive"},h0=N.createElement("template");h0.innerHTML=`
  <style>
    
    :host([${y.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {
      outline: none;
    }

    :host {
      box-sizing: border-box;
      position: relative;
      display: inline-block;
      line-height: 0;
      background-color: var(--media-background-color, #000);
    }

    :host(:not([${ve.AUDIO}])) [part~=layer]:not([part~=media-layer]) {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      display: flex;
      flex-flow: column nowrap;
      align-items: start;
      pointer-events: none;
      background: none;
    }

    slot[name=media] {
      display: var(--media-slot-display, contents);
    }

    
    :host([${ve.AUDIO}]) slot[name=media] {
      display: var(--media-slot-display, none);
    }

    
    :host([${ve.AUDIO}]) [part~=layer][part~=gesture-layer] {
      height: 0;
      display: block;
    }

    
    :host(:not([${ve.AUDIO}])[${ve.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),
    :host(:not([${ve.AUDIO}])[${ve.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {
      display: none;
    }

    
    ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator):not([hidden])) {
      pointer-events: auto;
    }

    :host(:not([${ve.AUDIO}])) *[part~=layer][part~=centered-layer] {
      align-items: center;
      justify-content: center;
    }

    :host(:not([${ve.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),
    :host(:not([${ve.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {
      align-self: stretch;
      flex-grow: 1;
    }

    slot[name=middle-chrome] {
      display: inline;
      flex-grow: 1;
      pointer-events: none;
      background: none;
    }

    
    ::slotted([slot=media]),
    ::slotted([slot=poster]) {
      width: 100%;
      height: 100%;
    }

    
    :host(:not([${ve.AUDIO}])) .spacer {
      flex-grow: 1;
    }

    
    :host(:-webkit-full-screen) {
      
      width: 100% !important;
      height: 100% !important;
    }

    
    ::slotted(:not([slot=media]):not([slot=poster]):not([${ve.NO_AUTOHIDE}]):not([hidden])) {
      opacity: 1;
      transition: opacity 0.25s;
    }

    
    :host([${ve.USER_INACTIVE}]:not([${y.MEDIA_PAUSED}]):not([${y.MEDIA_IS_AIRPLAYING}]):not([${y.MEDIA_IS_CASTING}]):not([${ve.AUDIO}])) ::slotted(:not([slot=media]):not([slot=poster]):not([${ve.NO_AUTOHIDE}])) {
      opacity: 0;
      transition: opacity 1s;
    }

    :host([${ve.USER_INACTIVE}]:not([${y.MEDIA_PAUSED}]):not([${y.MEDIA_IS_CASTING}]):not([${ve.AUDIO}])) ::slotted([slot=media]) {
      cursor: none;
    }

    ::slotted(media-control-bar)  {
      align-self: stretch;
    }

    
    :host(:not([${ve.AUDIO}])[${y.MEDIA_HAS_PLAYED}]) slot[name=poster] {
      display: none;
    }

    ::slotted([role="menu"]) {
      align-self: end;
    }

    ::slotted([role="dialog"]) {
      align-self: center;
    }
  </style>

  <slot name="media" part="layer media-layer"></slot>
  <slot name="poster" part="layer poster-layer"></slot>
  <slot name="gestures-chrome" part="layer gesture-layer">
    <media-gesture-receiver slot="gestures-chrome"></media-gesture-receiver>
  </slot>
  <span part="layer vertical-layer">
    <slot name="top-chrome" part="top chrome"></slot>
    <slot name="middle-chrome" part="middle chrome"></slot>
    <slot name="centered-chrome" part="layer centered-layer center centered chrome"></slot>
    
    <slot part="bottom chrome"></slot>
  </span>
`;var rA=Object.values(y),sA="sm:384 md:576 lg:768 xl:960";function nA(i){aA(i.target,i.contentRect.width)}function aA(i,e){var t;if(!i.isConnected)return;let r=(t=i.getAttribute(ve.BREAKPOINTS))!=null?t:sA,s=oA(r),n=lA(s,e),a=!1;if(Object.keys(s).forEach(o=>{if(n.includes(o)){i.hasAttribute(`breakpoint${o}`)||(i.setAttribute(`breakpoint${o}`,""),a=!0);return}i.hasAttribute(`breakpoint${o}`)&&(i.removeAttribute(`breakpoint${o}`),a=!0)}),a){let o=new CustomEvent(Hi.BREAKPOINTS_CHANGE,{detail:n});i.dispatchEvent(o)}}function oA(i){let e=i.split(/\s+/);return Object.fromEntries(e.map(t=>t.split(":")))}function lA(i,e){return Object.keys(i).filter(t=>e>=parseInt(i[t]))}var Zn=class extends x.HTMLElement{constructor(){super(),Ki(this,Sc),Ki(this,xc),Ki(this,Xn),Ki(this,Go),Ki(this,Ws),Ki(this,$o,0),Ki(this,Gs,null),Ki(this,zn,null),Ki(this,Ks,void 0),this.breakpointsComputed=!1,this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(h0.content.cloneNode(!0)));let e=a=>{let o=this.media;for(let l of a)l.type==="childList"&&(l.removedNodes.forEach(d=>{if(d.slot=="media"&&l.target==this){let u=l.previousSibling&&l.previousSibling.previousElementSibling;if(!u||!o)this.mediaUnsetCallback(d);else{let c=u.slot!=="media";for(;(u=u.previousSibling)!==null;)u.slot=="media"&&(c=!1);c&&this.mediaUnsetCallback(d)}}}),o&&l.addedNodes.forEach(d=>{d===o&&this.handleMediaUpdated(o)}))};new MutationObserver(e).observe(this,{childList:!0,subtree:!0});let r=!1;Gi(this,a=>{r||(setTimeout(()=>{nA(a),r=!1,this.breakpointsComputed||(this.breakpointsComputed=!0,this.dispatchEvent(new CustomEvent(Hi.BREAKPOINTS_COMPUTED,{bubbles:!0,composed:!0})))},0),r=!0)});let n=this.querySelector(":scope > slot[slot=media]");n&&n.addEventListener("slotchange",()=>{if(!n.assignedElements({flatten:!0}).length){lr(this,Gs)&&this.mediaUnsetCallback(lr(this,Gs));return}this.handleMediaUpdated(this.media)})}static get observedAttributes(){return[ve.AUTOHIDE,ve.GESTURES_DISABLED].concat(rA).filter(e=>![y.MEDIA_RENDITION_LIST,y.MEDIA_AUDIO_TRACK_LIST,y.MEDIA_CHAPTERS_CUES,y.MEDIA_WIDTH,y.MEDIA_HEIGHT].includes(e))}attributeChangedCallback(e,t,r){e.toLowerCase()==ve.AUTOHIDE&&(this.autohide=r)}get media(){let e=this.querySelector(":scope > [slot=media]");return(e==null?void 0:e.nodeName)=="SLOT"&&(e=e.assignedElements({flatten:!0})[0]),e}async handleMediaUpdated(e){e&&(jn(this,Gs,e),e.localName.includes("-")&&await x.customElements.whenDefined(e.localName),this.mediaSetCallback(e))}connectedCallback(){var e;let r=this.getAttribute(ve.AUDIO)!=null?Pe.AUDIO_PLAYER():Pe.VIDEO_PLAYER();this.setAttribute("role","region"),this.setAttribute("aria-label",r),this.handleMediaUpdated(this.media),this.setAttribute(ve.USER_INACTIVE,""),this.addEventListener("pointerdown",this),this.addEventListener("pointermove",this),this.addEventListener("pointerup",this),this.addEventListener("mouseleave",this),this.addEventListener("keyup",this),(e=x.window)==null||e.addEventListener("mouseup",this)}disconnectedCallback(){var e;this.media&&this.mediaUnsetCallback(this.media),(e=x.window)==null||e.removeEventListener("mouseup",this)}mediaSetCallback(e){}mediaUnsetCallback(e){jn(this,Gs,null)}handleEvent(e){switch(e.type){case"pointerdown":jn(this,$o,e.timeStamp);break;case"pointermove":Xt(this,Sc,u0).call(this,e);break;case"pointerup":Xt(this,xc,c0).call(this,e);break;case"mouseleave":Xt(this,Xn,Ho).call(this);break;case"mouseup":this.removeAttribute(ve.KEYBOARD_CONTROL);break;case"keyup":Xt(this,Ws,Qn).call(this),this.setAttribute(ve.KEYBOARD_CONTROL,"");break}}set autohide(e){let t=Number(e);jn(this,Ks,isNaN(t)?0:t)}get autohide(){return(lr(this,Ks)===void 0?2:lr(this,Ks)).toString()}};$o=new WeakMap;Gs=new WeakMap;zn=new WeakMap;Ks=new WeakMap;Sc=new WeakSet;u0=function(i){i.pointerType!=="mouse"&&i.timeStamp-lr(this,$o)<250||(Xt(this,Go,Ic).call(this),clearTimeout(lr(this,zn)),[this,this.media].includes(i.target)&&Xt(this,Ws,Qn).call(this))};xc=new WeakSet;c0=function(i){if(i.pointerType==="touch"){let e=!this.hasAttribute(ve.USER_INACTIVE);[this,this.media].includes(i.target)&&e?Xt(this,Xn,Ho).call(this):Xt(this,Ws,Qn).call(this)}else i.composedPath().some(e=>["media-play-button","media-fullscreen-button"].includes(e==null?void 0:e.localName))&&Xt(this,Ws,Qn).call(this)};Xn=new WeakSet;Ho=function(){if(lr(this,Ks)<0||this.hasAttribute(ve.USER_INACTIVE))return;this.setAttribute(ve.USER_INACTIVE,"");let i=new x.CustomEvent(Hi.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(i)};Go=new WeakSet;Ic=function(){if(!this.hasAttribute(ve.USER_INACTIVE))return;this.removeAttribute(ve.USER_INACTIVE);let i=new x.CustomEvent(Hi.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(i)};Ws=new WeakSet;Qn=function(){Xt(this,Go,Ic).call(this),clearTimeout(lr(this,zn));let i=parseInt(this.autohide);i<0||jn(this,zn,setTimeout(()=>{Xt(this,Xn,Ho).call(this)},i*1e3))};x.customElements.get("media-container")||x.customElements.define("media-container",Zn);var f0=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},dt=(i,e,t)=>(f0(i,e,"read from private field"),t?t.call(i):e.get(i)),Jn=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},Ko=(i,e,t,r)=>(f0(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),Vs,Ys,Wo,Fr,Wi,dr,ci=class{constructor(e,t,{defaultValue:r}={defaultValue:void 0}){Jn(this,Wi),Jn(this,Vs,void 0),Jn(this,Ys,void 0),Jn(this,Wo,void 0),Jn(this,Fr,new Set),Ko(this,Vs,e),Ko(this,Ys,t),Ko(this,Wo,new Set(r))}[Symbol.iterator](){return dt(this,Wi,dr).values()}get length(){return dt(this,Wi,dr).size}get value(){var e;return(e=[...dt(this,Wi,dr)].join(" "))!=null?e:""}set value(e){var t;e!==this.value&&(Ko(this,Fr,new Set),this.add(...(t=e==null?void 0:e.split(" "))!=null?t:[]))}toString(){return this.value}item(e){return[...dt(this,Wi,dr)][e]}values(){return dt(this,Wi,dr).values()}forEach(e,t){dt(this,Wi,dr).forEach(e,t)}add(...e){var t,r;e.forEach(s=>dt(this,Fr).add(s)),!(this.value===""&&!((t=dt(this,Vs))!=null&&t.hasAttribute(`${dt(this,Ys)}`)))&&((r=dt(this,Vs))==null||r.setAttribute(`${dt(this,Ys)}`,`${this.value}`))}remove(...e){var t;e.forEach(r=>dt(this,Fr).delete(r)),(t=dt(this,Vs))==null||t.setAttribute(`${dt(this,Ys)}`,`${this.value}`)}contains(e){return dt(this,Wi,dr).has(e)}toggle(e,t){return typeof t!="undefined"?t?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,t){return this.remove(e),this.add(t),e===t}};Vs=new WeakMap;Ys=new WeakMap;Wo=new WeakMap;Fr=new WeakMap;Wi=new WeakSet;dr=function(){return dt(this,Fr).size?dt(this,Fr):dt(this,Wo)};var dA=(i="")=>i.split(/\s+/),m0=(i="")=>{let[e,t,r]=i.split(":"),s=r?decodeURIComponent(r):void 0;return{kind:e==="cc"?It.CAPTIONS:It.SUBTITLES,language:t,label:s}},Br=(i="",e={})=>dA(i).map(t=>{let r=m0(t);return{...e,...r}}),Lc=i=>i?Array.isArray(i)?i.map(e=>typeof e=="string"?m0(e):e):typeof i=="string"?Br(i):[i]:[],Vo=({kind:i,label:e,language:t}={kind:"subtitles"})=>e?`${i==="captions"?"cc":"sb"}:${t}:${encodeURIComponent(e)}`:t,Vi=(i=[])=>Array.prototype.map.call(i,Vo).join(" "),uA=(i,e)=>t=>t[i]===e,p0=i=>{let e=Object.entries(i).map(([t,r])=>uA(t,r));return t=>e.every(r=>r(t))},$r=(i,e=[],t=[])=>{let r=Lc(t).map(p0),s=n=>r.some(a=>a(n));Array.from(e).filter(s).forEach(n=>{n.mode=i})},Hr=(i,e=()=>!0)=>{if(!(i!=null&&i.textTracks))return[];let t=typeof e=="function"?e:p0(e);return Array.from(i.textTracks).filter(t)},Yo=i=>{var e;return!!((e=i.mediaSubtitlesShowing)!=null&&e.length)||i.hasAttribute(y.MEDIA_SUBTITLES_SHOWING)};var v0=i=>{var e;let{media:t,fullscreenElement:r}=i,s=r&&"requestFullscreen"in r?"requestFullscreen":r&&"webkitRequestFullScreen"in r?"webkitRequestFullScreen":void 0;if(s){let n=(e=r[s])==null?void 0:e.call(r);if(n instanceof Promise)return n.catch(()=>{})}else t!=null&&t.webkitEnterFullscreen?t.webkitEnterFullscreen():t!=null&&t.requestFullscreen&&t.requestFullscreen()},g0="exitFullscreen"in N?"exitFullscreen":"webkitExitFullscreen"in N?"webkitExitFullscreen":"webkitCancelFullScreen"in N?"webkitCancelFullScreen":void 0,E0=i=>{var e;let{documentElement:t}=i;if(g0){let r=(e=t==null?void 0:t[g0])==null?void 0:e.call(t);if(r instanceof Promise)return r.catch(()=>{})}},ea="fullscreenElement"in N?"fullscreenElement":"webkitFullscreenElement"in N?"webkitFullscreenElement":void 0,cA=i=>{let{documentElement:e,media:t}=i,r=e==null?void 0:e[ea];return!r&&"webkitDisplayingFullscreen"in t&&"webkitPresentationMode"in t&&t.webkitDisplayingFullscreen&&t.webkitPresentationMode===jg.FULLSCREEN?t:r},b0=i=>{var e;let{media:t,documentElement:r,fullscreenElement:s=t}=i;if(!t||!r)return!1;let n=cA(i);if(!n)return!1;if(n===s||n===t)return!0;if(n.localName.includes("-")){let a=n.shadowRoot;if(!(ea in a))return St(n,s);for(;a!=null&&a[ea];){if(a[ea]===s)return!0;a=(e=a[ea])==null?void 0:e.shadowRoot}}return!1},hA="fullscreenEnabled"in N?"fullscreenEnabled":"webkitFullscreenEnabled"in N?"webkitFullscreenEnabled":void 0,y0=i=>{let{documentElement:e,media:t}=i;return!!(e!=null&&e[hA])||t&&"webkitSupportsFullscreen"in t};var qo,kc=()=>{var i,e;return qo||(qo=(e=(i=N)==null?void 0:i.createElement)==null?void 0:e.call(i,"video"),qo)},T0=async(i=kc())=>{if(!i)return!1;let e=i.volume;return i.volume=e/2+.1,await Do(0),i.volume!==e},fA=/.*Version\/.*Safari\/.*/.test(x.navigator.userAgent),Cc=(i=kc())=>x.matchMedia("(display-mode: standalone)").matches&&fA?!1:typeof(i==null?void 0:i.requestPictureInPicture)=="function",wc=(i=kc())=>y0({documentElement:N,media:i}),_0=wc(),A0=Cc(),S0=!!x.WebKitPlaybackTargetAvailabilityEvent,x0=!!x.chrome;var qs=i=>Hr(i.media,e=>[It.SUBTITLES,It.CAPTIONS].includes(e.kind)).sort((e,t)=>e.kind>=t.kind?1:-1),Dc=i=>Hr(i.media,e=>e.mode===ar.SHOWING&&[It.SUBTITLES,It.CAPTIONS].includes(e.kind)),jo=(i,e)=>{let t=qs(i),r=Dc(i),s=!!r.length;if(t.length){if(e===!1||s&&e!==!0)$r(ar.DISABLED,t,r);else if(e===!0||!s&&e!==!1){let n=t[0],{options:a}=i;if(!(a!=null&&a.noSubtitlesLangPref)){let u=globalThis.localStorage.getItem("media-chrome-pref-subtitles-lang"),c=u?[u,...globalThis.navigator.languages]:globalThis.navigator.languages,h=t.filter(f=>c.some(m=>f.language.toLowerCase().startsWith(m.split("-")[0]))).sort((f,m)=>{let p=c.findIndex(E=>f.language.toLowerCase().startsWith(E.split("-")[0])),g=c.findIndex(E=>m.language.toLowerCase().startsWith(E.split("-")[0]));return p-g});h[0]&&(n=h[0])}let{language:o,label:l,kind:d}=n;$r(ar.DISABLED,t,r),$r(ar.SHOWING,t,[{language:o,label:l,kind:d}])}}},zo=(i,e)=>i===e?!0:typeof i!=typeof e?!1:typeof i=="number"&&Number.isNaN(i)&&Number.isNaN(e)?!0:typeof i!="object"?!1:Array.isArray(i)?mA(i,e):Object.entries(i).every(([t,r])=>t in e&&zo(r,e[t])),mA=(i,e)=>{let t=Array.isArray(i),r=Array.isArray(e);return t!==r?!1:t||r?i.length!==e.length?!1:i.every((s,n)=>zo(s,e[n])):!0};var pA=Object.values(zt),Xo,gA=T0().then(i=>(Xo=i,Xo)),R0=async(...i)=>{await Promise.all(i.filter(e=>e).map(async e=>{if(!("localName"in e&&e instanceof x.HTMLElement))return;let t=e.localName;if(!t.includes("-"))return;let r=x.customElements.get(t);r&&e instanceof r||(await x.customElements.whenDefined(t),x.customElements.upgrade(e))}))},ta={mediaWidth:{get(i){var e;let{media:t}=i;return(e=t==null?void 0:t.videoWidth)!=null?e:0},mediaEvents:["resize"]},mediaHeight:{get(i){var e;let{media:t}=i;return(e=t==null?void 0:t.videoHeight)!=null?e:0},mediaEvents:["resize"]},mediaPaused:{get(i){var e;let{media:t}=i;return(e=t==null?void 0:t.paused)!=null?e:!0},set(i,e){var t;let{media:r}=e;r&&(i?r.pause():(t=r.play())==null||t.catch(()=>{}))},mediaEvents:["play","playing","pause","emptied"]},mediaHasPlayed:{get(i,e){let{media:t}=i;return t?e?e.type==="playing":!t.paused:!1},mediaEvents:["playing","emptied"]},mediaEnded:{get(i){var e;let{media:t}=i;return(e=t==null?void 0:t.ended)!=null?e:!1},mediaEvents:["seeked","ended","emptied"]},mediaPlaybackRate:{get(i){var e;let{media:t}=i;return(e=t==null?void 0:t.playbackRate)!=null?e:1},set(i,e){let{media:t}=e;t&&Number.isFinite(+i)&&(t.playbackRate=+i)},mediaEvents:["ratechange","loadstart"]},mediaMuted:{get(i){var e;let{media:t}=i;return(e=t==null?void 0:t.muted)!=null?e:!1},set(i,e){let{media:t}=e;t&&(t.muted=i)},mediaEvents:["volumechange"]},mediaVolume:{get(i){var e;let{media:t}=i;return(e=t==null?void 0:t.volume)!=null?e:1},set(i,e){let{media:t}=e;if(t){try{i==null?x.localStorage.removeItem("media-chrome-pref-volume"):x.localStorage.setItem("media-chrome-pref-volume",i.toString())}catch{}Number.isFinite(+i)&&(t.volume=+i)}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(i,e)=>{let{options:{noVolumePref:t}}=e;if(!t)try{let r=x.localStorage.getItem("media-chrome-pref-volume");if(r==null)return;ta.mediaVolume.set(+r,e),i(+r)}catch(r){console.debug("Error getting volume pref",r)}}]},mediaVolumeLevel:{get(i){let{media:e}=i;return typeof(e==null?void 0:e.volume)=="undefined"?"high":e.muted||e.volume===0?"off":e.volume<.5?"low":e.volume<.75?"medium":"high"},mediaEvents:["volumechange"]},mediaCurrentTime:{get(i){var e;let{media:t}=i;return(e=t==null?void 0:t.currentTime)!=null?e:0},set(i,e){let{media:t}=e;!t||!Hs(i)||(t.currentTime=i)},mediaEvents:["timeupdate","loadedmetadata"]},mediaDuration:{get(i){let{media:e,options:{defaultDuration:t}={}}=i;return t&&(!e||!e.duration||Number.isNaN(e.duration)||!Number.isFinite(e.duration))?t:Number.isFinite(e==null?void 0:e.duration)?e.duration:Number.NaN},mediaEvents:["durationchange","loadedmetadata","emptied"]},mediaLoading:{get(i){let{media:e}=i;return(e==null?void 0:e.readyState)<3},mediaEvents:["waiting","playing","emptied"]},mediaSeekable:{get(i){var e;let{media:t}=i;if(!((e=t==null?void 0:t.seekable)!=null&&e.length))return;let r=t.seekable.start(0),s=t.seekable.end(t.seekable.length-1);if(!(!r&&!s))return[Number(r.toFixed(3)),Number(s.toFixed(3))]},mediaEvents:["loadedmetadata","emptied","progress","seekablechange"]},mediaBuffered:{get(i){var e;let{media:t}=i,r=(e=t==null?void 0:t.buffered)!=null?e:[];return Array.from(r).map((s,n)=>[Number(r.start(n).toFixed(3)),Number(r.end(n).toFixed(3))])},mediaEvents:["progress","emptied"]},mediaStreamType:{get(i){let{media:e,options:{defaultStreamType:t}={}}=i,r=[zt.LIVE,zt.ON_DEMAND].includes(t)?t:void 0;if(!e)return r;let{streamType:s}=e;if(pA.includes(s))return s===zt.UNKNOWN?r:s;let n=e.duration;return n===1/0?zt.LIVE:Number.isFinite(n)?zt.ON_DEMAND:r},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange"]},mediaTargetLiveWindow:{get(i){let{media:e}=i;if(!e)return Number.NaN;let{targetLiveWindow:t}=e,r=ta.mediaStreamType.get(i);return(t==null||Number.isNaN(t))&&r===zt.LIVE?0:t},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange","targetlivewindowchange"]},mediaTimeIsLive:{get(i){let{media:e,options:{liveEdgeOffset:t=10}={}}=i;if(!e)return!1;if(typeof e.liveEdgeStart=="number")return Number.isNaN(e.liveEdgeStart)?!1:e.currentTime>=e.liveEdgeStart;if(!(ta.mediaStreamType.get(i)===zt.LIVE))return!1;let s=e.seekable;if(!s)return!0;if(!s.length)return!1;let n=s.end(s.length-1)-t;return e.currentTime>=n},mediaEvents:["playing","timeupdate","progress","waiting","emptied"]},mediaSubtitlesList:{get(i){return qs(i).map(({kind:e,label:t,language:r})=>({kind:e,label:t,language:r}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack"]},mediaSubtitlesShowing:{get(i){return Dc(i).map(({kind:e,label:t,language:r})=>({kind:e,label:t,language:r}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(i,e)=>{var t,r;let{media:s,options:n}=e;if(!s)return;let a=o=>{var l;!n.defaultSubtitles||o&&![It.CAPTIONS,It.SUBTITLES].includes((l=o==null?void 0:o.track)==null?void 0:l.kind)||jo(e,!0)};return(t=s.textTracks)==null||t.addEventListener("addtrack",a),(r=s.textTracks)==null||r.addEventListener("removetrack",a),a(),()=>{var o,l;(o=s.textTracks)==null||o.removeEventListener("addtrack",a),(l=s.textTracks)==null||l.removeEventListener("removetrack",a)}}]},mediaChaptersCues:{get(i){var e;let{media:t}=i;if(!t)return[];let[r]=Hr(t,{kind:It.CHAPTERS});return Array.from((e=r==null?void 0:r.cues)!=null?e:[]).map(({text:s,startTime:n,endTime:a})=>({text:s,startTime:n,endTime:a}))},mediaEvents:["loadstart","loadedmetadata"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(i,e)=>{var t;let{media:r}=e;if(!r)return;let s=r.querySelector('track[kind="chapters"][default][src]'),n=(t=r.shadowRoot)==null?void 0:t.querySelector(':is(video,audio) > track[kind="chapters"][default][src]');return s==null||s.addEventListener("load",i),n==null||n.addEventListener("load",i),()=>{s==null||s.removeEventListener("load",i),n==null||n.removeEventListener("load",i)}}]},mediaIsPip:{get(i){var e,t;let{media:r,documentElement:s}=i;if(!r||!s||!s.pictureInPictureElement)return!1;if(s.pictureInPictureElement===r)return!0;if(s.pictureInPictureElement instanceof HTMLMediaElement)return(e=r.localName)!=null&&e.includes("-")?St(r,s.pictureInPictureElement):!1;if(s.pictureInPictureElement.localName.includes("-")){let n=s.pictureInPictureElement.shadowRoot;for(;n!=null&&n.pictureInPictureElement;){if(n.pictureInPictureElement===r)return!0;n=(t=n.pictureInPictureElement)==null?void 0:t.shadowRoot}}return!1},set(i,e){let{media:t}=e;if(t)if(i){if(!N.pictureInPictureEnabled){console.warn("MediaChrome: Picture-in-picture is not enabled");return}if(!t.requestPictureInPicture){console.warn("MediaChrome: The current media does not support picture-in-picture");return}let r=()=>{console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a readyState > 0.")};t.requestPictureInPicture().catch(s=>{if(s.code===11){if(!t.src){console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a src set.");return}if(t.readyState===0&&t.preload==="none"){let n=()=>{t.removeEventListener("loadedmetadata",a),t.preload="none"},a=()=>{t.requestPictureInPicture().catch(r),n()};t.addEventListener("loadedmetadata",a),t.preload="metadata",setTimeout(()=>{t.readyState===0&&r(),n()},1e3)}else throw s}else throw s})}else N.pictureInPictureElement&&N.exitPictureInPicture()},mediaEvents:["enterpictureinpicture","leavepictureinpicture"]},mediaRenditionList:{get(i){var e;let{media:t}=i;return[...(e=t==null?void 0:t.videoRenditions)!=null?e:[]].map(r=>({...r}))},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaRenditionSelected:{get(i){var e,t,r;let{media:s}=i;return(r=(t=s==null?void 0:s.videoRenditions)==null?void 0:t[(e=s.videoRenditions)==null?void 0:e.selectedIndex])==null?void 0:r.id},set(i,e){let{media:t}=e;if(!(t!=null&&t.videoRenditions)){console.warn("MediaController: Rendition selection not supported by this media.");return}let r=i,s=Array.prototype.findIndex.call(t.videoRenditions,n=>n.id==r);t.videoRenditions.selectedIndex!=s&&(t.videoRenditions.selectedIndex=s)},mediaEvents:["emptied"],videoRenditionsEvents:["addrendition","removerendition","change"]},mediaAudioTrackList:{get(i){var e;let{media:t}=i;return[...(e=t==null?void 0:t.audioTracks)!=null?e:[]]},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaAudioTrackEnabled:{get(i){var e,t;let{media:r}=i;return(t=[...(e=r==null?void 0:r.audioTracks)!=null?e:[]].find(s=>s.enabled))==null?void 0:t.id},set(i,e){let{media:t}=e;if(!(t!=null&&t.audioTracks)){console.warn("MediaChrome: Audio track selection not supported by this media.");return}let r=i;for(let s of t.audioTracks)s.enabled=r==s.id},mediaEvents:["emptied"],audioTracksEvents:["addtrack","removetrack","change"]},mediaIsFullscreen:{get(i){return b0(i)},set(i,e){i?v0(e):E0(e)},rootEvents:["fullscreenchange","webkitfullscreenchange"],mediaEvents:["webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"]},mediaIsCasting:{get(i){var e;let{media:t}=i;return!(t!=null&&t.remote)||((e=t.remote)==null?void 0:e.state)==="disconnected"?!1:!!t.remote.state},set(i,e){var t,r;let{media:s}=e;if(s&&!(i&&((t=s.remote)==null?void 0:t.state)!=="disconnected")&&!(!i&&((r=s.remote)==null?void 0:r.state)!=="connected")){if(typeof s.remote.prompt!="function"){console.warn("MediaChrome: Casting is not supported in this environment");return}s.remote.prompt().catch(()=>{})}},remoteEvents:["connect","connecting","disconnect"]},mediaIsAirplaying:{get(){return!1},set(i,e){let{media:t}=e;if(t){if(!(t.webkitShowPlaybackTargetPicker&&x.WebKitPlaybackTargetAvailabilityEvent)){console.warn("MediaChrome: received a request to select AirPlay but AirPlay is not supported in this environment");return}t.webkitShowPlaybackTargetPicker()}},mediaEvents:["webkitcurrentplaybacktargetiswirelesschanged"]},mediaFullscreenUnavailable:{get(i){let{media:e}=i;if(!_0||!wc(e))return Ft.UNSUPPORTED}},mediaPipUnavailable:{get(i){let{media:e}=i;if(!A0||!Cc(e))return Ft.UNSUPPORTED}},mediaVolumeUnavailable:{get(i){let{media:e}=i;if(Xo===!1||(e==null?void 0:e.volume)==null)return Ft.UNSUPPORTED},stateOwnersUpdateHandlers:[i=>{Xo==null&&gA.then(e=>i(e?void 0:Ft.UNSUPPORTED))}]},mediaCastUnavailable:{get(i,{availability:e="not-available"}={}){var t;let{media:r}=i;if(!x0||!((t=r==null?void 0:r.remote)!=null&&t.state))return Ft.UNSUPPORTED;if(!(e==null||e==="available"))return Ft.UNAVAILABLE},stateOwnersUpdateHandlers:[(i,e)=>{var t;let{media:r}=e;return r?(r.disableRemotePlayback||r.hasAttribute("disableremoteplayback")||(t=r==null?void 0:r.remote)==null||t.watchAvailability(n=>{i({availability:n?"available":"not-available"})}).catch(n=>{n.name==="NotSupportedError"?i({availability:null}):i({availability:"not-available"})}),()=>{var n;(n=r==null?void 0:r.remote)==null||n.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaAirplayUnavailable:{get(i,e){if(!S0)return Ft.UNSUPPORTED;if((e==null?void 0:e.availability)==="not-available")return Ft.UNAVAILABLE},mediaEvents:["webkitplaybacktargetavailabilitychanged"],stateOwnersUpdateHandlers:[(i,e)=>{var t;let{media:r}=e;return r?(r.disableRemotePlayback||r.hasAttribute("disableremoteplayback")||(t=r==null?void 0:r.remote)==null||t.watchAvailability(n=>{i({availability:n?"available":"not-available"})}).catch(n=>{n.name==="NotSupportedError"?i({availability:null}):i({availability:"not-available"})}),()=>{var n;(n=r==null?void 0:r.remote)==null||n.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaRenditionUnavailable:{get(i){var e;let{media:t}=i;if(!(t!=null&&t.videoRenditions))return Ft.UNSUPPORTED;if(!((e=t.videoRenditions)!=null&&e.length))return Ft.UNAVAILABLE},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaAudioTrackUnavailable:{get(i){var e,t;let{media:r}=i;if(!(r!=null&&r.audioTracks))return Ft.UNSUPPORTED;if(((t=(e=r.audioTracks)==null?void 0:e.length)!=null?t:0)<=1)return Ft.UNAVAILABLE},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]}};var I0={[$.MEDIA_PREVIEW_REQUEST](i,e,{detail:t}){var r,s,n;let{media:a}=e,o=t!=null?t:void 0,l,d;if(a&&o!=null){let[f]=Hr(a,{kind:It.METADATA,label:"thumbnails"}),m=Array.prototype.find.call((r=f==null?void 0:f.cues)!=null?r:[],(p,g,E)=>g===0?p.endTime>o:g===E.length-1?p.startTime<=o:p.startTime<=o&&p.endTime>o);if(m){let p=/'^(?:[a-z]+:)?\/\//i.test(m.text)||(s=a==null?void 0:a.querySelector('track[label="thumbnails"]'))==null?void 0:s.src,g=new URL(m.text,p);d=new URLSearchParams(g.hash).get("#xywh").split(",").map(b=>+b),l=g.href}}let u=i.mediaDuration.get(e),h=(n=i.mediaChaptersCues.get(e).find((f,m,p)=>m===p.length-1&&u===f.endTime?f.startTime<=o&&f.endTime>=o:f.startTime<=o&&f.endTime>o))==null?void 0:n.text;return t!=null&&h==null&&(h=""),{mediaPreviewTime:o,mediaPreviewImage:l,mediaPreviewCoords:d,mediaPreviewChapter:h}},[$.MEDIA_PAUSE_REQUEST](i,e){i["mediaPaused"].set(!0,e)},[$.MEDIA_PLAY_REQUEST](i,e){var t;let r="mediaPaused";if(i.mediaStreamType.get(e)===zt.LIVE){let a=!(i.mediaTargetLiveWindow.get(e)>0),o=(t=i.mediaSeekable.get(e))==null?void 0:t[1];a&&o&&i.mediaCurrentTime.set(o,e)}i[r].set(!1,e)},[$.MEDIA_PLAYBACK_RATE_REQUEST](i,e,{detail:t}){let r="mediaPlaybackRate",s=t;i[r].set(s,e)},[$.MEDIA_MUTE_REQUEST](i,e){i["mediaMuted"].set(!0,e)},[$.MEDIA_UNMUTE_REQUEST](i,e){let t="mediaMuted";i.mediaVolume.get(e)||i.mediaVolume.set(.25,e),i[t].set(!1,e)},[$.MEDIA_VOLUME_REQUEST](i,e,{detail:t}){let r="mediaVolume",s=t;s&&i.mediaMuted.get(e)&&i.mediaMuted.set(!1,e),i[r].set(s,e)},[$.MEDIA_SEEK_REQUEST](i,e,{detail:t}){let r="mediaCurrentTime",s=t;i[r].set(s,e)},[$.MEDIA_SEEK_TO_LIVE_REQUEST](i,e){var t;let r="mediaCurrentTime",s=(t=i.mediaSeekable.get(e))==null?void 0:t[1];Number.isNaN(Number(s))||i[r].set(s,e)},[$.MEDIA_SHOW_SUBTITLES_REQUEST](i,e,{detail:t}){var r;let{options:s}=e,n=qs(e),a=Lc(t),o=(r=a[0])==null?void 0:r.language;o&&!s.noSubtitlesLangPref&&x.localStorage.setItem("media-chrome-pref-subtitles-lang",o),$r(ar.SHOWING,n,a)},[$.MEDIA_DISABLE_SUBTITLES_REQUEST](i,e,{detail:t}){let r=qs(e),s=t!=null?t:[];$r(ar.DISABLED,r,s)},[$.MEDIA_TOGGLE_SUBTITLES_REQUEST](i,e,{detail:t}){jo(e,t)},[$.MEDIA_RENDITION_REQUEST](i,e,{detail:t}){let r="mediaRenditionSelected",s=t;i[r].set(s,e)},[$.MEDIA_AUDIO_TRACK_REQUEST](i,e,{detail:t}){let r="mediaAudioTrackEnabled",s=t;i[r].set(s,e)},[$.MEDIA_ENTER_PIP_REQUEST](i,e){let t="mediaIsPip";i.mediaIsFullscreen.get(e)&&i.mediaIsFullscreen.set(!1,e),i[t].set(!0,e)},[$.MEDIA_EXIT_PIP_REQUEST](i,e){i["mediaIsPip"].set(!1,e)},[$.MEDIA_ENTER_FULLSCREEN_REQUEST](i,e){let t="mediaIsFullscreen";i.mediaIsPip.get(e)&&i.mediaIsPip.set(!1,e),i[t].set(!0,e)},[$.MEDIA_EXIT_FULLSCREEN_REQUEST](i,e){i["mediaIsFullscreen"].set(!1,e)},[$.MEDIA_ENTER_CAST_REQUEST](i,e){let t="mediaIsCasting";i.mediaIsFullscreen.get(e)&&i.mediaIsFullscreen.set(!1,e),i[t].set(!0,e)},[$.MEDIA_EXIT_CAST_REQUEST](i,e){i["mediaIsCasting"].set(!1,e)},[$.MEDIA_AIRPLAY_REQUEST](i,e){i["mediaIsAirplaying"].set(!0,e)}};var vA=({media:i,fullscreenElement:e,documentElement:t,stateMediator:r=ta,requestMap:s=I0,options:n={},monitorStateOwnersOnlyWithSubscriptions:a=!0})=>{let o=[],l={options:{...n}},d=Object.freeze({mediaPreviewTime:void 0,mediaPreviewImage:void 0,mediaPreviewCoords:void 0,mediaPreviewChapter:void 0}),u=p=>{p!=null&&(zo(p,d)||(d=Object.freeze({...d,...p}),o.forEach(g=>g(d))))},c=()=>{let p=Object.entries(r).reduce((g,[E,{get:b}])=>(g[E]=b(l),g),{});u(p)},h={},f,m=async(p,g)=>{var E,b,T,_,A,R,S,C,P,k,M,B,F,X,Q,V;let ne=!!f;if(f={...l,...f!=null?f:{},...p},ne)return;await R0(...Object.values(p));let le=o.length>0&&g===0&&a,W=l.media!==f.media,G=((E=l.media)==null?void 0:E.textTracks)!==((b=f.media)==null?void 0:b.textTracks),ae=((T=l.media)==null?void 0:T.videoRenditions)!==((_=f.media)==null?void 0:_.videoRenditions),Z=((A=l.media)==null?void 0:A.audioTracks)!==((R=f.media)==null?void 0:R.audioTracks),Ee=((S=l.media)==null?void 0:S.remote)!==((C=f.media)==null?void 0:C.remote),Fe=l.documentElement!==f.documentElement,We=!!l.media&&(W||le),ze=!!((P=l.media)!=null&&P.textTracks)&&(G||le),At=!!((k=l.media)!=null&&k.videoRenditions)&&(ae||le),nr=!!((M=l.media)!=null&&M.audioTracks)&&(Z||le),Fs=!!((B=l.media)!=null&&B.remote)&&(Ee||le),Pg=!!l.documentElement&&(Fe||le),Og=We||ze||At||nr||Fs||Pg,Bs=o.length===0&&g===1&&a,Ng=!!f.media&&(W||Bs),Ug=!!((F=f.media)!=null&&F.textTracks)&&(G||Bs),Fg=!!((X=f.media)!=null&&X.videoRenditions)&&(ae||Bs),Bg=!!((Q=f.media)!=null&&Q.audioTracks)&&(Z||Bs),$g=!!((V=f.media)!=null&&V.remote)&&(Ee||Bs),Hg=!!f.documentElement&&(Fe||Bs),Gg=Ng||Ug||Fg||Bg||$g||Hg;if(!(Og||Gg)){Object.entries(f).forEach(([ke,Kn])=>{l[ke]=Kn}),c(),f=void 0;return}Object.entries(r).forEach(([ke,{get:Kn,mediaEvents:O_=[],textTracksEvents:N_=[],videoRenditionsEvents:U_=[],audioTracksEvents:F_=[],remoteEvents:B_=[],rootEvents:$_=[],stateOwnersUpdateHandlers:H_=[]}])=>{h[ke]||(h[ke]={});let Ot=Qe=>{let Nt=Kn(l,Qe);u({[ke]:Nt})},lt;lt=h[ke].mediaEvents,O_.forEach(Qe=>{lt&&We&&(l.media.removeEventListener(Qe,lt),h[ke].mediaEvents=void 0),Ng&&(f.media.addEventListener(Qe,Ot),h[ke].mediaEvents=Ot)}),lt=h[ke].textTracksEvents,N_.forEach(Qe=>{var Nt,jt;lt&&ze&&((Nt=l.media.textTracks)==null||Nt.removeEventListener(Qe,lt),h[ke].textTracksEvents=void 0),Ug&&((jt=f.media.textTracks)==null||jt.addEventListener(Qe,Ot),h[ke].textTracksEvents=Ot)}),lt=h[ke].videoRenditionsEvents,U_.forEach(Qe=>{var Nt,jt;lt&&At&&((Nt=l.media.videoRenditions)==null||Nt.removeEventListener(Qe,lt),h[ke].videoRenditionsEvents=void 0),Fg&&((jt=f.media.videoRenditions)==null||jt.addEventListener(Qe,Ot),h[ke].videoRenditionsEvents=Ot)}),lt=h[ke].audioTracksEvents,F_.forEach(Qe=>{var Nt,jt;lt&&nr&&((Nt=l.media.audioTracks)==null||Nt.removeEventListener(Qe,lt),h[ke].audioTracksEvents=void 0),Bg&&((jt=f.media.audioTracks)==null||jt.addEventListener(Qe,Ot),h[ke].audioTracksEvents=Ot)}),lt=h[ke].remoteEvents,B_.forEach(Qe=>{var Nt,jt;lt&&Fs&&((Nt=l.media.remote)==null||Nt.removeEventListener(Qe,lt),h[ke].remoteEvents=void 0),$g&&((jt=f.media.remote)==null||jt.addEventListener(Qe,Ot),h[ke].remoteEvents=Ot)}),lt=h[ke].rootEvents,$_.forEach(Qe=>{lt&&Pg&&(l.documentElement.removeEventListener(Qe,lt),h[ke].rootEvents=void 0),Hg&&(f.documentElement.addEventListener(Qe,Ot),h[ke].rootEvents=Ot)});let Kg=h[ke].stateOwnersUpdateHandlers;H_.forEach(Qe=>{Kg&&Og&&Kg(),Gg&&(h[ke].stateOwnersUpdateHandlers=Qe(Ot,f))})}),Object.entries(f).forEach(([ke,Kn])=>{l[ke]=Kn}),c(),f=void 0};return m({media:i,fullscreenElement:e,documentElement:t,options:n}),{dispatch(p){let{type:g,detail:E}=p;if(s[g]){u(s[g](r,l,p));return}g==="mediaelementchangerequest"?m({media:E}):g==="fullscreenelementchangerequest"?m({fullscreenElement:E}):g==="documentelementchangerequest"?m({documentElement:E}):g==="optionschangerequest"&&Object.entries(E!=null?E:{}).forEach(([b,T])=>{l.options[b]=T})},getState(){return d},subscribe(p){return m({},o.length+1),o.push(p),p(d),()=>{let g=o.indexOf(p);g>=0&&(m({},o.length-1),o.splice(g,1))}}}},L0=vA;var Nc=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},he=(i,e,t)=>(Nc(i,e,"read from private field"),t?t.call(i):e.get(i)),Yi=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},ur=(i,e,t,r)=>(Nc(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),cr=(i,e,t)=>(Nc(i,e,"access private method"),t),hr,ia,Be,ra,hi,Qo,Zo,Mc,js,sa,Jo,Pc,M0=["ArrowLeft","ArrowRight","Enter"," ","f","m","k","c"],k0=10,be={DEFAULT_SUBTITLES:"defaultsubtitles",DEFAULT_STREAM_TYPE:"defaultstreamtype",DEFAULT_DURATION:"defaultduration",FULLSCREEN_ELEMENT:"fullscreenelement",HOTKEYS:"hotkeys",KEYS_USED:"keysused",LIVE_EDGE_OFFSET:"liveedgeoffset",NO_AUTO_SEEK_TO_LIVE:"noautoseektolive",NO_HOTKEYS:"nohotkeys",NO_VOLUME_PREF:"novolumepref",NO_SUBTITLES_LANG_PREF:"nosubtitleslangpref",NO_DEFAULT_STORE:"nodefaultstore",KEYBOARD_FORWARD_SEEK_OFFSET:"keyboardforwardseekoffset",KEYBOARD_BACKWARD_SEEK_OFFSET:"keyboardbackwardseekoffset"},el=class extends Zn{constructor(){super(),Yi(this,Zo),Yi(this,js),Yi(this,Jo),this.mediaStateReceivers=[],this.associatedElementSubscriptions=new Map,Yi(this,hr,new ci(this,be.HOTKEYS)),Yi(this,ia,void 0),Yi(this,Be,void 0),Yi(this,ra,void 0),Yi(this,hi,void 0),Yi(this,Qo,t=>{var r;(r=he(this,Be))==null||r.dispatch(t)}),this.associateElement(this);let e={};ur(this,ra,t=>{Object.entries(t).forEach(([r,s])=>{if(r in e&&e[r]===s)return;this.propagateMediaState(r,s);let n=r.toLowerCase(),a=new x.CustomEvent(qg[n],{composed:!0,detail:s});this.dispatchEvent(a)}),e=t}),this.enableHotkeys()}static get observedAttributes(){return super.observedAttributes.concat(be.NO_HOTKEYS,be.HOTKEYS,be.DEFAULT_STREAM_TYPE,be.DEFAULT_SUBTITLES,be.DEFAULT_DURATION)}get mediaStore(){return he(this,Be)}set mediaStore(e){var t,r;if(he(this,Be)&&((t=he(this,hi))==null||t.call(this),ur(this,hi,void 0)),ur(this,Be,e),!he(this,Be)&&!this.hasAttribute(be.NO_DEFAULT_STORE)){cr(this,Zo,Mc).call(this);return}ur(this,hi,(r=he(this,Be))==null?void 0:r.subscribe(he(this,ra)))}get fullscreenElement(){var e;return(e=he(this,ia))!=null?e:this}set fullscreenElement(e){var t;this.hasAttribute(be.FULLSCREEN_ELEMENT)&&this.removeAttribute(be.FULLSCREEN_ELEMENT),ur(this,ia,e),(t=he(this,Be))==null||t.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}attributeChangedCallback(e,t,r){var s,n,a,o,l,d;if(super.attributeChangedCallback(e,t,r),e===be.NO_HOTKEYS)r!==t&&r===""?(this.hasAttribute(be.HOTKEYS)&&console.warn("Media Chrome: Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled."),this.disableHotkeys()):r!==t&&r===null&&this.enableHotkeys();else if(e===be.HOTKEYS)he(this,hr).value=r;else if(e===be.DEFAULT_SUBTITLES&&r!==t)(s=he(this,Be))==null||s.dispatch({type:"optionschangerequest",detail:{defaultSubtitles:this.hasAttribute(be.DEFAULT_SUBTITLES)}});else if(e===be.DEFAULT_STREAM_TYPE)(a=he(this,Be))==null||a.dispatch({type:"optionschangerequest",detail:{defaultStreamType:(n=this.getAttribute(be.DEFAULT_STREAM_TYPE))!=null?n:void 0}});else if(e===be.LIVE_EDGE_OFFSET)(o=he(this,Be))==null||o.dispatch({type:"optionschangerequest",detail:{liveEdgeOffset:this.hasAttribute(be.LIVE_EDGE_OFFSET)?+this.getAttribute(be.LIVE_EDGE_OFFSET):void 0}});else if(e===be.FULLSCREEN_ELEMENT){let u=r?(l=this.getRootNode())==null?void 0:l.getElementById(r):void 0;ur(this,ia,u),(d=he(this,Be))==null||d.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}}connectedCallback(){var e,t;!he(this,Be)&&!this.hasAttribute(be.NO_DEFAULT_STORE)&&cr(this,Zo,Mc).call(this),(e=he(this,Be))==null||e.dispatch({type:"documentelementchangerequest",detail:N}),super.connectedCallback(),he(this,Be)&&!he(this,hi)&&ur(this,hi,(t=he(this,Be))==null?void 0:t.subscribe(he(this,ra))),this.enableHotkeys()}disconnectedCallback(){var e,t,r,s;(e=super.disconnectedCallback)==null||e.call(this),he(this,Be)&&((t=he(this,Be))==null||t.dispatch({type:"documentelementchangerequest",detail:void 0}),(r=he(this,Be))==null||r.dispatch({type:$.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:!1})),he(this,hi)&&((s=he(this,hi))==null||s.call(this),ur(this,hi,void 0))}mediaSetCallback(e){var t;super.mediaSetCallback(e),(t=he(this,Be))==null||t.dispatch({type:"mediaelementchangerequest",detail:e}),e.hasAttribute("tabindex")||(e.tabIndex=-1)}mediaUnsetCallback(e){var t;super.mediaUnsetCallback(e),(t=he(this,Be))==null||t.dispatch({type:"mediaelementchangerequest",detail:void 0})}propagateMediaState(e,t){D0(this.mediaStateReceivers,e,t)}associateElement(e){if(!e)return;let{associatedElementSubscriptions:t}=this;if(t.has(e))return;let r=this.registerMediaStateReceiver.bind(this),s=this.unregisterMediaStateReceiver.bind(this),n=AA(e,r,s);Object.values($).forEach(a=>{e.addEventListener(a,he(this,Qo))}),t.set(e,n)}unassociateElement(e){if(!e)return;let{associatedElementSubscriptions:t}=this;if(!t.has(e))return;t.get(e)(),t.delete(e),Object.values($).forEach(s=>{e.removeEventListener(s,he(this,Qo))})}registerMediaStateReceiver(e){if(!e)return;let t=this.mediaStateReceivers;t.indexOf(e)>-1||(t.push(e),he(this,Be)&&Object.entries(he(this,Be).getState()).forEach(([s,n])=>{D0([e],s,n)}))}unregisterMediaStateReceiver(e){let t=this.mediaStateReceivers,r=t.indexOf(e);r<0||t.splice(r,1)}enableHotkeys(){this.addEventListener("keydown",cr(this,Jo,Pc))}disableHotkeys(){this.removeEventListener("keydown",cr(this,Jo,Pc)),this.removeEventListener("keyup",cr(this,js,sa))}get hotkeys(){return he(this,hr)}keyboardShortcutHandler(e){var t,r,s,n,a;let o=e.target;if(((s=(r=(t=o.getAttribute(be.KEYS_USED))==null?void 0:t.split(" "))!=null?r:o==null?void 0:o.keysUsed)!=null?s:[]).map(h=>h==="Space"?" ":h).filter(Boolean).includes(e.key))return;let d,u,c;if(!he(this,hr).contains(`no${e.key.toLowerCase()}`)&&!(e.key===" "&&he(this,hr).contains("nospace")))switch(e.key){case" ":case"k":d=he(this,Be).getState().mediaPaused?$.MEDIA_PLAY_REQUEST:$.MEDIA_PAUSE_REQUEST,this.dispatchEvent(new x.CustomEvent(d,{composed:!0,bubbles:!0}));break;case"m":d=this.mediaStore.getState().mediaVolumeLevel==="off"?$.MEDIA_UNMUTE_REQUEST:$.MEDIA_MUTE_REQUEST,this.dispatchEvent(new x.CustomEvent(d,{composed:!0,bubbles:!0}));break;case"f":d=this.mediaStore.getState().mediaIsFullscreen?$.MEDIA_EXIT_FULLSCREEN_REQUEST:$.MEDIA_ENTER_FULLSCREEN_REQUEST,this.dispatchEvent(new x.CustomEvent(d,{composed:!0,bubbles:!0}));break;case"c":this.dispatchEvent(new x.CustomEvent($.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}));break;case"ArrowLeft":{let h=this.hasAttribute(be.KEYBOARD_BACKWARD_SEEK_OFFSET)?+this.getAttribute(be.KEYBOARD_BACKWARD_SEEK_OFFSET):k0;u=Math.max(((n=this.mediaStore.getState().mediaCurrentTime)!=null?n:0)-h,0),c=new x.CustomEvent($.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:u}),this.dispatchEvent(c);break}case"ArrowRight":{let h=this.hasAttribute(be.KEYBOARD_FORWARD_SEEK_OFFSET)?+this.getAttribute(be.KEYBOARD_FORWARD_SEEK_OFFSET):k0;u=Math.max(((a=this.mediaStore.getState().mediaCurrentTime)!=null?a:0)+h,0),c=new x.CustomEvent($.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:u}),this.dispatchEvent(c);break}default:break}}};hr=new WeakMap;ia=new WeakMap;Be=new WeakMap;ra=new WeakMap;hi=new WeakMap;Qo=new WeakMap;Zo=new WeakSet;Mc=function(){var i;this.mediaStore=L0({media:this.media,fullscreenElement:this.fullscreenElement,options:{defaultSubtitles:this.hasAttribute(be.DEFAULT_SUBTITLES),defaultDuration:this.hasAttribute(be.DEFAULT_DURATION)?+this.getAttribute(be.DEFAULT_DURATION):void 0,defaultStreamType:(i=this.getAttribute(be.DEFAULT_STREAM_TYPE))!=null?i:void 0,liveEdgeOffset:this.hasAttribute(be.LIVE_EDGE_OFFSET)?+this.getAttribute(be.LIVE_EDGE_OFFSET):void 0,noVolumePref:this.hasAttribute(be.NO_VOLUME_PREF),noSubtitlesLangPref:this.hasAttribute(be.NO_SUBTITLES_LANG_PREF)}})};js=new WeakSet;sa=function(i){let{key:e}=i;if(!M0.includes(e)){this.removeEventListener("keyup",cr(this,js,sa));return}this.keyboardShortcutHandler(i)};Jo=new WeakSet;Pc=function(i){let{metaKey:e,altKey:t,key:r}=i;if(e||t||!M0.includes(r)){this.removeEventListener("keyup",cr(this,js,sa));return}[" ","ArrowLeft","ArrowRight"].includes(r)&&!(he(this,hr).contains(`no${r.toLowerCase()}`)||r===" "&&he(this,hr).contains("nospace"))&&i.preventDefault(),this.addEventListener("keyup",cr(this,js,sa),{once:!0})};var EA=Object.values(y),bA=Object.values(vc),P0=i=>{var e,t,r,s;let{observedAttributes:n}=i.constructor;!n&&((e=i.nodeName)!=null&&e.includes("-"))&&(x.customElements.upgrade(i),{observedAttributes:n}=i.constructor);let a=(s=(r=(t=i==null?void 0:i.getAttribute)==null?void 0:t.call(i,ue.MEDIA_CHROME_ATTRIBUTES))==null?void 0:r.split)==null?void 0:s.call(r,/\s+/);return Array.isArray(n||a)?(n||a).filter(o=>EA.includes(o)):[]},yA=i=>{var e,t;return(e=i.nodeName)!=null&&e.includes("-")&&x.customElements.get((t=i.nodeName)==null?void 0:t.toLowerCase())&&!(i instanceof x.customElements.get(i.nodeName.toLowerCase()))&&x.customElements.upgrade(i),bA.some(r=>r in i)},Oc=i=>yA(i)||!!P0(i).length,C0=i=>{var e;return(e=i==null?void 0:i.join)==null?void 0:e.call(i,":")},w0={[y.MEDIA_SUBTITLES_LIST]:Vi,[y.MEDIA_SUBTITLES_SHOWING]:Vi,[y.MEDIA_SEEKABLE]:C0,[y.MEDIA_BUFFERED]:i=>i==null?void 0:i.map(C0).join(" "),[y.MEDIA_PREVIEW_COORDS]:i=>i==null?void 0:i.join(" "),[y.MEDIA_RENDITION_LIST]:zg,[y.MEDIA_AUDIO_TRACK_LIST]:Qg},TA=async(i,e,t)=>{var r,s;if(i.isConnected||await Do(0),typeof t=="boolean"||t==null)return Se(i,e,t);if(typeof t=="number")return Te(i,e,t);if(typeof t=="string")return fe(i,e,t);if(Array.isArray(t)&&!t.length)return i.removeAttribute(e);let n=(s=(r=w0[e])==null?void 0:r.call(w0,t))!=null?s:t;return i.setAttribute(e,n)},_A=i=>{var e;return!!((e=i.closest)!=null&&e.call(i,'*[slot="media"]'))},Gr=(i,e)=>{if(_A(i))return;let t=(s,n)=>{var a,o;Oc(s)&&n(s);let{children:l=[]}=s!=null?s:{},d=(o=(a=s==null?void 0:s.shadowRoot)==null?void 0:a.children)!=null?o:[];[...l,...d].forEach(c=>Gr(c,n))},r=i==null?void 0:i.nodeName.toLowerCase();if(r.includes("-")&&!Oc(i)){x.customElements.whenDefined(r).then(()=>{t(i,e)});return}t(i,e)},D0=(i,e,t)=>{i.forEach(r=>{if(e in r){r[e]=t;return}let s=P0(r),n=e.toLowerCase();s.includes(n)&&TA(r,n,t)})},AA=(i,e,t)=>{Gr(i,e);let r=u=>{var c;let h=(c=u==null?void 0:u.composedPath()[0])!=null?c:u.target;e(h)},s=u=>{var c;let h=(c=u==null?void 0:u.composedPath()[0])!=null?c:u.target;t(h)};i.addEventListener($.REGISTER_MEDIA_STATE_RECEIVER,r),i.addEventListener($.UNREGISTER_MEDIA_STATE_RECEIVER,s);let n=u=>{u.forEach(c=>{let{addedNodes:h=[],removedNodes:f=[],type:m,target:p,attributeName:g}=c;m==="childList"?(Array.prototype.forEach.call(h,E=>Gr(E,e)),Array.prototype.forEach.call(f,E=>Gr(E,t))):m==="attributes"&&g===ue.MEDIA_CHROME_ATTRIBUTES&&(Oc(p)?e(p):t(p))})},a=[],o=u=>{let c=u.target;c.name!=="media"&&(a.forEach(h=>Gr(h,t)),a=[...c.assignedElements({flatten:!0})],a.forEach(h=>Gr(h,e)))};i.addEventListener("slotchange",o);let l=new MutationObserver(n);return l.observe(i,{childList:!0,attributes:!0,subtree:!0}),()=>{Gr(i,t),i.removeEventListener("slotchange",o),l.disconnect(),i.removeEventListener($.REGISTER_MEDIA_STATE_RECEIVER,r),i.removeEventListener($.UNREGISTER_MEDIA_STATE_RECEIVER,s)}};x.customElements.get("media-controller")||x.customElements.define("media-controller",el);var Uc=el;var Bc=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},Je=(i,e,t)=>(Bc(i,e,"read from private field"),t?t.call(i):e.get(i)),zs=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},tl=(i,e,t,r)=>(Bc(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),SA=(i,e,t)=>(Bc(i,e,"access private method"),t),fi,Qs,fr,Xs,rl,Fc,O0,il={TOOLTIP_PLACEMENT:"tooltipplacement"},N0=N.createElement("template");N0.innerHTML=`
<style>
  :host {
    position: relative;
    font: var(--media-font,
      var(--media-font-weight, bold)
      var(--media-font-size, 14px) /
      var(--media-text-content-height, var(--media-control-height, 24px))
      var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
    color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
    background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
    padding: var(--media-button-padding, var(--media-control-padding, 10px));
    justify-content: var(--media-button-justify-content, center);
    display: inline-flex;
    align-items: center;
    vertical-align: middle;
    box-sizing: border-box;
    transition: background .15s linear;
    pointer-events: auto;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
  }

  
  :host(:focus-visible) {
    box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
    outline: 0;
  }
  
  :host(:where(:focus)) {
    box-shadow: none;
    outline: 0;
  }

  :host(:hover) {
    background: var(--media-control-hover-background, rgba(50 50 70 / .7));
  }

  svg, img, ::slotted(svg), ::slotted(img) {
    width: var(--media-button-icon-width);
    height: var(--media-button-icon-height, var(--media-control-height, 24px));
    transform: var(--media-button-icon-transform);
    transition: var(--media-button-icon-transition);
    fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
    vertical-align: middle;
    max-width: 100%;
    max-height: 100%;
    min-width: 100%;
  }

  media-tooltip {
    
    max-width: 0;
    overflow-x: clip;
    opacity: 0;
    transition: opacity .3s, max-width 0s 9s;
  }

  :host(:hover) media-tooltip,
  :host(:focus-visible) media-tooltip {
    max-width: 100vw;
    opacity: 1;
    transition: opacity .3s;
  }

  :host([notooltip]) slot[name="tooltip"] {
    display: none;
  }
</style>

<slot name="tooltip">
  <media-tooltip part="tooltip" aria-hidden="true">
    <slot name="tooltip-content"></slot>
  </media-tooltip>
</slot>
`;var Ce=class extends x.HTMLElement{constructor(e={}){var t;if(super(),zs(this,Fc),zs(this,fi,void 0),this.preventClick=!1,this.tooltipEl=null,this.tooltipContent="",zs(this,Qs,r=>{this.preventClick||this.handleClick(r),setTimeout(Je(this,fr),0)}),zs(this,fr,()=>{var r,s;(s=(r=this.tooltipEl)==null?void 0:r.updateXOffset)==null||s.call(r)}),zs(this,Xs,r=>{let{key:s}=r;if(!this.keysUsed.includes(s)){this.removeEventListener("keyup",Je(this,Xs));return}this.preventClick||this.handleClick(r)}),zs(this,rl,r=>{let{metaKey:s,altKey:n,key:a}=r;if(s||n||!this.keysUsed.includes(a)){this.removeEventListener("keyup",Je(this,Xs));return}this.addEventListener("keyup",Je(this,Xs),{once:!0})}),!this.shadowRoot){this.attachShadow({mode:"open"});let r=N0.content.cloneNode(!0);this.nativeEl=r;let s=e.slotTemplate;s||(s=N.createElement("template"),s.innerHTML=`<slot>${e.defaultContent||""}</slot>`),e.tooltipContent&&(r.querySelector('slot[name="tooltip-content"]').innerHTML=(t=e.tooltipContent)!=null?t:"",this.tooltipContent=e.tooltipContent),this.nativeEl.appendChild(s.content.cloneNode(!0)),this.shadowRoot.appendChild(r)}this.tooltipEl=this.shadowRoot.querySelector("media-tooltip")}static get observedAttributes(){return["disabled",il.TOOLTIP_PLACEMENT,ue.MEDIA_CONTROLLER]}enable(){this.addEventListener("click",Je(this,Qs)),this.addEventListener("keydown",Je(this,rl)),this.tabIndex=0}disable(){this.removeEventListener("click",Je(this,Qs)),this.removeEventListener("keydown",Je(this,rl)),this.removeEventListener("keyup",Je(this,Xs)),this.tabIndex=-1}attributeChangedCallback(e,t,r){var s,n,a,o,l;e===ue.MEDIA_CONTROLLER?(t&&((n=(s=Je(this,fi))==null?void 0:s.unassociateElement)==null||n.call(s,this),tl(this,fi,null)),r&&this.isConnected&&(tl(this,fi,(a=this.getRootNode())==null?void 0:a.getElementById(r)),(l=(o=Je(this,fi))==null?void 0:o.associateElement)==null||l.call(o,this))):e==="disabled"&&r!==t?r==null?this.enable():this.disable():e===il.TOOLTIP_PLACEMENT&&this.tooltipEl&&r!==t&&(this.tooltipEl.placement=r),Je(this,fr).call(this)}connectedCallback(){var e,t,r;let{style:s}=Le(this.shadowRoot,":host");s.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","button");let n=this.getAttribute(ue.MEDIA_CONTROLLER);n&&(tl(this,fi,(e=this.getRootNode())==null?void 0:e.getElementById(n)),(r=(t=Je(this,fi))==null?void 0:t.associateElement)==null||r.call(t,this)),x.customElements.whenDefined("media-tooltip").then(()=>SA(this,Fc,O0).call(this))}disconnectedCallback(){var e,t;this.disable(),(t=(e=Je(this,fi))==null?void 0:e.unassociateElement)==null||t.call(e,this),tl(this,fi,null),this.removeEventListener("mouseenter",Je(this,fr)),this.removeEventListener("focus",Je(this,fr)),this.removeEventListener("click",Je(this,Qs))}get keysUsed(){return["Enter"," "]}get tooltipPlacement(){return ge(this,il.TOOLTIP_PLACEMENT)}set tooltipPlacement(e){fe(this,il.TOOLTIP_PLACEMENT,e)}handleClick(e){}};fi=new WeakMap;Qs=new WeakMap;fr=new WeakMap;Xs=new WeakMap;rl=new WeakMap;Fc=new WeakSet;O0=function(){this.addEventListener("mouseenter",Je(this,fr)),this.addEventListener("focus",Je(this,fr)),this.addEventListener("click",Je(this,Qs));let i=this.tooltipPlacement;i&&this.tooltipEl&&(this.tooltipEl.placement=i)};x.customElements.get("media-chrome-button")||x.customElements.define("media-chrome-button",Ce);var U0=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.13 3H3.87a.87.87 0 0 0-.87.87v13.26a.87.87 0 0 0 .87.87h3.4L9 16H5V5h16v11h-4l1.72 2h3.4a.87.87 0 0 0 .87-.87V3.87a.87.87 0 0 0-.86-.87Zm-8.75 11.44a.5.5 0 0 0-.76 0l-4.91 5.73a.5.5 0 0 0 .38.83h9.82a.501.501 0 0 0 .38-.83l-4.91-5.73Z"/>
</svg>
`,B0=N.createElement("template");B0.innerHTML=`
  <style>
    :host([${y.MEDIA_IS_AIRPLAYING}]) slot[name=icon] slot:not([name=exit]) {
      display: none !important;
    }

    
    :host(:not([${y.MEDIA_IS_AIRPLAYING}])) slot[name=icon] slot:not([name=enter]) {
      display: none !important;
    }

    :host([${y.MEDIA_IS_AIRPLAYING}]) slot[name=tooltip-enter],
    :host(:not([${y.MEDIA_IS_AIRPLAYING}])) slot[name=tooltip-exit] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="enter">${U0}</slot>
    <slot name="exit">${U0}</slot>
  </slot>
`;var xA=`
  <slot name="tooltip-enter">${ce.ENTER_AIRPLAY}</slot>
  <slot name="tooltip-exit">${ce.EXIT_AIRPLAY}</slot>
`,F0=i=>{let e=i.mediaIsAirplaying?Oe.EXIT_AIRPLAY():Oe.ENTER_AIRPLAY();i.setAttribute("aria-label",e)},$c=class extends Ce{static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_IS_AIRPLAYING,y.MEDIA_AIRPLAY_UNAVAILABLE]}constructor(e={}){super({slotTemplate:B0,tooltipContent:xA,...e})}connectedCallback(){super.connectedCallback(),F0(this)}attributeChangedCallback(e,t,r){super.attributeChangedCallback(e,t,r),e===y.MEDIA_IS_AIRPLAYING&&F0(this)}get mediaIsAirplaying(){return Re(this,y.MEDIA_IS_AIRPLAYING)}set mediaIsAirplaying(e){Se(this,y.MEDIA_IS_AIRPLAYING,e)}get mediaAirplayUnavailable(){return ge(this,y.MEDIA_AIRPLAY_UNAVAILABLE)}set mediaAirplayUnavailable(e){fe(this,y.MEDIA_AIRPLAY_UNAVAILABLE,e)}handleClick(){let e=new x.CustomEvent($.MEDIA_AIRPLAY_REQUEST,{composed:!0,bubbles:!0});this.dispatchEvent(e)}};x.customElements.get("media-airplay-button")||x.customElements.define("media-airplay-button",$c);var RA=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,IA=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`,K0=N.createElement("template");K0.innerHTML=`
  <style>
    :host([aria-checked="true"]) slot[name=off] {
      display: none !important;
    }

    
    :host(:not([aria-checked="true"])) slot[name=on] {
      display: none !important;
    }

    :host([aria-checked="true"]) slot[name=tooltip-enable],
    :host(:not([aria-checked="true"])) slot[name=tooltip-disable] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="on">${RA}</slot>
    <slot name="off">${IA}</slot>
  </slot>
`;var LA=`
  <slot name="tooltip-enable">${ce.ENABLE_CAPTIONS}</slot>
  <slot name="tooltip-disable">${ce.DISABLE_CAPTIONS}</slot>
`,$0=i=>{i.setAttribute("aria-checked",Yo(i).toString())},Hc=class extends Ce{static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_SUBTITLES_LIST,y.MEDIA_SUBTITLES_SHOWING]}constructor(e={}){super({slotTemplate:K0,tooltipContent:LA,...e}),this._captionsReady=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setAttribute("aria-label",Pe.CLOSED_CAPTIONS()),$0(this)}attributeChangedCallback(e,t,r){super.attributeChangedCallback(e,t,r),e===y.MEDIA_SUBTITLES_SHOWING&&$0(this)}get mediaSubtitlesList(){return H0(this,y.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){G0(this,y.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return H0(this,y.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){G0(this,y.MEDIA_SUBTITLES_SHOWING,e)}handleClick(){this.dispatchEvent(new x.CustomEvent($.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}))}},H0=(i,e)=>{let t=i.getAttribute(e);return t?Br(t):[]},G0=(i,e,t)=>{if(!(t!=null&&t.length)){i.removeAttribute(e);return}let r=Vi(t);i.getAttribute(e)!==r&&i.setAttribute(e,r)};x.customElements.get("media-captions-button")||x.customElements.define("media-captions-button",Hc);var kA='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/></g></svg>',CA='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/><path class="cast_caf_icon_boxfill" d="M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z"/></g></svg>',V0=N.createElement("template");V0.innerHTML=`
  <style>
  :host([${y.MEDIA_IS_CASTING}]) slot[name=icon] slot:not([name=exit]) {
    display: none !important;
  }

  
  :host(:not([${y.MEDIA_IS_CASTING}])) slot[name=icon] slot:not([name=enter]) {
    display: none !important;
  }

  :host([${y.MEDIA_IS_CASTING}]) slot[name=tooltip-enter],
    :host(:not([${y.MEDIA_IS_CASTING}])) slot[name=tooltip-exit] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="enter">${kA}</slot>
    <slot name="exit">${CA}</slot>
  </slot>
`;var wA=`
  <slot name="tooltip-enter">${ce.START_CAST}</slot>
  <slot name="tooltip-exit">${ce.STOP_CAST}</slot>
`,W0=i=>{let e=i.mediaIsCasting?Oe.EXIT_CAST():Oe.ENTER_CAST();i.setAttribute("aria-label",e)},Gc=class extends Ce{static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_IS_CASTING,y.MEDIA_CAST_UNAVAILABLE]}constructor(e={}){super({slotTemplate:V0,tooltipContent:wA,...e})}connectedCallback(){super.connectedCallback(),W0(this)}attributeChangedCallback(e,t,r){super.attributeChangedCallback(e,t,r),e===y.MEDIA_IS_CASTING&&W0(this)}get mediaIsCasting(){return Re(this,y.MEDIA_IS_CASTING)}set mediaIsCasting(e){Se(this,y.MEDIA_IS_CASTING,e)}get mediaCastUnavailable(){return ge(this,y.MEDIA_CAST_UNAVAILABLE)}set mediaCastUnavailable(e){fe(this,y.MEDIA_CAST_UNAVAILABLE,e)}handleClick(){let e=this.mediaIsCasting?$.MEDIA_EXIT_CAST_REQUEST:$.MEDIA_ENTER_CAST_REQUEST;this.dispatchEvent(new x.CustomEvent(e,{composed:!0,bubbles:!0}))}};x.customElements.get("media-cast-button")||x.customElements.define("media-cast-button",Gc);var zc=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},Zs=(i,e,t)=>(zc(i,e,"read from private field"),t?t.call(i):e.get(i)),Kr=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},Y0=(i,e,t,r)=>(zc(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),na=(i,e,t)=>(zc(i,e,"access private method"),t),aa,Wr,Wc,q0,Vc,j0,Yc,z0,qc,X0,jc,Q0,Z0=N.createElement("template");Z0.innerHTML=`
  <style>
    :host {
      font: var(--media-font,
        var(--media-font-weight, normal)
        var(--media-font-size, 14px) /
        var(--media-text-content-height, var(--media-control-height, 24px))
        var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      background: var(--media-dialog-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .8))));
      border-radius: var(--media-dialog-border-radius);
      border: var(--media-dialog-border, none);
      display: var(--media-dialog-display, inline-flex);
      transition: var(--media-dialog-transition-in,
        visibility 0s,
        opacity .2s ease-out,
        transform .15s ease-out
      ) !important;
      
      visibility: var(--media-dialog-visibility, visible);
      opacity: var(--media-dialog-opacity, 1);
      transform: var(--media-dialog-transform-in, translateY(0) scale(1));
    }

    :host([hidden]) {
      transition: var(--media-dialog-transition-out,
        visibility .15s ease-in,
        opacity .15s ease-in,
        transform .15s ease-in
      ) !important;
      visibility: var(--media-dialog-hidden-visibility, hidden);
      opacity: var(--media-dialog-hidden-opacity, 0);
      transform: var(--media-dialog-transform-out, translateY(2px) scale(.99));
      pointer-events: none;
    }
  </style>
  <slot></slot>
`;var Kc={HIDDEN:"hidden",ANCHOR:"anchor"},sl=class extends x.HTMLElement{constructor(){super(),Kr(this,Wc),Kr(this,Vc),Kr(this,Yc),Kr(this,qc),Kr(this,jc),Kr(this,aa,null),Kr(this,Wr,null),this.shadowRoot||(this.attachShadow({mode:"open"}),this.nativeEl=this.constructor.template.content.cloneNode(!0),this.shadowRoot.append(this.nativeEl)),this.addEventListener("invoke",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this)}static get observedAttributes(){return[Kc.HIDDEN,Kc.ANCHOR]}handleEvent(e){switch(e.type){case"invoke":na(this,Yc,z0).call(this,e);break;case"focusout":na(this,qc,X0).call(this,e);break;case"keydown":na(this,jc,Q0).call(this,e);break}}connectedCallback(){this.role||(this.role="dialog")}attributeChangedCallback(e,t,r){e===Kc.HIDDEN&&r!==t&&(this.hidden?na(this,Vc,j0).call(this):na(this,Wc,q0).call(this))}focus(){Y0(this,aa,qn());let e=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');e==null||e.focus()}get keysUsed(){return["Escape","Tab"]}};aa=new WeakMap;Wr=new WeakMap;Wc=new WeakSet;q0=function(){var i;(i=Zs(this,Wr))==null||i.setAttribute("aria-expanded","true"),this.addEventListener("transitionend",()=>this.focus(),{once:!0})};Vc=new WeakSet;j0=function(){var i;(i=Zs(this,Wr))==null||i.setAttribute("aria-expanded","false")};Yc=new WeakSet;z0=function(i){Y0(this,Wr,i.relatedTarget),St(this,i.relatedTarget)||(this.hidden=!this.hidden)};qc=new WeakSet;X0=function(i){var e;St(this,i.relatedTarget)||((e=Zs(this,aa))==null||e.focus(),Zs(this,Wr)&&Zs(this,Wr)!==i.relatedTarget&&!this.hidden&&(this.hidden=!0))};jc=new WeakSet;Q0=function(i){var e,t,r,s,n;let{key:a,ctrlKey:o,altKey:l,metaKey:d}=i;o||l||d||this.keysUsed.includes(a)&&(i.preventDefault(),i.stopPropagation(),a==="Tab"?(i.shiftKey?(t=(e=this.previousElementSibling)==null?void 0:e.focus)==null||t.call(e):(s=(r=this.nextElementSibling)==null?void 0:r.focus)==null||s.call(r),this.blur()):a==="Escape"&&((n=Zs(this,aa))==null||n.focus(),this.hidden=!0))};sl.template=Z0;x.customElements.get("media-chrome-dialog")||x.customElements.define("media-chrome-dialog",sl);var ih=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},Ye=(i,e,t)=>(ih(i,e,"read from private field"),t?t.call(i):e.get(i)),vt=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},mr=(i,e,t,r)=>(ih(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),Qt=(i,e,t)=>(ih(i,e,"access private method"),t),mi,ml,nl,al,Zt,hl,ol,ll,dl,rh,J0,ul,Xc,cl,Qc,fl,sh,Zc,ev,Jc,tv,eh,iv,th,rv,sv=N.createElement("template");sv.innerHTML=`
  <style>
    :host {
      --_focus-box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
      --_media-range-padding: var(--media-range-padding, var(--media-control-padding, 10px));

      box-shadow: var(--_focus-visible-box-shadow, none);
      background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
      height: calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding));
      display: inline-flex;
      align-items: center;
      
      vertical-align: middle;
      box-sizing: border-box;
      position: relative;
      width: 100px;
      transition: background .15s linear;
      cursor: pointer;
      pointer-events: auto;
      touch-action: none; 
      z-index: 1; 
    }

    
    input[type=range]:focus {
      outline: 0;
    }
    input[type=range]:focus::-webkit-slider-runnable-track {
      outline: 0;
    }

    :host(:hover) {
      background: var(--media-control-hover-background, rgb(50 50 70 / .7));
    }

    #leftgap {
      padding-left: var(--media-range-padding-left, var(--_media-range-padding));
    }

    #rightgap {
      padding-right: var(--media-range-padding-right, var(--_media-range-padding));
    }

    #startpoint,
    #endpoint {
      position: absolute;
    }

    #endpoint {
      right: 0;
    }

    #container {
      
      width: var(--media-range-track-width, 100%);
      transform: translate(var(--media-range-track-translate-x, 0px), var(--media-range-track-translate-y, 0px));
      position: relative;
      height: 100%;
      display: flex;
      align-items: center;
      min-width: 40px;
    }

    #range {
      
      display: var(--media-time-range-hover-display, block);
      bottom: var(--media-time-range-hover-bottom, -7px);
      height: var(--media-time-range-hover-height, max(100% + 7px, 25px));
      width: 100%;
      position: absolute;
      cursor: pointer;

      -webkit-appearance: none; 
      -webkit-tap-highlight-color: transparent;
      background: transparent; 
      margin: 0;
      z-index: 1;
    }

    @media (hover: hover) {
      #range {
        bottom: var(--media-time-range-hover-bottom, -5px);
        height: var(--media-time-range-hover-height, max(100% + 5px, 20px));
      }
    }

    
    
    #range::-webkit-slider-thumb {
      -webkit-appearance: none;
      background: transparent;
      width: .1px;
      height: .1px;
    }

    
    #range::-moz-range-thumb {
      background: transparent;
      border: transparent;
      width: .1px;
      height: .1px;
    }

    #appearance {
      height: var(--media-range-track-height, 4px);
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 100%;
      position: absolute;
      
      will-change: transform;
    }

    #track {
      background: var(--media-range-track-background, rgb(255 255 255 / .2));
      border-radius: var(--media-range-track-border-radius, 1px);
      border: var(--media-range-track-border, none);
      outline: var(--media-range-track-outline);
      outline-offset: var(--media-range-track-outline-offset);
      backdrop-filter: var(--media-range-track-backdrop-filter);
      -webkit-backdrop-filter: var(--media-range-track-backdrop-filter);
      box-shadow: var(--media-range-track-box-shadow, none);
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }

    #progress,
    #pointer {
      position: absolute;
      height: 100%;
      will-change: width;
    }

    #progress {
      background: var(--media-range-bar-color, var(--media-primary-color, rgb(238 238 238)));
      transition: var(--media-range-track-transition);
    }

    #pointer {
      background: var(--media-range-track-pointer-background);
      border-right: var(--media-range-track-pointer-border-right);
      transition: visibility .25s, opacity .25s;
      visibility: hidden;
      opacity: 0;
    }

    @media (hover: hover) {
      :host(:hover) #pointer {
        transition: visibility .5s, opacity .5s;
        visibility: visible;
        opacity: 1;
      }
    }

    #thumb {
      width: var(--media-range-thumb-width, 10px);
      height: var(--media-range-thumb-height, 10px);
      margin-left: calc(var(--media-range-thumb-width, 10px) / -2);
      border: var(--media-range-thumb-border, none);
      border-radius: var(--media-range-thumb-border-radius, 10px);
      background: var(--media-range-thumb-background, var(--media-primary-color, rgb(238 238 238)));
      box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);
      transition: var(--media-range-thumb-transition);
      transform: var(--media-range-thumb-transform, none);
      opacity: var(--media-range-thumb-opacity, 1);
      position: absolute;
      left: 0;
      cursor: pointer;
    }

    :host([disabled]) #thumb {
      background-color: #777;
    }

    .segments #appearance {
      height: var(--media-range-segment-hover-height, 7px);
    }

    #track {
      clip-path: url(#segments-clipping);
    }

    #segments {
      --segments-gap: var(--media-range-segments-gap, 2px);
      position: absolute;
      width: 100%;
      height: 100%;
    }

    #segments-clipping {
      transform: translateX(calc(var(--segments-gap) / 2));
    }

    #segments-clipping:empty {
      display: none;
    }

    #segments-clipping rect {
      height: var(--media-range-track-height, 4px);
      y: calc((var(--media-range-segment-hover-height, 7px) - var(--media-range-track-height, 4px)) / 2);
      transition: var(--media-range-segment-transition, transform .1s ease-in-out);
      transform: var(--media-range-segment-transform, scaleY(1));
      transform-origin: center;
    }
  </style>
  <div id="leftgap"></div>
  <div id="container">
    <div id="startpoint"></div>
    <div id="endpoint"></div>
    <div id="appearance">
      <div id="track" part="track">
        <div id="pointer"></div>
        <div id="progress" part="progress"></div>
      </div>
      <div id="thumb" part="thumb"></div>
      <svg id="segments"><clipPath id="segments-clipping"></clipPath></svg>
    </div>
    <input id="range" type="range" min="0" max="1" step="any" value="0">
  </div>
  <div id="rightgap"></div>
`;var Vr=class extends x.HTMLElement{constructor(){super(),vt(this,rh),vt(this,ul),vt(this,cl),vt(this,fl),vt(this,Zc),vt(this,Jc),vt(this,eh),vt(this,th),vt(this,mi,void 0),vt(this,ml,void 0),vt(this,nl,void 0),vt(this,al,void 0),vt(this,Zt,{}),vt(this,hl,[]),vt(this,ol,()=>{if(this.range.matches(":focus-visible")){let{style:e}=Le(this.shadowRoot,":host");e.setProperty("--_focus-visible-box-shadow","var(--_focus-box-shadow)")}}),vt(this,ll,()=>{let{style:e}=Le(this.shadowRoot,":host");e.removeProperty("--_focus-visible-box-shadow")}),vt(this,dl,()=>{let e=this.shadowRoot.querySelector("#segments-clipping");e&&e.parentNode.append(e)}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(sv.content.cloneNode(!0))),this.container=this.shadowRoot.querySelector("#container"),mr(this,nl,this.shadowRoot.querySelector("#startpoint")),mr(this,al,this.shadowRoot.querySelector("#endpoint")),this.range=this.shadowRoot.querySelector("#range"),this.appearance=this.shadowRoot.querySelector("#appearance")}static get observedAttributes(){return["disabled","aria-disabled",ue.MEDIA_CONTROLLER]}attributeChangedCallback(e,t,r){var s,n,a,o,l;e===ue.MEDIA_CONTROLLER?(t&&((n=(s=Ye(this,mi))==null?void 0:s.unassociateElement)==null||n.call(s,this),mr(this,mi,null)),r&&this.isConnected&&(mr(this,mi,(a=this.getRootNode())==null?void 0:a.getElementById(r)),(l=(o=Ye(this,mi))==null?void 0:o.associateElement)==null||l.call(o,this))):(e==="disabled"||e==="aria-disabled"&&t!==r)&&(r==null?(this.range.removeAttribute(e),Qt(this,ul,Xc).call(this)):(this.range.setAttribute(e,r),Qt(this,cl,Qc).call(this)))}connectedCallback(){var e,t,r;let{style:s}=Le(this.shadowRoot,":host");s.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),Ye(this,Zt).pointer=Le(this.shadowRoot,"#pointer"),Ye(this,Zt).progress=Le(this.shadowRoot,"#progress"),Ye(this,Zt).thumb=Le(this.shadowRoot,"#thumb"),Ye(this,Zt).activeSegment=Le(this.shadowRoot,"#segments-clipping rect:nth-child(0)");let n=this.getAttribute(ue.MEDIA_CONTROLLER);n&&(mr(this,mi,(e=this.getRootNode())==null?void 0:e.getElementById(n)),(r=(t=Ye(this,mi))==null?void 0:t.associateElement)==null||r.call(t,this)),this.updateBar(),this.shadowRoot.addEventListener("focusin",Ye(this,ol)),this.shadowRoot.addEventListener("focusout",Ye(this,ll)),Qt(this,ul,Xc).call(this),Gi(this.container,Ye(this,dl))}disconnectedCallback(){var e,t;Qt(this,cl,Qc).call(this),(t=(e=Ye(this,mi))==null?void 0:e.unassociateElement)==null||t.call(e,this),mr(this,mi,null),this.shadowRoot.removeEventListener("focusin",Ye(this,ol)),this.shadowRoot.removeEventListener("focusout",Ye(this,ll)),Nr(this.container,Ye(this,dl))}updatePointerBar(e){var t;(t=Ye(this,Zt).pointer)==null||t.style.setProperty("width",`${this.getPointerRatio(e)*100}%`)}updateBar(){var e,t;let r=this.range.valueAsNumber*100;(e=Ye(this,Zt).progress)==null||e.style.setProperty("width",`${r}%`),(t=Ye(this,Zt).thumb)==null||t.style.setProperty("left",`${r}%`)}updateSegments(e){let t=this.shadowRoot.querySelector("#segments-clipping");if(t.textContent="",this.container.classList.toggle("segments",!!(e!=null&&e.length)),!(e!=null&&e.length))return;let r=[...new Set([+this.range.min,...e.flatMap(n=>[n.start,n.end]),+this.range.max])];mr(this,hl,[...r]);let s=r.pop();for(let[n,a]of r.entries()){let[o,l]=[n===0,n===r.length-1],d=o?"calc(var(--segments-gap) / -1)":`${a*100}%`,c=`calc(${((l?s:r[n+1])-a)*100}%${o||l?"":" - var(--segments-gap)"})`,h=N.createElementNS("http://www.w3.org/2000/svg","rect"),f=Le(this.shadowRoot,`#segments-clipping rect:nth-child(${n+1})`);f.style.setProperty("x",d),f.style.setProperty("width",c),t.append(h)}}getPointerRatio(e){let t=o0(e.clientX,e.clientY,Ye(this,nl).getBoundingClientRect(),Ye(this,al).getBoundingClientRect());return Math.max(0,Math.min(1,t))}get dragging(){return this.hasAttribute("dragging")}handleEvent(e){switch(e.type){case"pointermove":Qt(this,th,rv).call(this,e);break;case"input":this.updateBar();break;case"pointerenter":Qt(this,Zc,ev).call(this,e);break;case"pointerdown":Qt(this,fl,sh).call(this,e);break;case"pointerup":Qt(this,Jc,tv).call(this);break;case"pointerleave":Qt(this,eh,iv).call(this);break}}get keysUsed(){return["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]}};mi=new WeakMap;ml=new WeakMap;nl=new WeakMap;al=new WeakMap;Zt=new WeakMap;hl=new WeakMap;ol=new WeakMap;ll=new WeakMap;dl=new WeakMap;rh=new WeakSet;J0=function(i){let e=Ye(this,Zt).activeSegment;if(!e)return;let t=this.getPointerRatio(i),s=`#segments-clipping rect:nth-child(${Ye(this,hl).findIndex((n,a,o)=>{let l=o[a+1];return l!=null&&t>=n&&t<=l})+1})`;(e.selectorText!=s||!e.style.transform)&&(e.selectorText=s,e.style.setProperty("transform","var(--media-range-segment-hover-transform, scaleY(2))"))};ul=new WeakSet;Xc=function(){this.hasAttribute("disabled")||(this.addEventListener("input",this),this.addEventListener("pointerdown",this),this.addEventListener("pointerenter",this))};cl=new WeakSet;Qc=function(){var i,e;this.removeEventListener("input",this),this.removeEventListener("pointerdown",this),this.removeEventListener("pointerenter",this),(i=x.window)==null||i.removeEventListener("pointerup",this),(e=x.window)==null||e.removeEventListener("pointermove",this)};fl=new WeakSet;sh=function(i){var e;mr(this,ml,i.composedPath().includes(this.range)),(e=x.window)==null||e.addEventListener("pointerup",this)};Zc=new WeakSet;ev=function(i){var e;i.pointerType!=="mouse"&&Qt(this,fl,sh).call(this,i),this.addEventListener("pointerleave",this),(e=x.window)==null||e.addEventListener("pointermove",this)};Jc=new WeakSet;tv=function(){var i;(i=x.window)==null||i.removeEventListener("pointerup",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled")};eh=new WeakSet;iv=function(){var i,e;this.removeEventListener("pointerleave",this),(i=x.window)==null||i.removeEventListener("pointermove",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled"),(e=Ye(this,Zt).activeSegment)==null||e.style.removeProperty("transform")};th=new WeakSet;rv=function(i){this.toggleAttribute("dragging",i.buttons===1||i.pointerType!=="mouse"),this.updatePointerBar(i),Qt(this,rh,J0).call(this,i),this.dragging&&(i.pointerType!=="mouse"||!Ye(this,ml))&&(this.range.disabled=!0,this.range.valueAsNumber=this.getPointerRatio(i),this.range.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})))};x.customElements.get("media-chrome-range")||x.customElements.define("media-chrome-range",Vr);var nv=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},pl=(i,e,t)=>(nv(i,e,"read from private field"),t?t.call(i):e.get(i)),DA=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},gl=(i,e,t,r)=>(nv(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),pi,av=N.createElement("template");av.innerHTML=`
  <style>
    :host {
      
      box-sizing: border-box;
      display: var(--media-control-display, var(--media-control-bar-display, inline-flex));
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      --media-loading-indicator-icon-height: 44px;
    }

    ::slotted(media-time-range),
    ::slotted(media-volume-range) {
      min-height: 100%;
    }

    ::slotted(media-time-range),
    ::slotted(media-clip-selector) {
      flex-grow: 1;
    }

    ::slotted([role="menu"]) {
      position: absolute;
    }
  </style>

  <slot></slot>
`;var nh=class extends x.HTMLElement{constructor(){super(),DA(this,pi,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(av.content.cloneNode(!0)))}static get observedAttributes(){return[ue.MEDIA_CONTROLLER]}attributeChangedCallback(e,t,r){var s,n,a,o,l;e===ue.MEDIA_CONTROLLER&&(t&&((n=(s=pl(this,pi))==null?void 0:s.unassociateElement)==null||n.call(s,this),gl(this,pi,null)),r&&this.isConnected&&(gl(this,pi,(a=this.getRootNode())==null?void 0:a.getElementById(r)),(l=(o=pl(this,pi))==null?void 0:o.associateElement)==null||l.call(o,this)))}connectedCallback(){var e,t,r;let s=this.getAttribute(ue.MEDIA_CONTROLLER);s&&(gl(this,pi,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(r=(t=pl(this,pi))==null?void 0:t.associateElement)==null||r.call(t,this))}disconnectedCallback(){var e,t;(t=(e=pl(this,pi))==null?void 0:e.unassociateElement)==null||t.call(e,this),gl(this,pi,null)}};pi=new WeakMap;x.customElements.get("media-control-bar")||x.customElements.define("media-control-bar",nh);var ov=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},vl=(i,e,t)=>(ov(i,e,"read from private field"),t?t.call(i):e.get(i)),MA=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},El=(i,e,t,r)=>(ov(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),gi,lv=N.createElement("template");lv.innerHTML=`
  <style>
    :host {
      font: var(--media-font,
        var(--media-font-weight, normal)
        var(--media-font-size, 14px) /
        var(--media-text-content-height, var(--media-control-height, 24px))
        var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      background: var(--media-text-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7))));
      padding: var(--media-control-padding, 10px);
      display: inline-flex;
      justify-content: center;
      align-items: center;
      vertical-align: middle;
      box-sizing: border-box;
      text-align: center;
      pointer-events: auto;
    }

    
    :host(:focus-visible) {
      box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
      outline: 0;
    }

    
    :host(:where(:focus)) {
      box-shadow: none;
      outline: 0;
    }
  </style>
  <slot></slot>
`;var Jt=class extends x.HTMLElement{constructor(){super(),MA(this,gi,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(lv.content.cloneNode(!0)))}static get observedAttributes(){return[ue.MEDIA_CONTROLLER]}attributeChangedCallback(e,t,r){var s,n,a,o,l;e===ue.MEDIA_CONTROLLER&&(t&&((n=(s=vl(this,gi))==null?void 0:s.unassociateElement)==null||n.call(s,this),El(this,gi,null)),r&&this.isConnected&&(El(this,gi,(a=this.getRootNode())==null?void 0:a.getElementById(r)),(l=(o=vl(this,gi))==null?void 0:o.associateElement)==null||l.call(o,this)))}connectedCallback(){var e,t,r;let{style:s}=Le(this.shadowRoot,":host");s.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`);let n=this.getAttribute(ue.MEDIA_CONTROLLER);n&&(El(this,gi,(e=this.getRootNode())==null?void 0:e.getElementById(n)),(r=(t=vl(this,gi))==null?void 0:t.associateElement)==null||r.call(t,this))}disconnectedCallback(){var e,t;(t=(e=vl(this,gi))==null?void 0:e.unassociateElement)==null||t.call(e,this),El(this,gi,null)}};gi=new WeakMap;x.customElements.get("media-text-display")||x.customElements.define("media-text-display",Jt);var uv=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},dv=(i,e,t)=>(uv(i,e,"read from private field"),t?t.call(i):e.get(i)),PA=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},OA=(i,e,t,r)=>(uv(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),oa,ah=class extends Jt{constructor(){super(),PA(this,oa,void 0),OA(this,oa,this.shadowRoot.querySelector("slot")),dv(this,oa).textContent=di(0)}static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_DURATION]}attributeChangedCallback(e,t,r){e===y.MEDIA_DURATION&&(dv(this,oa).textContent=di(+r)),super.attributeChangedCallback(e,t,r)}get mediaDuration(){return pe(this,y.MEDIA_DURATION)}set mediaDuration(e){Te(this,y.MEDIA_DURATION,e)}};oa=new WeakMap;x.customElements.get("media-duration-display")||x.customElements.define("media-duration-display",ah);var NA=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M16 3v2.5h3.5V9H22V3h-6ZM4 9h2.5V5.5H10V3H4v6Zm15.5 9.5H16V21h6v-6h-2.5v3.5ZM6.5 15H4v6h6v-2.5H6.5V15Z"/>
</svg>`,UA=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M18.5 6.5V3H16v6h6V6.5h-3.5ZM16 21h2.5v-3.5H22V15h-6v6ZM4 17.5h3.5V21H10v-6H4v2.5Zm3.5-11H4V9h6V3H7.5v3.5Z"/>
</svg>`,hv=N.createElement("template");hv.innerHTML=`
  <style>
    :host([${y.MEDIA_IS_FULLSCREEN}]) slot[name=icon] slot:not([name=exit]) {
      display: none !important;
    }

    
    :host(:not([${y.MEDIA_IS_FULLSCREEN}])) slot[name=icon] slot:not([name=enter]) {
      display: none !important;
    }

    :host([${y.MEDIA_IS_FULLSCREEN}]) slot[name=tooltip-enter],
    :host(:not([${y.MEDIA_IS_FULLSCREEN}])) slot[name=tooltip-exit] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="enter">${NA}</slot>
    <slot name="exit">${UA}</slot>
  </slot>
`;var FA=`
  <slot name="tooltip-enter">${ce.ENTER_FULLSCREEN}</slot>
  <slot name="tooltip-exit">${ce.EXIT_FULLSCREEN}</slot>
`,cv=i=>{let e=i.mediaIsFullscreen?Oe.EXIT_FULLSCREEN():Oe.ENTER_FULLSCREEN();i.setAttribute("aria-label",e)},oh=class extends Ce{static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_IS_FULLSCREEN,y.MEDIA_FULLSCREEN_UNAVAILABLE]}constructor(e={}){super({slotTemplate:hv,tooltipContent:FA,...e})}connectedCallback(){super.connectedCallback(),cv(this)}attributeChangedCallback(e,t,r){super.attributeChangedCallback(e,t,r),e===y.MEDIA_IS_FULLSCREEN&&cv(this)}get mediaFullscreenUnavailable(){return ge(this,y.MEDIA_FULLSCREEN_UNAVAILABLE)}set mediaFullscreenUnavailable(e){fe(this,y.MEDIA_FULLSCREEN_UNAVAILABLE,e)}get mediaIsFullscreen(){return Re(this,y.MEDIA_IS_FULLSCREEN)}set mediaIsFullscreen(e){Se(this,y.MEDIA_IS_FULLSCREEN,e)}handleClick(){let e=this.mediaIsFullscreen?$.MEDIA_EXIT_FULLSCREEN_REQUEST:$.MEDIA_ENTER_FULLSCREEN_REQUEST;this.dispatchEvent(new x.CustomEvent(e,{composed:!0,bubbles:!0}))}};x.customElements.get("media-fullscreen-button")||x.customElements.define("media-fullscreen-button",oh);var{MEDIA_TIME_IS_LIVE:bl,MEDIA_PAUSED:la}=y,{MEDIA_SEEK_TO_LIVE_REQUEST:BA,MEDIA_PLAY_REQUEST:$A}=$,HA='<svg viewBox="0 0 6 12"><circle cx="3" cy="6" r="2"></circle></svg>',mv=N.createElement("template");mv.innerHTML=`
  <style>
  :host { --media-tooltip-display: none; }
  
  slot[name=indicator] > *,
  :host ::slotted([slot=indicator]) {
    
    min-width: auto;
    fill: var(--media-live-button-icon-color, rgb(140, 140, 140));
    color: var(--media-live-button-icon-color, rgb(140, 140, 140));
  }

  :host([${bl}]:not([${la}])) slot[name=indicator] > *,
  :host([${bl}]:not([${la}])) ::slotted([slot=indicator]) {
    fill: var(--media-live-button-indicator-color, rgb(255, 0, 0));
    color: var(--media-live-button-indicator-color, rgb(255, 0, 0));
  }

  :host([${bl}]:not([${la}])) {
    cursor: not-allowed;
  }

  </style>

  <slot name="indicator">${HA}</slot>
  
  <slot name="spacer">&nbsp;</slot><slot name="text">LIVE</slot>
`;var fv=i=>{let e=i.mediaPaused||!i.mediaTimeIsLive,t=e?Oe.SEEK_LIVE():Oe.PLAYING_LIVE();i.setAttribute("aria-label",t),e?i.removeAttribute("aria-disabled"):i.setAttribute("aria-disabled","true")},lh=class extends Ce{static get observedAttributes(){return[...super.observedAttributes,la,bl]}constructor(e={}){super({slotTemplate:mv,...e})}connectedCallback(){fv(this),super.connectedCallback()}attributeChangedCallback(e,t,r){super.attributeChangedCallback(e,t,r),fv(this)}get mediaPaused(){return Re(this,y.MEDIA_PAUSED)}set mediaPaused(e){Se(this,y.MEDIA_PAUSED,e)}get mediaTimeIsLive(){return Re(this,y.MEDIA_TIME_IS_LIVE)}set mediaTimeIsLive(e){Se(this,y.MEDIA_TIME_IS_LIVE,e)}handleClick(){!this.mediaPaused&&this.mediaTimeIsLive||(this.dispatchEvent(new x.CustomEvent(BA,{composed:!0,bubbles:!0})),this.hasAttribute(la)&&this.dispatchEvent(new x.CustomEvent($A,{composed:!0,bubbles:!0})))}};x.customElements.get("media-live-button")||x.customElements.define("media-live-button",lh);var vv=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},da=(i,e,t)=>(vv(i,e,"read from private field"),t?t.call(i):e.get(i)),pv=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},ua=(i,e,t,r)=>(vv(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),vi,yl,gv={LOADING_DELAY:"loadingdelay"},Ev=500,bv=N.createElement("template"),GA=`
<svg aria-hidden="true" viewBox="0 0 100 100">
  <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
    <animateTransform
       attributeName="transform"
       attributeType="XML"
       type="rotate"
       dur="1s"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
  </path>
</svg>
`;bv.innerHTML=`
<style>
:host {
  display: var(--media-control-display, var(--media-loading-indicator-display, inline-block));
  vertical-align: middle;
  box-sizing: border-box;
  --_loading-indicator-delay: var(--media-loading-indicator-transition-delay, ${Ev}ms);
}

#status {
  color: rgba(0,0,0,0);
  width: 0px;
  height: 0px;
}

:host slot[name=icon] > *,
:host ::slotted([slot=icon]) {
  opacity: var(--media-loading-indicator-opacity, 0);
  transition: opacity 0.15s;
}

:host([${y.MEDIA_LOADING}]:not([${y.MEDIA_PAUSED}])) slot[name=icon] > *,
:host([${y.MEDIA_LOADING}]:not([${y.MEDIA_PAUSED}])) ::slotted([slot=icon]) {
  opacity: var(--media-loading-indicator-opacity, 1);
  transition: opacity 0.15s var(--_loading-indicator-delay);
}

:host #status {
  visibility: var(--media-loading-indicator-opacity, hidden);
  transition: visibility 0.15s;
}

:host([${y.MEDIA_LOADING}]:not([${y.MEDIA_PAUSED}])) #status {
  visibility: var(--media-loading-indicator-opacity, visible);
  transition: visibility 0.15s var(--_loading-indicator-delay);
}

svg, img, ::slotted(svg), ::slotted(img) {
  width: var(--media-loading-indicator-icon-width);
  height: var(--media-loading-indicator-icon-height, 100px);
  fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
  vertical-align: middle;
}
</style>

<slot name="icon">${GA}</slot>
<div id="status" role="status" aria-live="polite">${Pe.MEDIA_LOADING()}</div>
`;var dh=class extends x.HTMLElement{constructor(){if(super(),pv(this,vi,void 0),pv(this,yl,Ev),!this.shadowRoot){let e=this.attachShadow({mode:"open"}),t=bv.content.cloneNode(!0);e.appendChild(t)}}static get observedAttributes(){return[ue.MEDIA_CONTROLLER,y.MEDIA_PAUSED,y.MEDIA_LOADING,gv.LOADING_DELAY]}attributeChangedCallback(e,t,r){var s,n,a,o,l;e===gv.LOADING_DELAY&&t!==r?this.loadingDelay=Number(r):e===ue.MEDIA_CONTROLLER&&(t&&((n=(s=da(this,vi))==null?void 0:s.unassociateElement)==null||n.call(s,this),ua(this,vi,null)),r&&this.isConnected&&(ua(this,vi,(a=this.getRootNode())==null?void 0:a.getElementById(r)),(l=(o=da(this,vi))==null?void 0:o.associateElement)==null||l.call(o,this)))}connectedCallback(){var e,t,r;let s=this.getAttribute(ue.MEDIA_CONTROLLER);s&&(ua(this,vi,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(r=(t=da(this,vi))==null?void 0:t.associateElement)==null||r.call(t,this))}disconnectedCallback(){var e,t;(t=(e=da(this,vi))==null?void 0:e.unassociateElement)==null||t.call(e,this),ua(this,vi,null)}get loadingDelay(){return da(this,yl)}set loadingDelay(e){ua(this,yl,e);let{style:t}=Le(this.shadowRoot,":host");t.setProperty("--_loading-indicator-delay",`var(--media-loading-indicator-transition-delay, ${e}ms)`)}get mediaPaused(){return Re(this,y.MEDIA_PAUSED)}set mediaPaused(e){Se(this,y.MEDIA_PAUSED,e)}get mediaLoading(){return Re(this,y.MEDIA_LOADING)}set mediaLoading(e){Se(this,y.MEDIA_LOADING,e)}};vi=new WeakMap;yl=new WeakMap;x.customElements.get("media-loading-indicator")||x.customElements.define("media-loading-indicator",dh);var{MEDIA_VOLUME_LEVEL:Yr}=y,KA=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M16.5 12A4.5 4.5 0 0 0 14 8v2.18l2.45 2.45a4.22 4.22 0 0 0 .05-.63Zm2.5 0a6.84 6.84 0 0 1-.54 2.64L20 16.15A8.8 8.8 0 0 0 21 12a9 9 0 0 0-7-8.77v2.06A7 7 0 0 1 19 12ZM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25A6.92 6.92 0 0 1 14 18.7v2.06A9 9 0 0 0 17.69 19l2 2.05L21 19.73l-9-9L4.27 3ZM12 4 9.91 6.09 12 8.18V4Z"/>
</svg>`,yv=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4Z"/>
</svg>`,WA=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4ZM14 3.23v2.06a7 7 0 0 1 0 13.42v2.06a9 9 0 0 0 0-17.54Z"/>
</svg>`,_v=N.createElement("template");_v.innerHTML=`
  <style>
  
  :host(:not([${Yr}])) slot[name=icon] slot:not([name=high]), 
  :host([${Yr}=high]) slot[name=icon] slot:not([name=high]) {
    display: none !important;
  }

  :host([${Yr}=off]) slot[name=icon] slot:not([name=off]) {
    display: none !important;
  }

  :host([${Yr}=low]) slot[name=icon] slot:not([name=low]) {
    display: none !important;
  }

  :host([${Yr}=medium]) slot[name=icon] slot:not([name=medium]) {
    display: none !important;
  }

  :host(:not([${Yr}=off])) slot[name=tooltip-unmute],
  :host([${Yr}=off]) slot[name=tooltip-mute] {
    display: none;
  }
  </style>

  <slot name="icon">
    <slot name="off">${KA}</slot>
    <slot name="low">${yv}</slot>
    <slot name="medium">${yv}</slot>
    <slot name="high">${WA}</slot>
  </slot>
`;var VA=`
  <slot name="tooltip-mute">${ce.MUTE}</slot>
  <slot name="tooltip-unmute">${ce.UNMUTE}</slot>
`,Tv=i=>{let t=i.mediaVolumeLevel==="off"?Oe.UNMUTE():Oe.MUTE();i.setAttribute("aria-label",t)},uh=class extends Ce{static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_VOLUME_LEVEL]}constructor(e={}){super({slotTemplate:_v,tooltipContent:VA,...e})}connectedCallback(){Tv(this),super.connectedCallback()}attributeChangedCallback(e,t,r){e===y.MEDIA_VOLUME_LEVEL&&Tv(this),super.attributeChangedCallback(e,t,r)}get mediaVolumeLevel(){return ge(this,y.MEDIA_VOLUME_LEVEL)}set mediaVolumeLevel(e){fe(this,y.MEDIA_VOLUME_LEVEL,e)}handleClick(){let e=this.mediaVolumeLevel==="off"?$.MEDIA_UNMUTE_REQUEST:$.MEDIA_MUTE_REQUEST;this.dispatchEvent(new x.CustomEvent(e,{composed:!0,bubbles:!0}))}};x.customElements.get("media-mute-button")||x.customElements.define("media-mute-button",uh);var Av=`<svg aria-hidden="true" viewBox="0 0 28 24">
  <path d="M24 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-1 16H5V5h18v14Zm-3-8h-7v5h7v-5Z"/>
</svg>`,xv=N.createElement("template");xv.innerHTML=`
  <style>
  :host([${y.MEDIA_IS_PIP}]) slot[name=icon] slot:not([name=exit]) {
    display: none !important;
  }

  
  :host(:not([${y.MEDIA_IS_PIP}])) slot[name=icon] slot:not([name=enter]) {
    display: none !important;
  }

  :host([${y.MEDIA_IS_PIP}]) slot[name=tooltip-enter],
  :host(:not([${y.MEDIA_IS_PIP}])) slot[name=tooltip-exit] {
    display: none;
  }
  </style>

  <slot name="icon">
    <slot name="enter">${Av}</slot>
    <slot name="exit">${Av}</slot>
  </slot>
`;var YA=`
  <slot name="tooltip-enter">${ce.ENTER_PIP}</slot>
  <slot name="tooltip-exit">${ce.EXIT_PIP}</slot>
`,Sv=i=>{let e=i.mediaIsPip?Oe.EXIT_PIP():Oe.ENTER_PIP();i.setAttribute("aria-label",e)},ch=class extends Ce{static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_IS_PIP,y.MEDIA_PIP_UNAVAILABLE]}constructor(e={}){super({slotTemplate:xv,tooltipContent:YA,...e})}connectedCallback(){Sv(this),super.connectedCallback()}attributeChangedCallback(e,t,r){e===y.MEDIA_IS_PIP&&Sv(this),super.attributeChangedCallback(e,t,r)}get mediaPipUnavailable(){return ge(this,y.MEDIA_PIP_UNAVAILABLE)}set mediaPipUnavailable(e){fe(this,y.MEDIA_PIP_UNAVAILABLE,e)}get mediaIsPip(){return Re(this,y.MEDIA_IS_PIP)}set mediaIsPip(e){Se(this,y.MEDIA_IS_PIP,e)}handleClick(){let e=this.mediaIsPip?$.MEDIA_EXIT_PIP_REQUEST:$.MEDIA_ENTER_PIP_REQUEST;this.dispatchEvent(new x.CustomEvent(e,{composed:!0,bubbles:!0}))}};x.customElements.get("media-pip-button")||x.customElements.define("media-pip-button",ch);var qA=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},Tl=(i,e,t)=>(qA(i,e,"read from private field"),t?t.call(i):e.get(i)),jA=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},Js,hh={RATES:"rates"},mh=[1,1.2,1.5,1.7,2],en=1,Rv=N.createElement("template");Rv.innerHTML=`
  <style>
    :host {
      min-width: 5ch;
      padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
    }
  </style>
  <slot name="icon"></slot>
`;var fh=class extends Ce{constructor(e={}){super({slotTemplate:Rv,tooltipContent:ce.PLAYBACK_RATE,...e}),jA(this,Js,new ci(this,hh.RATES,{defaultValue:mh})),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${en}x`}static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_PLAYBACK_RATE,hh.RATES]}attributeChangedCallback(e,t,r){if(super.attributeChangedCallback(e,t,r),e===hh.RATES&&(Tl(this,Js).value=r),e===y.MEDIA_PLAYBACK_RATE){let s=r?+r:Number.NaN,n=Number.isNaN(s)?en:s;this.container.innerHTML=`${n}x`,this.setAttribute("aria-label",Pe.PLAYBACK_RATE({playbackRate:n}))}}get rates(){return Tl(this,Js)}set rates(e){e?Array.isArray(e)&&(Tl(this,Js).value=e.join(" ")):Tl(this,Js).value=""}get mediaPlaybackRate(){return pe(this,y.MEDIA_PLAYBACK_RATE,en)}set mediaPlaybackRate(e){Te(this,y.MEDIA_PLAYBACK_RATE,e)}handleClick(){var e,t;let r=Array.from(this.rates.values(),a=>+a).sort((a,o)=>a-o),s=(t=(e=r.find(a=>a>this.mediaPlaybackRate))!=null?e:r[0])!=null?t:en,n=new x.CustomEvent($.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:s});this.dispatchEvent(n)}};Js=new WeakMap;x.customElements.get("media-playback-rate-button")||x.customElements.define("media-playback-rate-button",fh);var zA=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="m6 21 15-9L6 3v18Z"/>
</svg>`,XA=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M6 20h4V4H6v16Zm8-16v16h4V4h-4Z"/>
</svg>`,Lv=N.createElement("template");Lv.innerHTML=`
  <style>
    :host([${y.MEDIA_PAUSED}]) slot[name=pause],
    :host(:not([${y.MEDIA_PAUSED}])) slot[name=play] {
      display: none !important;
    }

    :host([${y.MEDIA_PAUSED}]) slot[name=tooltip-pause],
    :host(:not([${y.MEDIA_PAUSED}])) slot[name=tooltip-play] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="play">${zA}</slot>
    <slot name="pause">${XA}</slot>
  </slot>
`;var QA=`
  <slot name="tooltip-play">${ce.PLAY}</slot>
  <slot name="tooltip-pause">${ce.PAUSE}</slot>
`,Iv=i=>{let e=i.mediaPaused?Oe.PLAY():Oe.PAUSE();i.setAttribute("aria-label",e)},ph=class extends Ce{static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_PAUSED,y.MEDIA_ENDED]}constructor(e={}){super({slotTemplate:Lv,tooltipContent:QA,...e})}connectedCallback(){Iv(this),super.connectedCallback()}attributeChangedCallback(e,t,r){e===y.MEDIA_PAUSED&&Iv(this),super.attributeChangedCallback(e,t,r)}get mediaPaused(){return Re(this,y.MEDIA_PAUSED)}set mediaPaused(e){Se(this,y.MEDIA_PAUSED,e)}handleClick(){let e=this.mediaPaused?$.MEDIA_PLAY_REQUEST:$.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new x.CustomEvent(e,{composed:!0,bubbles:!0}))}};x.customElements.get("media-play-button")||x.customElements.define("media-play-button",ph);var Ei={PLACEHOLDER_SRC:"placeholdersrc",SRC:"src"},kv=N.createElement("template");kv.innerHTML=`
  <style>
    :host {
      pointer-events: none;
      display: var(--media-poster-image-display, inline-block);
      box-sizing: border-box;
    }

    img {
      max-width: 100%;
      max-height: 100%;
      min-width: 100%;
      min-height: 100%;
      background-repeat: no-repeat;
      background-position: var(--media-poster-image-background-position, var(--media-object-position, center));
      background-size: var(--media-poster-image-background-size, var(--media-object-fit, contain));
      object-fit: var(--media-object-fit, contain);
      object-position: var(--media-object-position, center);
    }
  </style>

  <img part="poster img" aria-hidden="true" id="image"/>
`;var ZA=i=>{i.style.removeProperty("background-image")},JA=(i,e)=>{i.style["background-image"]=`url('${e}')`},gh=class extends x.HTMLElement{static get observedAttributes(){return[Ei.PLACEHOLDER_SRC,Ei.SRC]}constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(kv.content.cloneNode(!0))),this.image=this.shadowRoot.querySelector("#image")}attributeChangedCallback(e,t,r){e===Ei.SRC&&(r==null?this.image.removeAttribute(Ei.SRC):this.image.setAttribute(Ei.SRC,r)),e===Ei.PLACEHOLDER_SRC&&(r==null?ZA(this.image):JA(this.image,r))}get placeholderSrc(){return ge(this,Ei.PLACEHOLDER_SRC)}set placeholderSrc(e){fe(this,Ei.SRC,e)}get src(){return ge(this,Ei.SRC)}set src(e){fe(this,Ei.SRC,e)}};x.customElements.get("media-poster-image")||x.customElements.define("media-poster-image",gh);var Cv=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},eS=(i,e,t)=>(Cv(i,e,"read from private field"),t?t.call(i):e.get(i)),tS=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},iS=(i,e,t,r)=>(Cv(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),_l,vh=class extends Jt{constructor(){super(),tS(this,_l,void 0),iS(this,_l,this.shadowRoot.querySelector("slot"))}static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_PREVIEW_CHAPTER]}attributeChangedCallback(e,t,r){super.attributeChangedCallback(e,t,r),e===y.MEDIA_PREVIEW_CHAPTER&&r!==t&&r!=null&&(eS(this,_l).textContent=r,r!==""?this.setAttribute("aria-valuetext",`chapter: ${r}`):this.removeAttribute("aria-valuetext"))}get mediaPreviewChapter(){return ge(this,y.MEDIA_PREVIEW_CHAPTER)}set mediaPreviewChapter(e){fe(this,y.MEDIA_PREVIEW_CHAPTER,e)}};_l=new WeakMap;x.customElements.get("media-preview-chapter-display")||x.customElements.define("media-preview-chapter-display",vh);var wv=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},Al=(i,e,t)=>(wv(i,e,"read from private field"),t?t.call(i):e.get(i)),rS=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},Sl=(i,e,t,r)=>(wv(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),bi,Dv=N.createElement("template");Dv.innerHTML=`
  <style>
    :host {
      box-sizing: border-box;
      display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));
      overflow: hidden;
    }

    img {
      display: none;
      position: relative;
    }
  </style>
  <img crossorigin loading="eager" decoding="async">
`;var Eh=class extends x.HTMLElement{constructor(){super(),rS(this,bi,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Dv.content.cloneNode(!0)))}static get observedAttributes(){return[ue.MEDIA_CONTROLLER,y.MEDIA_PREVIEW_IMAGE,y.MEDIA_PREVIEW_COORDS]}connectedCallback(){var e,t,r;let s=this.getAttribute(ue.MEDIA_CONTROLLER);s&&(Sl(this,bi,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(r=(t=Al(this,bi))==null?void 0:t.associateElement)==null||r.call(t,this))}disconnectedCallback(){var e,t;(t=(e=Al(this,bi))==null?void 0:e.unassociateElement)==null||t.call(e,this),Sl(this,bi,null)}attributeChangedCallback(e,t,r){var s,n,a,o,l;[y.MEDIA_PREVIEW_IMAGE,y.MEDIA_PREVIEW_COORDS].includes(e)&&this.update(),e===ue.MEDIA_CONTROLLER&&(t&&((n=(s=Al(this,bi))==null?void 0:s.unassociateElement)==null||n.call(s,this),Sl(this,bi,null)),r&&this.isConnected&&(Sl(this,bi,(a=this.getRootNode())==null?void 0:a.getElementById(r)),(l=(o=Al(this,bi))==null?void 0:o.associateElement)==null||l.call(o,this)))}get mediaPreviewImage(){return ge(this,y.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){fe(this,y.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewCoords(){let e=this.getAttribute(y.MEDIA_PREVIEW_COORDS);if(e)return e.split(/\s+/).map(t=>+t)}set mediaPreviewCoords(e){if(!e){this.removeAttribute(y.MEDIA_PREVIEW_COORDS);return}this.setAttribute(y.MEDIA_PREVIEW_COORDS,e.join(" "))}update(){let e=this.mediaPreviewCoords,t=this.mediaPreviewImage;if(!(e&&t))return;let[r,s,n,a]=e,o=t.split("#")[0],l=getComputedStyle(this),{maxWidth:d,maxHeight:u,minWidth:c,minHeight:h}=l,f=Math.min(parseInt(d)/n,parseInt(u)/a),m=Math.max(parseInt(c)/n,parseInt(h)/a),p=f<1,g=p?f:m>1?m:1,{style:E}=Le(this.shadowRoot,":host"),b=Le(this.shadowRoot,"img").style,T=this.shadowRoot.querySelector("img"),_=p?"min":"max";E.setProperty(`${_}-width`,"initial","important"),E.setProperty(`${_}-height`,"initial","important"),E.width=`${n*g}px`,E.height=`${a*g}px`;let A=()=>{b.width=`${this.imgWidth*g}px`,b.height=`${this.imgHeight*g}px`,b.display="block"};T.src!==o&&(T.onload=()=>{this.imgWidth=T.naturalWidth,this.imgHeight=T.naturalHeight,A()},T.src=o,A()),A(),b.transform=`translate(-${r*g}px, -${s*g}px)`}};bi=new WeakMap;x.customElements.get("media-preview-thumbnail")||x.customElements.define("media-preview-thumbnail",Eh);var Pv=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},Mv=(i,e,t)=>(Pv(i,e,"read from private field"),t?t.call(i):e.get(i)),sS=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},nS=(i,e,t,r)=>(Pv(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),ca,bh=class extends Jt{constructor(){super(),sS(this,ca,void 0),nS(this,ca,this.shadowRoot.querySelector("slot")),Mv(this,ca).textContent=di(0)}static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_PREVIEW_TIME]}attributeChangedCallback(e,t,r){super.attributeChangedCallback(e,t,r),e===y.MEDIA_PREVIEW_TIME&&r!=null&&(Mv(this,ca).textContent=di(parseFloat(r)))}get mediaPreviewTime(){return pe(this,y.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Te(this,y.MEDIA_PREVIEW_TIME,e)}};ca=new WeakMap;x.customElements.get("media-preview-time-display")||x.customElements.define("media-preview-time-display",bh);var tn={SEEK_OFFSET:"seekoffset"},xl=30,aS=`<svg aria-hidden="true" viewBox="0 0 20 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(2.18 19.87)">${xl}</text><path d="M10 6V3L4.37 7 10 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 10 6Z"/></svg>`,Ov=N.createElement("template");Ov.innerHTML=`
  <slot name="icon">${aS}</slot>
`;var oS=0,yh=class extends Ce{static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_CURRENT_TIME,tn.SEEK_OFFSET]}constructor(e={}){super({slotTemplate:Ov,tooltipContent:ce.SEEK_BACKWARD,...e})}connectedCallback(){this.seekOffset=pe(this,tn.SEEK_OFFSET,xl),super.connectedCallback()}attributeChangedCallback(e,t,r){e===tn.SEEK_OFFSET&&(this.seekOffset=pe(this,tn.SEEK_OFFSET,xl)),super.attributeChangedCallback(e,t,r)}get seekOffset(){return pe(this,tn.SEEK_OFFSET,xl)}set seekOffset(e){Te(this,tn.SEEK_OFFSET,e),this.setAttribute("aria-label",Oe.SEEK_BACK_N_SECS({seekOffset:this.seekOffset})),Uo(Fo(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return pe(this,y.MEDIA_CURRENT_TIME,oS)}set mediaCurrentTime(e){Te(this,y.MEDIA_CURRENT_TIME,e)}handleClick(){let e=Math.max(this.mediaCurrentTime-this.seekOffset,0),t=new x.CustomEvent($.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(t)}};x.customElements.get("media-seek-backward-button")||x.customElements.define("media-seek-backward-button",yh);var rn={SEEK_OFFSET:"seekoffset"},Rl=30,lS=`<svg aria-hidden="true" viewBox="0 0 20 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(8.9 19.87)">${Rl}</text><path d="M10 6V3l5.61 4L10 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 10 6Z"/></svg>`,Nv=N.createElement("template");Nv.innerHTML=`
  <slot name="icon">${lS}</slot>
`;var dS=0,Th=class extends Ce{static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_CURRENT_TIME,rn.SEEK_OFFSET]}constructor(e={}){super({slotTemplate:Nv,tooltipContent:ce.SEEK_FORWARD,...e})}connectedCallback(){this.seekOffset=pe(this,rn.SEEK_OFFSET,Rl),super.connectedCallback()}attributeChangedCallback(e,t,r){e===rn.SEEK_OFFSET&&(this.seekOffset=pe(this,rn.SEEK_OFFSET,Rl)),super.attributeChangedCallback(e,t,r)}get seekOffset(){return pe(this,rn.SEEK_OFFSET,Rl)}set seekOffset(e){Te(this,rn.SEEK_OFFSET,e),this.setAttribute("aria-label",Oe.SEEK_FORWARD_N_SECS({seekOffset:this.seekOffset})),Uo(Fo(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return pe(this,y.MEDIA_CURRENT_TIME,dS)}set mediaCurrentTime(e){Te(this,y.MEDIA_CURRENT_TIME,e)}handleClick(){let e=this.mediaCurrentTime+this.seekOffset,t=new x.CustomEvent($.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(t)}};x.customElements.get("media-seek-forward-button")||x.customElements.define("media-seek-forward-button",Th);var $v=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},_h=(i,e,t)=>($v(i,e,"read from private field"),t?t.call(i):e.get(i)),uS=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},cS=(i,e,t,r)=>($v(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),sn,ei={REMAINING:"remaining",SHOW_DURATION:"showduration",NO_TOGGLE:"notoggle"},Uv=[...Object.values(ei),y.MEDIA_CURRENT_TIME,y.MEDIA_DURATION,y.MEDIA_SEEKABLE],Fv=["Enter"," "],hS="&nbsp;/&nbsp;",Bv=(i,{timesSep:e=hS}={})=>{var t,r;let s=i.hasAttribute(ei.REMAINING),n=i.hasAttribute(ei.SHOW_DURATION),a=(t=i.mediaCurrentTime)!=null?t:0,[,o]=(r=i.mediaSeekable)!=null?r:[],l=0;Number.isFinite(i.mediaDuration)?l=i.mediaDuration:Number.isFinite(o)&&(l=o);let d=s?di(0-(l-a)):di(a);return n?`${d}${e}${di(l)}`:d},fS="video not loaded, unknown time.",mS=i=>{var e;let t=i.mediaCurrentTime,[,r]=(e=i.mediaSeekable)!=null?e:[],s=null;if(Number.isFinite(i.mediaDuration)?s=i.mediaDuration:Number.isFinite(r)&&(s=r),t==null||s===null){i.setAttribute("aria-valuetext",fS);return}let n=i.hasAttribute(ei.REMAINING),a=i.hasAttribute(ei.SHOW_DURATION),o=n?Or(0-(s-t)):Or(t);if(!a){i.setAttribute("aria-valuetext",o);return}let l=Or(s),d=`${o} of ${l}`;i.setAttribute("aria-valuetext",d)},Ah=class extends Jt{constructor(){super(),uS(this,sn,void 0),cS(this,sn,this.shadowRoot.querySelector("slot")),_h(this,sn).innerHTML=`${Bv(this)}`}static get observedAttributes(){return[...super.observedAttributes,...Uv,"disabled"]}connectedCallback(){let{style:e}=Le(this.shadowRoot,":host(:hover:not([notoggle]))");e.setProperty("cursor","pointer"),e.setProperty("background","var(--media-control-hover-background, rgba(50 50 70 / .7))"),this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","progressbar"),this.setAttribute("aria-label",Pe.PLAYBACK_TIME());let t=r=>{let{key:s}=r;if(!Fv.includes(s)){this.removeEventListener("keyup",t);return}this.toggleTimeDisplay()};this.addEventListener("keydown",r=>{let{metaKey:s,altKey:n,key:a}=r;if(s||n||!Fv.includes(a)){this.removeEventListener("keyup",t);return}this.addEventListener("keyup",t)}),this.addEventListener("click",this.toggleTimeDisplay),super.connectedCallback()}toggleTimeDisplay(){this.noToggle||(this.hasAttribute("remaining")?this.removeAttribute("remaining"):this.setAttribute("remaining",""))}disconnectedCallback(){this.disable(),super.disconnectedCallback()}attributeChangedCallback(e,t,r){Uv.includes(e)?this.update():e==="disabled"&&r!==t&&(r==null?this.enable():this.disable()),super.attributeChangedCallback(e,t,r)}enable(){this.tabIndex=0}disable(){this.tabIndex=-1}get remaining(){return Re(this,ei.REMAINING)}set remaining(e){Se(this,ei.REMAINING,e)}get showDuration(){return Re(this,ei.SHOW_DURATION)}set showDuration(e){Se(this,ei.SHOW_DURATION,e)}get noToggle(){return Re(this,ei.NO_TOGGLE)}set noToggle(e){Se(this,ei.NO_TOGGLE,e)}get mediaDuration(){return pe(this,y.MEDIA_DURATION)}set mediaDuration(e){Te(this,y.MEDIA_DURATION,e)}get mediaCurrentTime(){return pe(this,y.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Te(this,y.MEDIA_CURRENT_TIME,e)}get mediaSeekable(){let e=this.getAttribute(y.MEDIA_SEEKABLE);if(e)return e.split(":").map(t=>+t)}set mediaSeekable(e){if(e==null){this.removeAttribute(y.MEDIA_SEEKABLE);return}this.setAttribute(y.MEDIA_SEEKABLE,e.join(":"))}update(){let e=Bv(this);mS(this),e!==_h(this,sn).innerHTML&&(_h(this,sn).innerHTML=e)}};sn=new WeakMap;x.customElements.get("media-time-display")||x.customElements.define("media-time-display",Ah);var Hv=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},ut=(i,e,t)=>(Hv(i,e,"read from private field"),t?t.call(i):e.get(i)),yi=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},Bt=(i,e,t,r)=>(Hv(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),pS=(i,e,t,r)=>({set _(s){Bt(i,e,s,t)},get _(){return ut(i,e,r)}}),nn,Il,an,ha,Ll,kl,Cl,on,qr,wl,Dl=class{constructor(e,t,r){yi(this,nn,void 0),yi(this,Il,void 0),yi(this,an,void 0),yi(this,ha,void 0),yi(this,Ll,void 0),yi(this,kl,void 0),yi(this,Cl,void 0),yi(this,on,void 0),yi(this,qr,0),yi(this,wl,(s=performance.now())=>{Bt(this,qr,requestAnimationFrame(ut(this,wl))),Bt(this,ha,performance.now()-ut(this,an));let n=1e3/this.fps;if(ut(this,ha)>n){Bt(this,an,s-ut(this,ha)%n);let a=1e3/((s-ut(this,Il))/++pS(this,Ll)._),o=(s-ut(this,kl))/1e3/this.duration,l=ut(this,Cl)+o*this.playbackRate;l-ut(this,nn).valueAsNumber>0?Bt(this,on,this.playbackRate/this.duration/a):(Bt(this,on,.995*ut(this,on)),l=ut(this,nn).valueAsNumber+ut(this,on)),this.callback(l)}}),Bt(this,nn,e),this.callback=t,this.fps=r}start(){ut(this,qr)===0&&(Bt(this,an,performance.now()),Bt(this,Il,ut(this,an)),Bt(this,Ll,0),ut(this,wl).call(this))}stop(){ut(this,qr)!==0&&(cancelAnimationFrame(ut(this,qr)),Bt(this,qr,0))}update({start:e,duration:t,playbackRate:r}){let s=e-ut(this,nn).valueAsNumber,n=Math.abs(t-this.duration);(s>0||s<-.03||n>=.5)&&this.callback(e),Bt(this,Cl,e),Bt(this,kl,performance.now()),this.duration=t,this.playbackRate=r}};nn=new WeakMap;Il=new WeakMap;an=new WeakMap;ha=new WeakMap;Ll=new WeakMap;kl=new WeakMap;Cl=new WeakMap;on=new WeakMap;qr=new WeakMap;wl=new WeakMap;var Lh=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},rt=(i,e,t)=>(Lh(i,e,"read from private field"),t?t.call(i):e.get(i)),ct=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},Ti=(i,e,t,r)=>(Lh(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),yt=(i,e,t)=>(Lh(i,e,"access private method"),t),ln,jr,Ol,ma,Nl,Pl,pa,ga,dn,un,fa,kh,Gv,Sh,Ul,Ch,Fl,wh,Bl,Dh,xh,Kv,va,$l,Rh,Wv,gS="video not loaded, unknown time.",vS=i=>{let e=i.range,t=Or(+Yv(i)),r=Or(+i.mediaSeekableEnd),s=t&&r?`${t} of ${r}`:gS;e.setAttribute("aria-valuetext",s)},Vv=N.createElement("template");Vv.innerHTML=`
  <style>
    :host {
      --media-box-border-radius: 4px;
      --media-box-padding-left: 10px;
      --media-box-padding-right: 10px;
      --media-preview-border-radius: var(--media-box-border-radius);
      --media-box-arrow-offset: var(--media-box-border-radius);
      --_control-background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
      --_preview-background: var(--media-preview-background, var(--_control-background));

      
      contain: layout;
    }

    #buffered {
      background: var(--media-time-range-buffered-color, rgb(255 255 255 / .4));
      position: absolute;
      height: 100%;
      will-change: width;
    }

    #preview-rail,
    #current-rail {
      width: 100%;
      position: absolute;
      left: 0;
      bottom: 100%;
      pointer-events: none;
      will-change: transform;
    }

    [part~="box"] {
      width: min-content;
      
      position: absolute;
      bottom: 100%;
      flex-direction: column;
      align-items: center;
      transform: translateX(-50%);
    }

    [part~="current-box"] {
      display: var(--media-current-box-display, var(--media-box-display, flex));
      margin: var(--media-current-box-margin, var(--media-box-margin, 0 0 5px));
      visibility: hidden;
    }

    [part~="preview-box"] {
      display: var(--media-preview-box-display, var(--media-box-display, flex));
      margin: var(--media-preview-box-margin, var(--media-box-margin, 0 0 5px));
      transition-property: var(--media-preview-transition-property, visibility, opacity);
      transition-duration: var(--media-preview-transition-duration-out, .25s);
      transition-delay: var(--media-preview-transition-delay-out, 0s);
      visibility: hidden;
      opacity: 0;
    }

    :host(:is([${y.MEDIA_PREVIEW_IMAGE}], [${y.MEDIA_PREVIEW_TIME}])[dragging]) [part~="preview-box"] {
      transition-duration: var(--media-preview-transition-duration-in, .5s);
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      visibility: visible;
      opacity: 1;
    }

    @media (hover: hover) {
      :host(:is([${y.MEDIA_PREVIEW_IMAGE}], [${y.MEDIA_PREVIEW_TIME}]):hover) [part~="preview-box"] {
        transition-duration: var(--media-preview-transition-duration-in, .5s);
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
        opacity: 1;
      }
    }

    media-preview-thumbnail,
    ::slotted(media-preview-thumbnail) {
      visibility: hidden;
      
      transition: visibility 0s .25s;
      transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
      background: var(--media-preview-thumbnail-background, var(--_preview-background));
      box-shadow: var(--media-preview-thumbnail-box-shadow, 0 0 4px rgb(0 0 0 / .2));
      max-width: var(--media-preview-thumbnail-max-width, 180px);
      max-height: var(--media-preview-thumbnail-max-height, 160px);
      min-width: var(--media-preview-thumbnail-min-width, 120px);
      min-height: var(--media-preview-thumbnail-min-height, 80px);
      border: var(--media-preview-thumbnail-border);
      border-radius: var(--media-preview-thumbnail-border-radius,
        var(--media-preview-border-radius) var(--media-preview-border-radius) 0 0);
    }

    :host([${y.MEDIA_PREVIEW_IMAGE}][dragging]) media-preview-thumbnail,
    :host([${y.MEDIA_PREVIEW_IMAGE}][dragging]) ::slotted(media-preview-thumbnail) {
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      visibility: visible;
    }

    @media (hover: hover) {
      :host([${y.MEDIA_PREVIEW_IMAGE}]:hover) media-preview-thumbnail,
      :host([${y.MEDIA_PREVIEW_IMAGE}]:hover) ::slotted(media-preview-thumbnail) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
      }

      :host([${y.MEDIA_PREVIEW_TIME}]:hover) {
        --media-time-range-hover-display: block;
      }
    }

    media-preview-chapter-display,
    ::slotted(media-preview-chapter-display) {
      font-size: var(--media-font-size, 13px);
      line-height: 17px;
      min-width: 0;
      visibility: hidden;
      
      transition: min-width 0s, border-radius 0s, margin 0s, padding 0s, visibility 0s;
      transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
      background: var(--media-preview-chapter-background, var(--_preview-background));
      border-radius: var(--media-preview-chapter-border-radius,
        var(--media-preview-border-radius) var(--media-preview-border-radius)
        var(--media-preview-border-radius) var(--media-preview-border-radius));
      padding: var(--media-preview-chapter-padding, 3.5px 9px);
      margin: var(--media-preview-chapter-margin, 0 0 5px);
      text-shadow: var(--media-preview-chapter-text-shadow, 0 0 4px rgb(0 0 0 / .75));
    }

    :host([${y.MEDIA_PREVIEW_IMAGE}]) media-preview-chapter-display,
    :host([${y.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-chapter-display) {
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      border-radius: var(--media-preview-chapter-border-radius, 0);
      padding: var(--media-preview-chapter-padding, 3.5px 9px 0);
      margin: var(--media-preview-chapter-margin, 0);
      min-width: 100%;
    }

    media-preview-chapter-display[${y.MEDIA_PREVIEW_CHAPTER}],
    ::slotted(media-preview-chapter-display[${y.MEDIA_PREVIEW_CHAPTER}]) {
      visibility: visible;
    }

    media-preview-chapter-display:not([aria-valuetext]),
    ::slotted(media-preview-chapter-display:not([aria-valuetext])) {
      display: none;
    }

    media-preview-time-display,
    ::slotted(media-preview-time-display),
    media-time-display,
    ::slotted(media-time-display) {
      font-size: var(--media-font-size, 13px);
      line-height: 17px;
      min-width: 0;
      
      transition: min-width 0s, border-radius 0s;
      transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
      background: var(--media-preview-time-background, var(--_preview-background));
      border-radius: var(--media-preview-time-border-radius,
        var(--media-preview-border-radius) var(--media-preview-border-radius)
        var(--media-preview-border-radius) var(--media-preview-border-radius));
      padding: var(--media-preview-time-padding, 3.5px 9px);
      margin: var(--media-preview-time-margin, 0);
      text-shadow: var(--media-preview-time-text-shadow, 0 0 4px rgb(0 0 0 / .75));
      transform: translateX(min(
        max(calc(50% - var(--_box-width) / 2),
        calc(var(--_box-shift, 0))),
        calc(var(--_box-width) / 2 - 50%)
      ));
    }

    :host([${y.MEDIA_PREVIEW_IMAGE}]) media-preview-time-display,
    :host([${y.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-time-display) {
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      border-radius: var(--media-preview-time-border-radius,
        0 0 var(--media-preview-border-radius) var(--media-preview-border-radius));
      min-width: 100%;
    }

    :host([${y.MEDIA_PREVIEW_TIME}]:hover) {
      --media-time-range-hover-display: block;
    }

    [part~="arrow"],
    ::slotted([part~="arrow"]) {
      display: var(--media-box-arrow-display, inline-block);
      transform: translateX(min(
        max(calc(50% - var(--_box-width) / 2 + var(--media-box-arrow-offset)),
        calc(var(--_box-shift, 0))),
        calc(var(--_box-width) / 2 - 50% - var(--media-box-arrow-offset))
      ));
      
      border-color: transparent;
      border-top-color: var(--media-box-arrow-background, var(--_control-background));
      border-width: var(--media-box-arrow-border-width,
        var(--media-box-arrow-height, 5px) var(--media-box-arrow-width, 6px) 0);
      border-style: solid;
      justify-content: center;
      height: 0;
    }
  </style>
  <div id="preview-rail">
    <slot name="preview" part="box preview-box">
      <media-preview-thumbnail></media-preview-thumbnail>
      <media-preview-chapter-display></media-preview-chapter-display>
      <media-preview-time-display></media-preview-time-display>
      <slot name="preview-arrow"><div part="arrow"></div></slot>
    </slot>
  </div>
  <div id="current-rail">
    <slot name="current" part="box current-box">
      
    </slot>
  </div>
`;var Ml=(i,e=i.mediaCurrentTime)=>{let t=Number.isFinite(i.mediaSeekableStart)?i.mediaSeekableStart:0,r=Number.isFinite(i.mediaDuration)?i.mediaDuration:i.mediaSeekableEnd;if(Number.isNaN(r))return 0;let s=(e-t)/(r-t);return Math.max(0,Math.min(s,1))},Yv=(i,e=i.range.valueAsNumber)=>{let t=Number.isFinite(i.mediaSeekableStart)?i.mediaSeekableStart:0,r=Number.isFinite(i.mediaDuration)?i.mediaDuration:i.mediaSeekableEnd;return Number.isNaN(r)?0:e*(r-t)+t},Ih=class extends Vr{constructor(){super(),ct(this,un),ct(this,kh),ct(this,Ul),ct(this,Fl),ct(this,Bl),ct(this,xh),ct(this,va),ct(this,Rh),ct(this,ln,void 0),ct(this,jr,void 0),ct(this,Ol,void 0),ct(this,ma,void 0),ct(this,Nl,void 0),ct(this,Pl,void 0),ct(this,pa,void 0),ct(this,ga,void 0),ct(this,dn,void 0),ct(this,Sh,r=>{this.dragging||(Hs(r)&&(this.range.valueAsNumber=r),this.updateBar())}),this.container.appendChild(Vv.content.cloneNode(!0)),this.shadowRoot.querySelector("#track").insertAdjacentHTML("afterbegin",'<div id="buffered" part="buffered"></div>'),Ti(this,Ol,this.shadowRoot.querySelectorAll('[part~="box"]')),Ti(this,Nl,this.shadowRoot.querySelector('[part~="preview-box"]')),Ti(this,Pl,this.shadowRoot.querySelector('[part~="current-box"]'));let t=getComputedStyle(this);Ti(this,pa,parseInt(t.getPropertyValue("--media-box-padding-left"))),Ti(this,ga,parseInt(t.getPropertyValue("--media-box-padding-right"))),Ti(this,jr,new Dl(this.range,rt(this,Sh),60))}static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_PAUSED,y.MEDIA_DURATION,y.MEDIA_SEEKABLE,y.MEDIA_CURRENT_TIME,y.MEDIA_PREVIEW_IMAGE,y.MEDIA_PREVIEW_TIME,y.MEDIA_PREVIEW_CHAPTER,y.MEDIA_BUFFERED,y.MEDIA_PLAYBACK_RATE,y.MEDIA_LOADING,y.MEDIA_ENDED]}connectedCallback(){var e;super.connectedCallback(),this.range.setAttribute("aria-label",Pe.SEEK()),yt(this,un,fa).call(this),Ti(this,ln,this.getRootNode()),(e=rt(this,ln))==null||e.addEventListener("transitionstart",this)}disconnectedCallback(){var e;super.disconnectedCallback(),yt(this,un,fa).call(this),(e=rt(this,ln))==null||e.removeEventListener("transitionstart",this),Ti(this,ln,null)}attributeChangedCallback(e,t,r){super.attributeChangedCallback(e,t,r),t!=r&&(e===y.MEDIA_CURRENT_TIME||e===y.MEDIA_PAUSED||e===y.MEDIA_ENDED||e===y.MEDIA_LOADING||e===y.MEDIA_DURATION||e===y.MEDIA_SEEKABLE?(rt(this,jr).update({start:Ml(this),duration:this.mediaSeekableEnd-this.mediaSeekableStart,playbackRate:this.mediaPlaybackRate}),yt(this,un,fa).call(this),vS(this)):e===y.MEDIA_BUFFERED&&this.updateBufferedBar(),(e===y.MEDIA_DURATION||e===y.MEDIA_SEEKABLE)&&(this.mediaChaptersCues=rt(this,dn),this.updateBar()))}get mediaChaptersCues(){return rt(this,dn)}set mediaChaptersCues(e){var t;Ti(this,dn,e),this.updateSegments((t=rt(this,dn))==null?void 0:t.map(r=>({start:Ml(this,r.startTime),end:Ml(this,r.endTime)})))}get mediaPaused(){return Re(this,y.MEDIA_PAUSED)}set mediaPaused(e){Se(this,y.MEDIA_PAUSED,e)}get mediaLoading(){return Re(this,y.MEDIA_LOADING)}set mediaLoading(e){Se(this,y.MEDIA_LOADING,e)}get mediaDuration(){return pe(this,y.MEDIA_DURATION)}set mediaDuration(e){Te(this,y.MEDIA_DURATION,e)}get mediaCurrentTime(){return pe(this,y.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Te(this,y.MEDIA_CURRENT_TIME,e)}get mediaPlaybackRate(){return pe(this,y.MEDIA_PLAYBACK_RATE,1)}set mediaPlaybackRate(e){Te(this,y.MEDIA_PLAYBACK_RATE,e)}get mediaBuffered(){let e=this.getAttribute(y.MEDIA_BUFFERED);return e?e.split(" ").map(t=>t.split(":").map(r=>+r)):[]}set mediaBuffered(e){if(!e){this.removeAttribute(y.MEDIA_BUFFERED);return}let t=e.map(r=>r.join(":")).join(" ");this.setAttribute(y.MEDIA_BUFFERED,t)}get mediaSeekable(){let e=this.getAttribute(y.MEDIA_SEEKABLE);if(e)return e.split(":").map(t=>+t)}set mediaSeekable(e){if(e==null){this.removeAttribute(y.MEDIA_SEEKABLE);return}this.setAttribute(y.MEDIA_SEEKABLE,e.join(":"))}get mediaSeekableEnd(){var e;let[,t=this.mediaDuration]=(e=this.mediaSeekable)!=null?e:[];return t}get mediaSeekableStart(){var e;let[t=0]=(e=this.mediaSeekable)!=null?e:[];return t}get mediaPreviewImage(){return ge(this,y.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){fe(this,y.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewTime(){return pe(this,y.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Te(this,y.MEDIA_PREVIEW_TIME,e)}get mediaEnded(){return Re(this,y.MEDIA_ENDED)}set mediaEnded(e){Se(this,y.MEDIA_ENDED,e)}updateBar(){super.updateBar(),this.updateBufferedBar(),this.updateCurrentBox()}updateBufferedBar(){var e;let t=this.mediaBuffered;if(!t.length)return;let r;if(this.mediaEnded)r=1;else{let n=this.mediaCurrentTime,[,a=this.mediaSeekableStart]=(e=t.find(([o,l])=>o<=n&&n<=l))!=null?e:[];r=Ml(this,a)}let{style:s}=Le(this.shadowRoot,"#buffered");s.setProperty("width",`${r*100}%`)}updateCurrentBox(){if(!this.shadowRoot.querySelector('slot[name="current"]').assignedElements().length)return;let t=Le(this.shadowRoot,"#current-rail"),r=Le(this.shadowRoot,'[part~="current-box"]'),s=yt(this,Ul,Ch).call(this,rt(this,Pl)),n=yt(this,Fl,wh).call(this,s,this.range.valueAsNumber),a=yt(this,Bl,Dh).call(this,s,this.range.valueAsNumber);t.style.transform=`translateX(${n})`,t.style.setProperty("--_range-width",`${s.range.width}`),r.style.setProperty("--_box-shift",`${a}`),r.style.setProperty("--_box-width",`${s.box.width}px`),r.style.setProperty("visibility","initial")}handleEvent(e){switch(super.handleEvent(e),e.type){case"input":yt(this,Rh,Wv).call(this);break;case"pointermove":yt(this,xh,Kv).call(this,e);break;case"pointerup":case"pointerleave":yt(this,va,$l).call(this,null);break;case"transitionstart":St(e.target,this)&&setTimeout(()=>yt(this,un,fa).call(this),0);break}}};ln=new WeakMap;jr=new WeakMap;Ol=new WeakMap;ma=new WeakMap;Nl=new WeakMap;Pl=new WeakMap;pa=new WeakMap;ga=new WeakMap;dn=new WeakMap;un=new WeakSet;fa=function(){yt(this,kh,Gv).call(this)?rt(this,jr).start():rt(this,jr).stop()};kh=new WeakSet;Gv=function(){return this.isConnected&&!this.mediaPaused&&!this.mediaLoading&&!this.mediaEnded&&this.mediaSeekableEnd>0&&a0(this)};Sh=new WeakMap;Ul=new WeakSet;Ch=function(i){var e;let r=((e=this.getAttribute("bounds")?ui(this,`#${this.getAttribute("bounds")}`):this.parentElement)!=null?e:this).getBoundingClientRect(),s=this.range.getBoundingClientRect(),n=i.offsetWidth,a=-(s.left-r.left-n/2),o=r.right-s.left-n/2;return{box:{width:n,min:a,max:o},bounds:r,range:s}};Fl=new WeakSet;wh=function(i,e){let t=`${e*100}%`,{width:r,min:s,max:n}=i.box;if(!r)return t;if(Number.isNaN(s)||(t=`max(${`calc(1 / var(--_range-width) * 100 * ${s}% + var(--media-box-padding-left))`}, ${t})`),!Number.isNaN(n)){let o=`calc(1 / var(--_range-width) * 100 * ${n}% - var(--media-box-padding-right))`;t=`min(${t}, ${o})`}return t};Bl=new WeakSet;Dh=function(i,e){let{width:t,min:r,max:s}=i.box,n=e*i.range.width;if(n<r+rt(this,pa)){let a=i.range.left-i.bounds.left-rt(this,pa);return`${n-t/2+a}px`}if(n>s-rt(this,ga)){let a=i.bounds.right-i.range.right-rt(this,ga);return`${n+t/2-a-i.range.width}px`}return 0};xh=new WeakSet;Kv=function(i){let e=[...rt(this,Ol)].some(u=>i.composedPath().includes(u));if(!this.dragging&&(e||!i.composedPath().includes(this))){yt(this,va,$l).call(this,null);return}let t=this.mediaSeekableEnd;if(!t)return;let r=Le(this.shadowRoot,"#preview-rail"),s=Le(this.shadowRoot,'[part~="preview-box"]'),n=yt(this,Ul,Ch).call(this,rt(this,Nl)),a=(i.clientX-n.range.left)/n.range.width;a=Math.max(0,Math.min(1,a));let o=yt(this,Fl,wh).call(this,n,a),l=yt(this,Bl,Dh).call(this,n,a);r.style.transform=`translateX(${o})`,r.style.setProperty("--_range-width",`${n.range.width}`),s.style.setProperty("--_box-shift",`${l}`),s.style.setProperty("--_box-width",`${n.box.width}px`);let d=Math.round(rt(this,ma))-Math.round(a*t);Math.abs(d)<1&&a>.01&&a<.99||(Ti(this,ma,a*t),yt(this,va,$l).call(this,rt(this,ma)))};va=new WeakSet;$l=function(i){this.dispatchEvent(new x.CustomEvent($.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:i}))};Rh=new WeakSet;Wv=function(){rt(this,jr).stop();let i=Yv(this);this.dispatchEvent(new x.CustomEvent($.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:i}))};x.customElements.get("media-time-range")||x.customElements.define("media-time-range",Ih);var cn={PLACEMENT:"placement",BOUNDS:"bounds"},qv=N.createElement("template");qv.innerHTML=`
  <style>
    :host {
      --_tooltip-background-color: var(--media-tooltip-background-color, var(--media-secondary-color, rgba(20, 20, 30, .7)));
      --_tooltip-background: var(--media-tooltip-background, var(--_tooltip-background-color));
      --_tooltip-arrow-half-width: calc(var(--media-tooltip-arrow-width, 12px) / 2);
      --_tooltip-arrow-height: var(--media-tooltip-arrow-height, 5px);
      --_tooltip-arrow-background: var(--media-tooltip-arrow-color, var(--_tooltip-background-color));
      position: relative;
      pointer-events: none;
      display: var(--media-tooltip-display, inline-flex);
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
      z-index: var(--media-tooltip-z-index, 1);
      background: var(--_tooltip-background);
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      font: var(--media-font,
        var(--media-font-weight, 400)
        var(--media-font-size, 13px) /
        var(--media-text-content-height, var(--media-control-height, 18px))
        var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
      padding: var(--media-tooltip-padding, .35em .7em);
      border: var(--media-tooltip-border, none);
      border-radius: var(--media-tooltip-border-radius, 5px);
      filter: var(--media-tooltip-filter, drop-shadow(0 0 4px rgba(0, 0, 0, .2)));
      white-space: var(--media-tooltip-white-space, nowrap);
    }

    :host([hidden]) {
      display: none;
    }

    img, svg {
      display: inline-block;
    }

    #arrow {
      position: absolute;
      width: 0px;
      height: 0px;
      border-style: solid;
      display: var(--media-tooltip-arrow-display, block);
    }

    :host(:not([placement])),
    :host([placement="top"]) {
      position: absolute;
      bottom: calc(100% + var(--media-tooltip-distance, 12px));
      left: 50%;
      transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
    }
    :host(:not([placement])) #arrow,
    :host([placement="top"]) #arrow {
      top: 100%;
      left: 50%;
      border-width: var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width);
      border-color: var(--_tooltip-arrow-background) transparent transparent transparent;
      transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
    }

    :host([placement="right"]) {
      position: absolute;
      left: calc(100% + var(--media-tooltip-distance, 12px));
      top: 50%;
      transform: translate(0, -50%);
    }
    :host([placement="right"]) #arrow {
      top: 50%;
      right: 100%;
      border-width: var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0;
      border-color: transparent var(--_tooltip-arrow-background) transparent transparent;
      transform: translate(0, -50%);
    }

    :host([placement="bottom"]) {
      position: absolute;
      top: calc(100% + var(--media-tooltip-distance, 12px));
      left: 50%;
      transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
    }
    :host([placement="bottom"]) #arrow {
      bottom: 100%;
      left: 50%;
      border-width: 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width);
      border-color: transparent transparent var(--_tooltip-arrow-background) transparent;
      transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
    }

    :host([placement="left"]) {
      position: absolute;
      right: calc(100% + var(--media-tooltip-distance, 12px));
      top: 50%;
      transform: translate(0, -50%);
    }
    :host([placement="left"]) #arrow {
      top: 50%;
      left: 100%;
      border-width: var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height);
      border-color: transparent transparent transparent var(--_tooltip-arrow-background);
      transform: translate(0, -50%);
    }
    
    :host([placement="none"]) #arrow {
      display: none;
    }

  </style>
  <slot></slot>
  <div id="arrow"></div>
`;var Mh=class extends x.HTMLElement{constructor(){if(super(),this.updateXOffset=()=>{var e;let t=this.placement;if(t==="left"||t==="right"){this.style.removeProperty("--media-tooltip-offset-x");return}let r=getComputedStyle(this),s=(e=ui(this,"#"+this.bounds))!=null?e:He(this);if(!s)return;let{x:n,width:a}=s.getBoundingClientRect(),{x:o,width:l}=this.getBoundingClientRect(),d=o+l,u=n+a,c=r.getPropertyValue("--media-tooltip-offset-x"),h=c?parseFloat(c.replace("px","")):0,f=r.getPropertyValue("--media-tooltip-container-margin"),m=f?parseFloat(f.replace("px","")):0,p=o-n+h-m,g=d-u+h+m;if(p<0){this.style.setProperty("--media-tooltip-offset-x",`${p}px`);return}if(g>0){this.style.setProperty("--media-tooltip-offset-x",`${g}px`);return}this.style.removeProperty("--media-tooltip-offset-x")},this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(qv.content.cloneNode(!0))),this.arrowEl=this.shadowRoot.querySelector("#arrow"),Object.prototype.hasOwnProperty.call(this,"placement")){let e=this.placement;delete this.placement,this.placement=e}}static get observedAttributes(){return[cn.PLACEMENT,cn.BOUNDS]}get placement(){return ge(this,cn.PLACEMENT)}set placement(e){fe(this,cn.PLACEMENT,e)}get bounds(){return ge(this,cn.BOUNDS)}set bounds(e){fe(this,cn.BOUNDS,e)}};x.customElements.get("media-tooltip")||x.customElements.define("media-tooltip",Mh);var ES=1,bS=i=>i.mediaMuted?0:i.mediaVolume,yS=i=>`${Math.round(i*100)}%`,Ph=class extends Vr{static get observedAttributes(){return[...super.observedAttributes,y.MEDIA_VOLUME,y.MEDIA_MUTED,y.MEDIA_VOLUME_UNAVAILABLE]}constructor(){super(),this.range.addEventListener("input",()=>{let e=this.range.value,t=new x.CustomEvent($.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(t)})}connectedCallback(){super.connectedCallback(),this.range.setAttribute("aria-label",Pe.VOLUME())}attributeChangedCallback(e,t,r){super.attributeChangedCallback(e,t,r),(e===y.MEDIA_VOLUME||e===y.MEDIA_MUTED)&&(this.range.valueAsNumber=bS(this),this.range.setAttribute("aria-valuetext",yS(this.range.valueAsNumber)),this.updateBar())}get mediaVolume(){return pe(this,y.MEDIA_VOLUME,ES)}set mediaVolume(e){Te(this,y.MEDIA_VOLUME,e)}get mediaMuted(){return Re(this,y.MEDIA_MUTED)}set mediaMuted(e){Se(this,y.MEDIA_MUTED,e)}get mediaVolumeUnavailable(){return ge(this,y.MEDIA_VOLUME_UNAVAILABLE)}set mediaVolumeUnavailable(e){fe(this,y.MEDIA_VOLUME_UNAVAILABLE,e)}};x.customElements.get("media-volume-range")||x.customElements.define("media-volume-range",Ph);var TS=Object.create,tE=Object.defineProperty,_S=Object.getOwnPropertyDescriptor,AS=Object.getOwnPropertyNames,SS=Object.getPrototypeOf,xS=Object.prototype.hasOwnProperty,iE=function(i,e){return function(){return i&&(e=i(i=0)),e}},kt=function(i,e){return function(){return e||i((e={exports:{}}).exports,e),e.exports}},RS=function(i,e,t,r){if(e&&typeof e=="object"||typeof e=="function")for(var s=AS(e),n=0,a=s.length,o;n<a;n++)o=s[n],!xS.call(i,o)&&o!==t&&tE(i,o,{get:function(l){return e[l]}.bind(null,o),enumerable:!(r=_S(e,o))||r.enumerable});return i},ii=function(i,e,t){return t=i!=null?TS(SS(i)):{},RS(e||!i||!i.__esModule?tE(t,"default",{value:i,enumerable:!0}):t,i)},Ai=kt(function(i,e){var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t={},e.exports=t});function Jr(i,e){return e!=null&&typeof Symbol!="undefined"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](i):Jr(i,e)}var es=iE(function(){es()});function Vh(i){"@swc/helpers - typeof";return i&&typeof Symbol!="undefined"&&i.constructor===Symbol?"symbol":typeof i}var Yh=iE(function(){}),rE=kt(function(i,e){var t=Array.prototype.slice;e.exports=r;function r(s,n){for(("length"in s)||(s=[s]),s=t.call(s);s.length;){var a=s.shift(),o=n(a);if(o)return o;a.childNodes&&a.childNodes.length&&(s=t.call(a.childNodes).concat(s))}}}),IS=kt(function(i,e){es(),e.exports=t;function t(r,s){if(!Jr(this,t))return new t(r,s);this.data=r,this.nodeValue=r,this.length=r.length,this.ownerDocument=s||null}t.prototype.nodeType=8,t.prototype.nodeName="#comment",t.prototype.toString=function(){return"[object Comment]"}}),LS=kt(function(i,e){es(),e.exports=t;function t(r,s){if(!Jr(this,t))return new t(r);this.data=r||"",this.length=this.data.length,this.ownerDocument=s||null}t.prototype.type="DOMTextNode",t.prototype.nodeType=3,t.prototype.nodeName="#text",t.prototype.toString=function(){return this.data},t.prototype.replaceData=function(r,s,n){var a=this.data,o=a.substring(0,r),l=a.substring(r+s,a.length);this.data=o+n+l,this.length=this.data.length}}),sE=kt(function(i,e){e.exports=t;function t(r){var s=this,n=r.type;r.target||(r.target=s),s.listeners||(s.listeners={});var a=s.listeners[n];if(a)return a.forEach(function(o){r.currentTarget=s,typeof o=="function"?o(r):o.handleEvent(r)});s.parentNode&&s.parentNode.dispatchEvent(r)}}),nE=kt(function(i,e){e.exports=t;function t(r,s){var n=this;n.listeners||(n.listeners={}),n.listeners[r]||(n.listeners[r]=[]),n.listeners[r].indexOf(s)===-1&&n.listeners[r].push(s)}}),aE=kt(function(i,e){e.exports=t;function t(r,s){var n=this;if(n.listeners&&n.listeners[r]){var a=n.listeners[r],o=a.indexOf(s);o!==-1&&a.splice(o,1)}}}),kS=kt(function(i,e){Yh(),e.exports=r;var t=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function r(h){switch(h.nodeType){case 3:return u(h.data);case 8:return"<!--"+h.data+"-->";default:return s(h)}}function s(h){var f=[],m=h.tagName;return h.namespaceURI==="http://www.w3.org/1999/xhtml"&&(m=m.toLowerCase()),f.push("<"+m+d(h)+o(h)),t.indexOf(m)>-1?f.push(" />"):(f.push(">"),h.childNodes.length?f.push.apply(f,h.childNodes.map(r)):h.textContent||h.innerText?f.push(u(h.textContent||h.innerText)):h.innerHTML&&f.push(h.innerHTML),f.push("</"+m+">")),f.join("")}function n(h,f){var m=Vh(h[f]);return f==="style"&&Object.keys(h.style).length>0?!0:h.hasOwnProperty(f)&&(m==="string"||m==="boolean"||m==="number")&&f!=="nodeName"&&f!=="className"&&f!=="tagName"&&f!=="textContent"&&f!=="innerText"&&f!=="namespaceURI"&&f!=="innerHTML"}function a(h){if(typeof h=="string")return h;var f="";return Object.keys(h).forEach(function(m){var p=h[m];m=m.replace(/[A-Z]/g,function(g){return"-"+g.toLowerCase()}),f+=m+":"+p+";"}),f}function o(h){var f=h.dataset,m=[];for(var p in f)m.push({name:"data-"+p,value:f[p]});return m.length?l(m):""}function l(h){var f=[];return h.forEach(function(m){var p=m.name,g=m.value;p==="style"&&(g=a(g)),f.push(p+'="'+c(g)+'"')}),f.length?" "+f.join(" "):""}function d(h){var f=[];for(var m in h)n(h,m)&&f.push({name:m,value:h[m]});for(var p in h._attributes)for(var g in h._attributes[p]){var E=h._attributes[p][g],b=(E.prefix?E.prefix+":":"")+g;f.push({name:b,value:E.value})}return h.className&&f.push({name:"class",value:h.className}),f.length?l(f):""}function u(h){var f="";return typeof h=="string"?f=h:h&&(f=h.toString()),f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(h){return u(h).replace(/"/g,"&quot;")}}),oE=kt(function(i,e){es();var t=rE(),r=sE(),s=nE(),n=aE(),a=kS(),o="http://www.w3.org/1999/xhtml";e.exports=l;function l(d,u,c){if(!Jr(this,l))return new l(d);var h=c===void 0?o:c||null;this.tagName=h===o?String(d).toUpperCase():d,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=u||null,this.namespaceURI=h,this._attributes={},this.tagName==="INPUT"&&(this.type="text")}l.prototype.type="DOMElement",l.prototype.nodeType=1,l.prototype.appendChild=function(d){return d.parentNode&&d.parentNode.removeChild(d),this.childNodes.push(d),d.parentNode=this,d},l.prototype.replaceChild=function(d,u){d.parentNode&&d.parentNode.removeChild(d);var c=this.childNodes.indexOf(u);return u.parentNode=null,this.childNodes[c]=d,d.parentNode=this,u},l.prototype.removeChild=function(d){var u=this.childNodes.indexOf(d);return this.childNodes.splice(u,1),d.parentNode=null,d},l.prototype.insertBefore=function(d,u){d.parentNode&&d.parentNode.removeChild(d);var c=u==null?-1:this.childNodes.indexOf(u);return c>-1?this.childNodes.splice(c,0,d):this.childNodes.push(d),d.parentNode=this,d},l.prototype.setAttributeNS=function(d,u,c){var h=null,f=u,m=u.indexOf(":");if(m>-1&&(h=u.substr(0,m),f=u.substr(m+1)),this.tagName==="INPUT"&&u==="type")this.type=c;else{var p=this._attributes[d]||(this._attributes[d]={});p[f]={value:c,prefix:h}}},l.prototype.getAttributeNS=function(d,u){var c=this._attributes[d],h=c&&c[u]&&c[u].value;return this.tagName==="INPUT"&&u==="type"?this.type:typeof h!="string"?null:h},l.prototype.removeAttributeNS=function(d,u){var c=this._attributes[d];c&&delete c[u]},l.prototype.hasAttributeNS=function(d,u){var c=this._attributes[d];return!!c&&u in c},l.prototype.setAttribute=function(d,u){return this.setAttributeNS(null,d,u)},l.prototype.getAttribute=function(d){return this.getAttributeNS(null,d)},l.prototype.removeAttribute=function(d){return this.removeAttributeNS(null,d)},l.prototype.hasAttribute=function(d){return this.hasAttributeNS(null,d)},l.prototype.removeEventListener=n,l.prototype.addEventListener=s,l.prototype.dispatchEvent=r,l.prototype.focus=function(){},l.prototype.toString=function(){return a(this)},l.prototype.getElementsByClassName=function(d){var u=d.split(" "),c=[];return t(this,function(h){if(h.nodeType===1){var f=h.className||"",m=f.split(" ");u.every(function(p){return m.indexOf(p)!==-1})&&c.push(h)}}),c},l.prototype.getElementsByTagName=function(d){d=d.toLowerCase();var u=[];return t(this.childNodes,function(c){c.nodeType===1&&(d==="*"||c.tagName.toLowerCase()===d)&&u.push(c)}),u},l.prototype.contains=function(d){return t(this,function(u){return d===u})||!1}}),CS=kt(function(i,e){es();var t=oE();e.exports=r;function r(s){if(!Jr(this,r))return new r;this.childNodes=[],this.parentNode=null,this.ownerDocument=s||null}r.prototype.type="DocumentFragment",r.prototype.nodeType=11,r.prototype.nodeName="#document-fragment",r.prototype.appendChild=t.prototype.appendChild,r.prototype.replaceChild=t.prototype.replaceChild,r.prototype.removeChild=t.prototype.removeChild,r.prototype.toString=function(){return this.childNodes.map(function(s){return String(s)}).join("")}}),wS=kt(function(i,e){e.exports=t;function t(r){}t.prototype.initEvent=function(r,s,n){this.type=r,this.bubbles=s,this.cancelable=n},t.prototype.preventDefault=function(){}}),DS=kt(function(i,e){es();var t=rE(),r=IS(),s=LS(),n=oE(),a=CS(),o=wS(),l=sE(),d=nE(),u=aE();e.exports=c;function c(){if(!Jr(this,c))return new c;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}var h=c.prototype;h.createTextNode=function(f){return new s(f,this)},h.createElementNS=function(f,m){var p=f===null?null:String(f);return new n(m,this,p)},h.createElement=function(f){return new n(f,this)},h.createDocumentFragment=function(){return new a(this)},h.createEvent=function(f){return new o(f)},h.createComment=function(f){return new r(f,this)},h.getElementById=function(f){f=String(f);var m=t(this.childNodes,function(p){if(String(p.id)===f)return p});return m||null},h.getElementsByClassName=n.prototype.getElementsByClassName,h.getElementsByTagName=n.prototype.getElementsByTagName,h.contains=n.prototype.contains,h.removeEventListener=u,h.addEventListener=d,h.dispatchEvent=l}),MS=kt(function(i,e){var t=DS();e.exports=new t}),PS=kt(function(i,e){var t=typeof global!="undefined"?global:typeof window!="undefined"?window:{},r=MS(),s;typeof document!="undefined"?s=document:(s=t["__GLOBAL_DOCUMENT_CACHE@4"],s||(s=t["__GLOBAL_DOCUMENT_CACHE@4"]=r)),e.exports=s});function OS(i){if(Array.isArray(i))return i}function NS(i,e){var t=i==null?null:typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r=[],s=!0,n=!1,a,o;try{for(t=t.call(i);!(s=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(l){n=!0,o=l}finally{try{!s&&t.return!=null&&t.return()}finally{if(n)throw o}}return r}}function US(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $h(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function lE(i,e){if(i){if(typeof i=="string")return $h(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $h(i,e)}}function qi(i,e){return OS(i)||NS(i,e)||lE(i,e)||US()}var ya=ii(Ai()),_a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var e=Math.random()*16|0,t=i==="x"?e:e&3|8;return t.toString(16)})},dE=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},Xr=function(i){if(i&&typeof i.nodeName!="undefined")return i.muxId||(i.muxId=dE()),i.muxId;var e;try{e=document.querySelector(i)}catch{}return e&&!e.muxId&&(e.muxId=i),(e==null?void 0:e.muxId)||i},Hh=function(i){var e;i&&typeof i.nodeName!="undefined"?(e=i,i=Xr(e)):e=document.querySelector(i);var t=e&&e.nodeName?e.nodeName.toLowerCase():"";return[e,i,t]};function FS(i){if(Array.isArray(i))return $h(i)}function BS(i){if(typeof Symbol!="undefined"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function $S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _i(i){return FS(i)||BS(i)||lE(i)||$S()}var Qr={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},HS=function(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,t,r,s,n,a,o=i?[console,i]:[console],l=(t=console.trace).bind.apply(t,_i(o)),d=(r=console.info).bind.apply(r,_i(o)),u=(s=console.debug).bind.apply(s,_i(o)),c=(n=console.warn).bind.apply(n,_i(o)),h=(a=console.error).bind.apply(a,_i(o)),f=e;return{trace:function(){for(var m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];if(!(f>Qr.TRACE))return l.apply(void 0,_i(p))},debug:function(){for(var m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];if(!(f>Qr.DEBUG))return u.apply(void 0,_i(p))},info:function(){for(var m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];if(!(f>Qr.INFO))return d.apply(void 0,_i(p))},warn:function(){for(var m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];if(!(f>Qr.WARN))return c.apply(void 0,_i(p))},error:function(){for(var m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];if(!(f>Qr.ERROR))return h.apply(void 0,_i(p))},get level(){return f},set level(m){m!==this.level&&(f=m!=null?m:e)}}},qe=HS("[mux]"),Oh=ii(Ai());function Gh(){var i=Oh.default.doNotTrack||Oh.default.navigator&&Oh.default.navigator.doNotTrack;return i==="1"}var GS=ii(Ai()),KS={now:function(){var i=GS.default.performance,e=i&&i.timing,t=e&&e.navigationStart,r=typeof t=="number"&&typeof i.now=="function"?t+i.now():Date.now();return Math.round(r)}},st=KS;function se(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}es();function ht(i,e){if(!Jr(i,e))throw new TypeError("Cannot call a class as a function")}function jv(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function Si(i,e,t){return e&&jv(i.prototype,e),t&&jv(i,t),i}function H(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Kh(i,e){return Kh=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},Kh(i,e)}function WS(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&Kh(i,e)}function Gl(i){return Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gl(i)}function VS(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}Yh();function YS(i,e){return e&&(Vh(e)==="object"||typeof e=="function")?e:se(i)}function qS(i){var e=VS();return function(){var t=Gl(i),r;if(e){var s=Gl(this).constructor;r=Reflect.construct(t,arguments,s)}else r=t.apply(this,arguments);return YS(this,r)}}var ti=function(i){return Aa(i)[0]},Aa=function(i){if(typeof i!="string"||i==="")return["localhost"];var e=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,t=i.match(e)||[],r=t[4],s;return r&&(s=(r.match(/[^\.]+\.[^\.]+$/)||[])[0]),[r,s]},Nh=ii(Ai()),jS={exists:function(){var i=Nh.default.performance,e=i&&i.timing;return e!==void 0},domContentLoadedEventEnd:function(){var i=Nh.default.performance,e=i&&i.timing;return e&&e.domContentLoadedEventEnd},navigationStart:function(){var i=Nh.default.performance,e=i&&i.timing;return e&&e.navigationStart}},Kl=jS;function et(i,e,t){t=t===void 0?1:t,i[e]=i[e]||0,i[e]+=t}function Wl(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),r.forEach(function(s){H(i,s,t[s])})}return i}function zS(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function qh(i,e){return e=e!=null?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):zS(Object(e)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(e,t))}),i}var XS=["x-cdn","content-type"],uE=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],QS=XS.concat(uE);function jh(i){i=i||"";var e={},t=i.trim().split(/[\r\n]+/);return t.forEach(function(r){if(r){var s=r.split(": "),n=s.shift();n&&(QS.indexOf(n.toLowerCase())>=0||n.toLowerCase().indexOf("x-litix-")===0)&&(e[n]=s.join(": "))}}),e}function Vl(i){if(i){var e=uE.find(function(t){return i[t]!==void 0});return e?i[e]:void 0}}var ZS=function(i){var e={};for(var t in i){var r=i[t],s=r["DATA-ID"].search("io.litix.data.");if(s!==-1){var n=r["DATA-ID"].replace("io.litix.data.","");e[n]=r.VALUE}}return e},cE=ZS,Hl=function(i){if(!i)return{};var e=Kl.navigationStart(),t=i.loading,r=t?t.start:i.trequest,s=t?t.first:i.tfirst,n=t?t.end:i.tload;return{bytesLoaded:i.total,requestStart:Math.round(e+r),responseStart:Math.round(e+s),responseEnd:Math.round(e+n)}},Ea=function(i){if(!(!i||typeof i.getAllResponseHeaders!="function"))return jh(i.getAllResponseHeaders())},JS=function(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,n=i.log,a=i.utils.secondsToMs,o=function(E){var b=parseInt(s.version),T;return b===1&&E.programDateTime!==null&&(T=E.programDateTime),b===0&&E.pdt!==null&&(T=E.pdt),T};if(!Kl.exists()){n.warn("performance timing not supported. Not tracking HLS.js.");return}var l=function(E,b){return i.emit(e,E,b)},d=function(E,b){var T=b.levels,_=b.audioTracks,A=b.url,R=b.stats,S=b.networkDetails,C=b.sessionData,P={},k={};T.forEach(function(V,ne){P[ne]={width:V.width,height:V.height,bitrate:V.bitrate,attrs:V.attrs}}),_.forEach(function(V,ne){k[ne]={name:V.name,language:V.lang,bitrate:V.bitrate}});var M=Hl(R),B=M.bytesLoaded,F=M.requestStart,X=M.responseStart,Q=M.responseEnd;l("requestcompleted",qh(Wl({},cE(C)),{request_event_type:E,request_bytes_loaded:B,request_start:F,request_response_start:X,request_response_end:Q,request_type:"manifest",request_hostname:ti(A),request_response_headers:Ea(S),request_rendition_lists:{media:P,audio:k,video:{}}}))};t.on(s.Events.MANIFEST_LOADED,d);var u=function(E,b){var T=b.details,_=b.level,A=b.networkDetails,R=b.stats,S=Hl(R),C=S.bytesLoaded,P=S.requestStart,k=S.responseStart,M=S.responseEnd,B=T.fragments[T.fragments.length-1],F=o(B)+a(B.duration);l("requestcompleted",{request_event_type:E,request_bytes_loaded:C,request_start:P,request_response_start:k,request_response_end:M,request_current_level:_,request_type:"manifest",request_hostname:ti(T.url),request_response_headers:Ea(A),video_holdback:T.holdBack&&a(T.holdBack),video_part_holdback:T.partHoldBack&&a(T.partHoldBack),video_part_target_duration:T.partTarget&&a(T.partTarget),video_target_duration:T.targetduration&&a(T.targetduration),video_source_is_live:T.live,player_manifest_newest_program_time:isNaN(F)?void 0:F})};t.on(s.Events.LEVEL_LOADED,u);var c=function(E,b){var T=b.details,_=b.networkDetails,A=b.stats,R=Hl(A),S=R.bytesLoaded,C=R.requestStart,P=R.responseStart,k=R.responseEnd;l("requestcompleted",{request_event_type:E,request_bytes_loaded:S,request_start:C,request_response_start:P,request_response_end:k,request_type:"manifest",request_hostname:ti(T.url),request_response_headers:Ea(_)})};t.on(s.Events.AUDIO_TRACK_LOADED,c);var h=function(E,b){var T=b.stats,_=b.networkDetails,A=b.frag;T=T||A.stats;var R=Hl(T),S=R.bytesLoaded,C=R.requestStart,P=R.responseStart,k=R.responseEnd,M=_?Ea(_):void 0,B={request_event_type:E,request_bytes_loaded:S,request_start:C,request_response_start:P,request_response_end:k,request_hostname:_?ti(_.responseURL):void 0,request_id:M?Vl(M):void 0,request_response_headers:M,request_media_duration:A.duration,request_url:_==null?void 0:_.responseURL};A.type==="main"?(B.request_type="media",B.request_current_level=A.level,B.request_video_width=(t.levels[A.level]||{}).width,B.request_video_height=(t.levels[A.level]||{}).height,B.request_labeled_bitrate=(t.levels[A.level]||{}).bitrate):B.request_type=A.type,l("requestcompleted",B)};t.on(s.Events.FRAG_LOADED,h);var f=function(E,b){var T=b.frag,_=T.start,A=o(T),R={currentFragmentPDT:A,currentFragmentStart:a(_)};l("fragmentchange",R)};t.on(s.Events.FRAG_CHANGED,f);var m=function(E,b){var T=b.type,_=b.details,A=b.response,R=b.fatal,S=b.frag,C=b.networkDetails,P=(S==null?void 0:S.url)||b.url||"",k=C?Ea(C):void 0;if((_===s.ErrorDetails.MANIFEST_LOAD_ERROR||_===s.ErrorDetails.MANIFEST_LOAD_TIMEOUT||_===s.ErrorDetails.FRAG_LOAD_ERROR||_===s.ErrorDetails.FRAG_LOAD_TIMEOUT||_===s.ErrorDetails.LEVEL_LOAD_ERROR||_===s.ErrorDetails.LEVEL_LOAD_TIMEOUT||_===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||_===s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT||_===s.ErrorDetails.SUBTITLE_LOAD_ERROR||_===s.ErrorDetails.SUBTITLE_LOAD_TIMEOUT||_===s.ErrorDetails.KEY_LOAD_ERROR||_===s.ErrorDetails.KEY_LOAD_TIMEOUT)&&l("requestfailed",{request_error:_,request_url:P,request_hostname:ti(P),request_id:k?Vl(k):void 0,request_type:_===s.ErrorDetails.FRAG_LOAD_ERROR||_===s.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":_===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||_===s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":_===s.ErrorDetails.SUBTITLE_LOAD_ERROR||_===s.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":_===s.ErrorDetails.KEY_LOAD_ERROR||_===s.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:A==null?void 0:A.code,request_error_text:A==null?void 0:A.text}),R){var M,B="".concat(P?"url: ".concat(P,`
`):"")+"".concat(A&&(A.code||A.text)?"response: ".concat(A.code,", ").concat(A.text,`
`):"")+"".concat(b.reason?"failure reason: ".concat(b.reason,`
`):"")+"".concat(b.level?"level: ".concat(b.level,`
`):"")+"".concat(b.parent?"parent stream controller: ".concat(b.parent,`
`):"")+"".concat(b.buffer?"buffer length: ".concat(b.buffer,`
`):"")+"".concat(b.error?"error: ".concat(b.error,`
`):"")+"".concat(b.event?"event: ".concat(b.event,`
`):"")+"".concat(b.err?"error message: ".concat((M=b.err)===null||M===void 0?void 0:M.message,`
`):"");l("error",{player_error_code:T,player_error_message:_,player_error_context:B})}};t.on(s.Events.ERROR,m);var p=function(E,b){var T=b.frag,_=T&&T._url||"";l("requestcanceled",{request_event_type:E,request_url:_,request_type:"media",request_hostname:ti(_)})};t.on(s.Events.FRAG_LOAD_EMERGENCY_ABORTED,p);var g=function(E,b){var T=b.level,_=t.levels[T];if(_&&_.attrs&&_.attrs.BANDWIDTH){var A=_.attrs.BANDWIDTH,R,S=parseFloat(_.attrs["FRAME-RATE"]);isNaN(S)||(R=S),A?l("renditionchange",{video_source_fps:R,video_source_bitrate:A,video_source_width:_.width,video_source_height:_.height,video_source_rendition_name:_.name,video_source_codec:_==null?void 0:_.videoCodec}):n.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};t.on(s.Events.LEVEL_SWITCHED,g),t._stopMuxMonitor=function(){t.off(s.Events.MANIFEST_LOADED,d),t.off(s.Events.LEVEL_LOADED,u),t.off(s.Events.AUDIO_TRACK_LOADED,c),t.off(s.Events.FRAG_LOADED,h),t.off(s.Events.FRAG_CHANGED,f),t.off(s.Events.ERROR,m),t.off(s.Events.FRAG_LOAD_EMERGENCY_ABORTED,p),t.off(s.Events.LEVEL_SWITCHED,g),t.off(s.Events.DESTROYING,t._stopMuxMonitor),delete t._stopMuxMonitor},t.on(s.Events.DESTROYING,t._stopMuxMonitor)},e1=function(i){i&&typeof i._stopMuxMonitor=="function"&&i._stopMuxMonitor()},zv=function(i,e){if(!i||!i.requestEndDate)return{};var t=ti(i.url),r=i.url,s=i.bytesLoaded,n=new Date(i.requestStartDate).getTime(),a=new Date(i.firstByteDate).getTime(),o=new Date(i.requestEndDate).getTime(),l=isNaN(i.duration)?0:i.duration,d=typeof e.getMetricsFor=="function"?e.getMetricsFor(i.mediaType).HttpList:e.getDashMetrics().getHttpRequests(i.mediaType),u;d.length>0&&(u=jh(d[d.length-1]._responseHeaders||""));var c=u?Vl(u):void 0;return{requestStart:n,requestResponseStart:a,requestResponseEnd:o,requestBytesLoaded:s,requestResponseHeaders:u,requestMediaDuration:l,requestHostname:t,requestUrl:r,requestId:c}},t1=function(i,e){var t=e.getQualityFor(i),r=e.getCurrentTrackFor(i).bitrateList;return r?{currentLevel:t,renditionWidth:r[t].width||null,renditionHeight:r[t].height||null,renditionBitrate:r[t].bandwidth}:{}},i1=function(i){var e;return(e=i.match(/.*codecs\*?="(.*)"/))===null||e===void 0?void 0:e[1]},r1=function(i){try{var e,t,r=(t=i.getVersion)===null||t===void 0||(e=t.call(i))===null||e===void 0?void 0:e.split(".").map(function(s){return parseInt(s)})[0];return r}catch{return!1}},s1=function(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=i.log;if(!t||!t.on){s.warn("Invalid dash.js player reference. Monitoring blocked.");return}var n=r1(t),a=function(T,_){return i.emit(e,T,_)},o=function(T){var _=T.type,A=T.data,R=(A||{}).url;a("requestcompleted",{request_event_type:_,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:ti(R),request_url:R})};t.on("manifestLoaded",o);var l={},d=function(T){if(typeof T.getRequests!="function")return null;var _=T.getRequests({state:"executed"});return _.length===0?null:_[_.length-1]},u=function(T){var _=T.type,A=T.fragmentModel,R=T.chunk,S=d(A);c({type:_,request:S,chunk:R})},c=function(T){var _=T.type,A=T.chunk,R=T.request,S=(A||{}).mediaInfo,C=S||{},P=C.type,k=C.bitrateList;k=k||[];var M={};k.forEach(function(ae,Z){M[Z]={},M[Z].width=ae.width,M[Z].height=ae.height,M[Z].bitrate=ae.bandwidth,M[Z].attrs={}}),P==="video"?l.video=M:P==="audio"?l.audio=M:l.media=M;var B=zv(R,t),F=B.requestStart,X=B.requestResponseStart,Q=B.requestResponseEnd,V=B.requestResponseHeaders,ne=B.requestMediaDuration,le=B.requestHostname,W=B.requestUrl,G=B.requestId;a("requestcompleted",{request_event_type:_,request_start:F,request_response_start:X,request_response_end:Q,request_bytes_loaded:-1,request_type:P+"_init",request_response_headers:V,request_hostname:le,request_id:G,request_url:W,request_media_duration:ne,request_rendition_lists:l})};n>=4?t.on("initFragmentLoaded",c):t.on("initFragmentLoaded",u);var h=function(T){var _=T.type,A=T.fragmentModel,R=T.chunk,S=d(A);f({type:_,request:S,chunk:R})},f=function(T){var _=T.type,A=T.chunk,R=T.request,S=A||{},C=S.mediaInfo,P=S.start,k=C||{},M=k.type,B=zv(R,t),F=B.requestStart,X=B.requestResponseStart,Q=B.requestResponseEnd,V=B.requestBytesLoaded,ne=B.requestResponseHeaders,le=B.requestMediaDuration,W=B.requestHostname,G=B.requestUrl,ae=B.requestId,Z=t1(M,t),Ee=Z.currentLevel,Fe=Z.renditionWidth,We=Z.renditionHeight,ze=Z.renditionBitrate;a("requestcompleted",{request_event_type:_,request_start:F,request_response_start:X,request_response_end:Q,request_bytes_loaded:V,request_type:M,request_response_headers:ne,request_hostname:W,request_id:ae,request_url:G,request_media_start_time:P,request_media_duration:le,request_current_level:Ee,request_labeled_bitrate:ze,request_video_width:Fe,request_video_height:We})};n>=4?t.on("mediaFragmentLoaded",f):t.on("mediaFragmentLoaded",h);var m={video:void 0,audio:void 0,totalBitrate:void 0},p=function(){if(m.video&&typeof m.video.bitrate=="number"){if(!(m.video.width&&m.video.height)){s.warn("have bitrate info for video but missing width/height");return}var T=m.video.bitrate;if(m.audio&&typeof m.audio.bitrate=="number"&&(T+=m.audio.bitrate),T!==m.totalBitrate)return m.totalBitrate=T,{video_source_bitrate:T,video_source_height:m.video.height,video_source_width:m.video.width,video_source_codec:i1(m.video.codec)}}},g=function(T,_,A){if(typeof T.newQuality!="number"){s.warn("missing evt.newQuality in qualityChangeRendered event",T);return}var R=T.mediaType;if(R==="audio"||R==="video"){var S=t.getBitrateInfoListFor(R).find(function(P){var k=P.qualityIndex;return k===T.newQuality});if(!(S&&typeof S.bitrate=="number")){s.warn("missing bitrate info for ".concat(R));return}m[R]=qh(Wl({},S),{codec:t.getCurrentTrackFor(R).codec});var C=p();C&&a("renditionchange",C)}};t.on("qualityChangeRendered",g);var E=function(T){var _=T.request,A=T.mediaType;_=_||{},a("requestcanceled",{request_event_type:_.type+"_"+_.action,request_url:_.url,request_type:A,request_hostname:ti(_.url)})};t.on("fragmentLoadingAbandoned",E);var b=function(T){var _=T.error,A,R,S=(_==null||(A=_.data)===null||A===void 0?void 0:A.request)||{},C=(_==null||(R=_.data)===null||R===void 0?void 0:R.response)||{};(_==null?void 0:_.code)===27&&a("requestfailed",{request_error:S.type+"_"+S.action,request_url:S.url,request_hostname:ti(S.url),request_type:S.mediaType,request_error_code:C.status,request_error_text:C.statusText});var P="".concat(S!=null&&S.url?"url: ".concat(S.url,`
`):"")+"".concat(C!=null&&C.status||C!=null&&C.statusText?"response: ".concat(C==null?void 0:C.status,", ").concat(C==null?void 0:C.statusText,`
`):"");a("error",{player_error_code:_==null?void 0:_.code,player_error_message:_==null?void 0:_.message,player_error_context:P})};t.on("error",b),t._stopMuxMonitor=function(){t.off("manifestLoaded",o),t.off("initFragmentLoaded",c),t.off("mediaFragmentLoaded",f),t.off("qualityChangeRendered",g),t.off("error",b),t.off("fragmentLoadingAbandoned",E),delete t._stopMuxMonitor}},n1=function(i){i&&typeof i._stopMuxMonitor=="function"&&i._stopMuxMonitor()},Xv=0,a1=function(){"use strict";function i(){ht(this,i),H(this,"_listeners",void 0)}return Si(i,[{key:"on",value:function(e,t,r){return t._eventEmitterGuid=t._eventEmitterGuid||++Xv,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(t=t.bind(r)),this._listeners[e].push(t),t}},{key:"off",value:function(e,t){var r=this._listeners&&this._listeners[e];r&&r.forEach(function(s,n){s._eventEmitterGuid===t._eventEmitterGuid&&r.splice(n,1)})}},{key:"one",value:function(e,t,r){var s=this;t._eventEmitterGuid=t._eventEmitterGuid||++Xv;var n=function(){s.off(e,n),t.apply(r||this,arguments)};n._eventEmitterGuid=t._eventEmitterGuid,this.on(e,n)}},{key:"emit",value:function(e,t){var r=this;if(this._listeners){t=t||{};var s=this._listeners["before*"]||[],n=this._listeners[e]||[],a=this._listeners["after"+e]||[],o=function(l,d){l=l.slice(),l.forEach(function(u){u.call(r,{type:e},d)})};o(s,t),o(n,t),o(a,t)}}}]),i}(),o1=a1,Uh=ii(Ai()),l1=function(){"use strict";function i(e){var t=this;ht(this,i),H(this,"_playbackHeartbeatInterval",void 0),H(this,"_playheadShouldBeProgressing",void 0),H(this,"pm",void 0),this.pm=e,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,e.on("playing",function(){t._playheadShouldBeProgressing=!0}),e.on("play",this._startPlaybackHeartbeatInterval.bind(this)),e.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),e.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),e.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("seeked",function(){e.data.player_is_paused?t._stopPlaybackHeartbeatInterval():t._startPlaybackHeartbeatInterval()}),e.on("timeupdate",function(){t._playbackHeartbeatInterval!==null&&e.emit("playbackheartbeat")}),e.on("devicesleep",function(r,s){t._playbackHeartbeatInterval!==null&&(Uh.default.clearInterval(t._playbackHeartbeatInterval),e.emit("playbackheartbeatend",{viewer_time:s.viewer_time}),t._playbackHeartbeatInterval=null)})}return Si(i,[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=Uh.default.setInterval(function(){e.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(Uh.default.clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}]),i}(),d1=l1,u1=function i(e){"use strict";var t=this;ht(this,i),H(this,"viewErrored",void 0),e.on("viewinit",function(){t.viewErrored=!1}),e.on("error",function(r,s){try{var n=e.errorTranslator({player_error_code:s.player_error_code,player_error_message:s.player_error_message,player_error_context:s.player_error_context,player_error_severity:s.player_error_severity,player_error_business_exception:s.player_error_business_exception});n&&(e.data.player_error_code=n.player_error_code||s.player_error_code,e.data.player_error_message=n.player_error_message||s.player_error_message,e.data.player_error_context=n.player_error_context||s.player_error_context,e.data.player_error_severity=n.player_error_severity||s.player_error_severity,e.data.player_error_business_exception=n.player_error_business_exception||s.player_error_business_exception,t.viewErrored=!0)}catch(a){e.mux.log.warn("Exception in error translator callback.",a),t.viewErrored=!0}}),e.on("aftererror",function(){var r,s,n,a,o;(r=e.data)===null||r===void 0||delete r.player_error_code,(s=e.data)===null||s===void 0||delete s.player_error_message,(n=e.data)===null||n===void 0||delete n.player_error_context,(a=e.data)===null||a===void 0||delete a.player_error_severity,(o=e.data)===null||o===void 0||delete o.player_error_business_exception})},c1=u1,h1=function(){"use strict";function i(e){ht(this,i),H(this,"_watchTimeTrackerLastCheckedTime",void 0),H(this,"pm",void 0),this.pm=e,this._watchTimeTrackerLastCheckedTime=null,e.on("playbackheartbeat",this._updateWatchTime.bind(this)),e.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}return Si(i,[{key:"_updateWatchTime",value:function(e,t){var r=t.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=r),et(this.pm.data,"view_watch_time",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r}},{key:"_clearWatchTimeState",value:function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null}}]),i}(),f1=h1,m1=function(){"use strict";function i(e){var t=this;ht(this,i),H(this,"_playbackTimeTrackerLastPlayheadPosition",void 0),H(this,"_lastTime",void 0),H(this,"_isAdPlaying",void 0),H(this,"_callbackUpdatePlaybackTime",void 0),H(this,"pm",void 0),this.pm=e,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=st.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null;var r=this._startPlaybackTimeTracking.bind(this);e.on("playing",r),e.on("adplaying",r),e.on("seeked",r);var s=this._stopPlaybackTimeTracking.bind(this);e.on("playbackheartbeatend",s),e.on("seeking",s),e.on("adplaying",function(){t._isAdPlaying=!0}),e.on("adended",function(){t._isAdPlaying=!1}),e.on("adpause",function(){t._isAdPlaying=!1}),e.on("adbreakstart",function(){t._isAdPlaying=!1}),e.on("adbreakend",function(){t._isAdPlaying=!1}),e.on("adplay",function(){t._isAdPlaying=!1}),e.on("viewinit",function(){t._playbackTimeTrackerLastPlayheadPosition=-1,t._lastTime=st.now(),t._isAdPlaying=!1,t._callbackUpdatePlaybackTime=null})}return Si(i,[{key:"_startPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime===null&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time,t=st.now(),r=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?r=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(r=t-this._lastTime),r>0&&r<=1e3&&et(this.pm.data,"view_content_playback_time",r),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=t}}]),i}(),p1=m1,g1=function(){"use strict";function i(e){ht(this,i),H(this,"pm",void 0),this.pm=e;var t=this._updatePlayheadTime.bind(this);e.on("playbackheartbeat",t),e.on("playbackheartbeatend",t),e.on("timeupdate",t),e.on("destroy",function(){e.off("timeupdate",t)})}return Si(i,[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=typeof this.pm.data.view_max_playhead_position=="undefined"?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,t){var r=this,s=function(){r.pm.currentFragmentPDT&&r.pm.currentFragmentStart&&(r.pm.data.player_program_time=r.pm.currentFragmentPDT+r.pm.data.player_playhead_time-r.pm.currentFragmentStart)};if(t&&t.player_playhead_time)this.pm.data.player_playhead_time=t.player_playhead_time,s(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var n=this.pm.getPlayheadTime();typeof n!="undefined"&&(this.pm.data.player_playhead_time=n,s(),this._updateMaxPlayheadPosition())}}}]),i}(),v1=g1,Qv=5*60*1e3,E1=function i(e){"use strict";if(ht(this,i),!e.disableRebufferTracking){var t,r=function(n,a){s(a),t=void 0},s=function(n){if(t){var a=n.viewer_time-t;et(e.data,"view_rebuffer_duration",a),t=n.viewer_time,e.data.view_rebuffer_duration>Qv&&(e.emit("viewend"),e.send("viewend"),e.mux.log.warn("Ending view after rebuffering for longer than ".concat(Qv,"ms, future events will be ignored unless a programchange or videochange occurs.")))}e.data.view_watch_time>=0&&e.data.view_rebuffer_count>0&&(e.data.view_rebuffer_frequency=e.data.view_rebuffer_count/e.data.view_watch_time,e.data.view_rebuffer_percentage=e.data.view_rebuffer_duration/e.data.view_watch_time)};e.on("playbackheartbeat",function(n,a){return s(a)}),e.on("rebufferstart",function(n,a){t||(et(e.data,"view_rebuffer_count",1),t=a.viewer_time,e.one("rebufferend",r))}),e.on("viewinit",function(){t=void 0,e.off("rebufferend",r)})}},b1=E1,y1=function(){"use strict";function i(e){var t=this;ht(this,i),H(this,"_lastCheckedTime",void 0),H(this,"_lastPlayheadTime",void 0),H(this,"_lastPlayheadTimeUpdatedTime",void 0),H(this,"_rebuffering",void 0),H(this,"pm",void 0),this.pm=e,!(e.disableRebufferTracking||e.disablePlayheadRebufferTracking)&&(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,e.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),e.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),e.on("seeking",function(){t._cleanupRebufferTracker(null,{viewer_time:st.now()})}))}return Si(i,[{key:"_checkIfRebuffering",value:function(e,t){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing){this._cleanupRebufferTracker(e,t);return}if(this._lastCheckedTime===null){this._prepareRebufferTrackerState(t.viewer_time);return}if(this._lastPlayheadTime!==this.pm.data.player_playhead_time){this._cleanupRebufferTracker(e,t,!0);return}var r=t.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&r>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=t.viewer_time}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:t.viewer_time});else{if(this._lastCheckedTime===null)return;var s=this.pm.data.player_playhead_time-this._lastPlayheadTime,n=t.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&s>0&&n-s>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+n-s}))}r?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()}}]),i}(),T1=y1,_1=function(){"use strict";function i(e){var t=this;ht(this,i),H(this,"NAVIGATION_START",void 0),H(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){var r=e.data,s=r.view_id;if(!r.view_program_changed){var n=function(a,o){var l=o.viewer_time;(a.type==="playing"&&typeof e.data.view_time_to_first_frame=="undefined"||a.type==="adplaying"&&(typeof e.data.view_time_to_first_frame=="undefined"||t._inPrerollPosition()))&&t.calculateTimeToFirstFrame(l||st.now(),s)};e.one("playing",n),e.one("adplaying",n),e.one("viewend",function(){e.off("playing",n),e.off("adplaying",n)})}})}return Si(i,[{key:"_inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time=="undefined"||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,t){t===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}]),i}(),A1=_1,S1=function i(e){"use strict";var t=this;ht(this,i),H(this,"_lastPlayerHeight",void 0),H(this,"_lastPlayerWidth",void 0),H(this,"_lastPlayheadPosition",void 0),H(this,"_lastSourceHeight",void 0),H(this,"_lastSourceWidth",void 0),e.on("viewinit",function(){t._lastPlayheadPosition=-1});var r=["pause","rebufferstart","seeking","error","adbreakstart","hb"],s=["playing","hb"];r.forEach(function(n){e.on(n,function(){if(t._lastPlayheadPosition>=0&&e.data.player_playhead_time>=0&&t._lastPlayerWidth>=0&&t._lastSourceWidth>0&&t._lastPlayerHeight>=0&&t._lastSourceHeight>0){var a=e.data.player_playhead_time-t._lastPlayheadPosition;if(a<0){t._lastPlayheadPosition=-1;return}var o=Math.min(t._lastPlayerWidth/t._lastSourceWidth,t._lastPlayerHeight/t._lastSourceHeight),l=Math.max(0,o-1),d=Math.max(0,1-o);e.data.view_max_upscale_percentage=Math.max(e.data.view_max_upscale_percentage||0,l),e.data.view_max_downscale_percentage=Math.max(e.data.view_max_downscale_percentage||0,d),et(e.data,"view_total_content_playback_time",a),et(e.data,"view_total_upscaling",l*a),et(e.data,"view_total_downscaling",d*a)}t._lastPlayheadPosition=-1})}),s.forEach(function(n){e.on(n,function(){t._lastPlayheadPosition=e.data.player_playhead_time,t._lastPlayerWidth=e.data.player_width,t._lastPlayerHeight=e.data.player_height,t._lastSourceWidth=e.data.video_source_width,t._lastSourceHeight=e.data.video_source_height})})},x1=S1,R1=2e3,I1=function i(e){"use strict";var t=this;ht(this,i),H(this,"isSeeking",void 0),this.isSeeking=!1;var r=-1,s=function(){var n=st.now(),a=(e.data.viewer_time||n)-(r||n);et(e.data,"view_seek_duration",a),e.data.view_max_seek_time=Math.max(e.data.view_max_seek_time||0,a),t.isSeeking=!1,r=-1};e.on("seeking",function(n,a){if(Object.assign(e.data,a),t.isSeeking&&a.viewer_time-r<=R1){r=a.viewer_time;return}t.isSeeking&&s(),t.isSeeking=!0,r=a.viewer_time,et(e.data,"view_seek_count",1),e.send("seeking")}),e.on("seeked",function(){s()}),e.on("viewend",function(){t.isSeeking&&(s(),e.send("seeked")),t.isSeeking=!1,r=-1})},L1=I1,Zv=function(i,e){i.push(e),i.sort(function(t,r){return t.viewer_time-r.viewer_time})},k1=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],C1=function(){"use strict";function i(e){var t=this;ht(this,i),H(this,"_adHasPlayed",void 0),H(this,"_adRequests",void 0),H(this,"_adResponses",void 0),H(this,"_currentAdRequestNumber",void 0),H(this,"_currentAdResponseNumber",void 0),H(this,"_prerollPlayTime",void 0),H(this,"_wouldBeNewAdPlay",void 0),H(this,"isAdBreak",void 0),H(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){t.isAdBreak=!1,t._currentAdRequestNumber=0,t._currentAdResponseNumber=0,t._adRequests=[],t._adResponses=[],t._adHasPlayed=!1,t._wouldBeNewAdPlay=!0,t._prerollPlayTime=void 0}),k1.forEach(function(s){return e.on(s,t._updateAdData.bind(t))});var r=function(){t.isAdBreak=!1};e.on("adbreakstart",function(){t.isAdBreak=!0}),e.on("play",r),e.on("playing",r),e.on("viewend",r),e.on("adrequest",function(s,n){n=Object.assign({ad_request_id:"generatedAdRequestId"+t._currentAdRequestNumber++},n),Zv(t._adRequests,n),et(e.data,"view_ad_request_count"),t.inPrerollPosition()&&(e.data.view_preroll_requested=!0,t._adHasPlayed||et(e.data,"view_preroll_request_count"))}),e.on("adresponse",function(s,n){n=Object.assign({ad_request_id:"generatedAdRequestId"+t._currentAdResponseNumber++},n),Zv(t._adResponses,n);var a=t.findAdRequest(n.ad_request_id);a&&et(e.data,"view_ad_request_time",Math.max(0,n.viewer_time-a.viewer_time))}),e.on("adplay",function(s,n){t._adHasPlayed=!0,t._wouldBeNewAdPlay&&(t._wouldBeNewAdPlay=!1,et(e.data,"view_ad_played_count")),t.inPrerollPosition()&&!e.data.view_preroll_played&&(e.data.view_preroll_played=!0,t._adRequests.length>0&&(e.data.view_preroll_request_time=Math.max(0,n.viewer_time-t._adRequests[0].viewer_time)),e.data.view_start&&(e.data.view_startup_preroll_request_time=Math.max(0,n.viewer_time-e.data.view_start)),t._prerollPlayTime=n.viewer_time)}),e.on("adplaying",function(s,n){t.inPrerollPosition()&&typeof e.data.view_preroll_load_time=="undefined"&&typeof t._prerollPlayTime!="undefined"&&(e.data.view_preroll_load_time=n.viewer_time-t._prerollPlayTime,e.data.view_startup_preroll_load_time=n.viewer_time-t._prerollPlayTime)}),e.on("adclicked",function(s,n){t._wouldBeNewAdPlay||et(e.data,"view_ad_clicked_count")}),e.on("adskipped",function(s,n){t._wouldBeNewAdPlay||et(e.data,"view_ad_skipped_count")}),e.on("adended",function(){t._wouldBeNewAdPlay=!0}),e.on("aderror",function(){t._wouldBeNewAdPlay=!0})}return Si(i,[{key:"inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time=="undefined"||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]}},{key:"_updateAdData",value:function(e,t){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var r=qi(Aa(t.ad_tag_url),2),s=r[0],n=r[1];this.pm.data.view_preroll_ad_tag_domain=n,this.pm.data.view_preroll_ad_tag_hostname=s}if(!this.pm.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var a=qi(Aa(t.ad_asset_url),2),o=a[0],l=a[1];this.pm.data.view_preroll_ad_asset_domain=l,this.pm.data.view_preroll_ad_asset_hostname=o}}this.pm.data.ad_asset_url=t==null?void 0:t.ad_asset_url,this.pm.data.ad_tag_url=t==null?void 0:t.ad_tag_url,this.pm.data.ad_creative_id=t==null?void 0:t.ad_creative_id,this.pm.data.ad_id=t==null?void 0:t.ad_id,this.pm.data.ad_universal_id=t==null?void 0:t.ad_universal_id}}]),i}(),w1=C1,Jv=ii(Ai()),D1=function i(e){"use strict";ht(this,i);var t,r,s=function(){e.disableRebufferTracking||(et(e.data,"view_waiting_rebuffer_count",1),t=st.now(),r=Jv.default.setInterval(function(){if(t){var d=st.now();et(e.data,"view_waiting_rebuffer_duration",d-t),t=d}},250))},n=function(){e.disableRebufferTracking||t&&(et(e.data,"view_waiting_rebuffer_duration",st.now()-t),t=!1,Jv.default.clearInterval(r))},a=!1,o=function(){a=!0},l=function(){a=!1,n()};e.on("waiting",function(){a&&s()}),e.on("playing",function(){n(),o()}),e.on("pause",l),e.on("seeking",l)},M1=D1,P1=function i(e){"use strict";var t=this;ht(this,i),H(this,"lastWallClockTime",void 0);var r=function(){t.lastWallClockTime=st.now(),e.on("before*",s)},s=function(n){var a=st.now(),o=t.lastWallClockTime;t.lastWallClockTime=a,a-o>3e4&&(e.emit("devicesleep",{viewer_time:o}),Object.assign(e.data,{viewer_time:o}),e.send("devicesleep"),e.emit("devicewake",{viewer_time:a}),Object.assign(e.data,{viewer_time:a}),e.send("devicewake"))};e.one("playbackheartbeat",r),e.on("playbackheartbeatend",function(){e.off("before*",s),e.one("playbackheartbeat",r)})},O1=P1,Fh=ii(Ai()),hE=function(i){return i()}(function(){var i=function(){for(var t=0,r={};t<arguments.length;t++){var s=arguments[t];for(var n in s)r[n]=s[n]}return r};function e(t){function r(s,n,a){var o;if(typeof document!="undefined"){if(arguments.length>1){if(a=i({path:"/"},r.defaults,a),typeof a.expires=="number"){var l=new Date;l.setMilliseconds(l.getMilliseconds()+a.expires*864e5),a.expires=l}try{o=JSON.stringify(n),/^[\{\[]/.test(o)&&(n=o)}catch{}return t.write?n=t.write(n,s):n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),s=encodeURIComponent(String(s)),s=s.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),s=s.replace(/[\(\)]/g,escape),document.cookie=[s,"=",n,a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}s||(o={});for(var d=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,c=0;c<d.length;c++){var h=d[c].split("="),f=h.slice(1).join("=");f.charAt(0)==='"'&&(f=f.slice(1,-1));try{var m=h[0].replace(u,decodeURIComponent);if(f=t.read?t.read(f,m):t(f,m)||f.replace(u,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch{}if(s===m){o=f;break}s||(o[m]=f)}catch{}}return o}}return r.set=r,r.get=function(s){return r.call(r,s)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(s,n){r(s,"",i(n,{expires:-1}))},r.withConverter=e,r}return e(function(){})}),fE="muxData",N1=function(i){return Object.entries(i).map(function(e){var t=qi(e,2),r=t[0],s=t[1];return"".concat(r,"=").concat(s)}).join("&")},U1=function(i){return i.split("&").reduce(function(e,t){var r=qi(t.split("="),2),s=r[0],n=r[1],a=+n,o=n&&a==n?a:n;return e[s]=o,e},{})},mE=function(){var i;try{i=U1(hE.get(fE)||"")}catch{i={}}return i},pE=function(i){try{hE.set(fE,N1(i),{expires:365})}catch{}},F1=function(){var i=mE();return i.mux_viewer_id=i.mux_viewer_id||_a(),i.msn=i.msn||Math.random(),pE(i),{mux_viewer_id:i.mux_viewer_id,mux_sample_number:i.msn}},B1=function(){var i=mE(),e=st.now();return i.session_start&&(i.sst=i.session_start,delete i.session_start),i.session_id&&(i.sid=i.session_id,delete i.session_id),i.session_expires&&(i.sex=i.session_expires,delete i.session_expires),(!i.sex||i.sex<e)&&(i.sid=_a(),i.sst=e),i.sex=e+25*60*1e3,pE(i),{session_id:i.sid,session_start:i.sst,session_expires:i.sex}};function $1(i,e){var t=e.beaconCollectionDomain,r=e.beaconDomain;if(t)return"https://"+t;i=i||"inferred";var s=r||"litix.io";return i.match(/^[a-z0-9]+$/)?"https://"+i+"."+s:"https://img.litix.io/a.gif"}var H1=ii(Ai()),gE=function(){var i;switch(vE()){case"cellular":i="cellular";break;case"ethernet":i="wired";break;case"wifi":i="wifi";break;case void 0:break;default:i="other"}return i},vE=function(){var i=H1.default.navigator,e=i&&(i.connection||i.mozConnection||i.webkitConnection);return e&&e.type};gE.getConnectionFromAPI=vE;var G1=gE,K1={a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"},W1=EE(K1),V1={ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",bz:"business",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ck:"clicked",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",ep:"experiments",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ez:"exception",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",sy:"severity",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},eE=EE(V1);function EE(i){var e={};for(var t in i)i.hasOwnProperty(t)&&(e[i[t]]=t);return e}function Wh(i){var e={},t={};return Object.keys(i).forEach(function(r){var s=!1;if(i.hasOwnProperty(r)&&i[r]!==void 0){var n=r.split("_"),a=n[0],o=W1[a];o||(qe.info("Data key word `"+n[0]+"` not expected in "+r),o=a+"_"),n.splice(1).forEach(function(l){l==="url"&&(s=!0),eE[l]?o+=eE[l]:Number(l)&&Math.floor(Number(l))===Number(l)?o+=l:(qe.info("Data key word `"+l+"` not expected in "+r),o+="_"+l+"_")}),s?t[o]=i[r]:e[o]=i[r]}}),Object.assign(e,t)}var Zr=ii(Ai()),Y1={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},q1=56*1024,j1=["hb","requestcompleted","requestfailed","requestcanceled"],z1="https://img.litix.io",ji=function(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=i||z1,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},Y1,e)};ji.prototype.queueEvent=function(i,e){var t=Object.assign({},e);return this._eventQueue.length<=this._options.maxQueueLength||i==="eventrateexceeded"?(this._eventQueue.push(t),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):!1};ji.prototype.flushEvents=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(i&&this._eventQueue.length===1){this._eventQueue.pop();return}this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending()};ji.prototype.destroy=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.destroyed=!0,i?this._clearBeaconQueue():this.flushEvents(),Zr.default.clearTimeout(this._sendTimeout)};ji.prototype._clearBeaconQueue=function(){var i=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,e=this._eventQueue.slice(i);i>0&&Object.assign(e[e.length-1],Wh({mux_view_message:"event queue truncated"}));var t=this._createPayload(e);bE(this._beaconUrl,t,!0,function(){})};ji.prototype._sendBeaconQueue=function(){var i=this;if(!this._postInFlight){var e=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var t=this._createPayload(e),r=st.now();bE(this._beaconUrl,t,!1,function(s,n){n?(i._eventQueue=e.concat(i._eventQueue),i._failureCount+=1,qe.info("Error sending beacon: "+n)):i._failureCount=0,i._roundTripTime=st.now()-r,i._postInFlight=!1})}};ji.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var i=Math.pow(2,this._failureCount-1);return i=i*Math.random(),(1+i)*this._options.baseTimeBetweenBeacons};ji.prototype._startBeaconSending=function(){var i=this;Zr.default.clearTimeout(this._sendTimeout),!this.destroyed&&(this._sendTimeout=Zr.default.setTimeout(function(){i._eventQueue.length&&i._sendBeaconQueue(),i._startBeaconSending()},this._getNextBeaconTime()))};ji.prototype._createPayload=function(i){var e=this,t={transmission_timestamp:Math.round(st.now())};this._roundTripTime&&(t.rtt_ms=Math.round(this._roundTripTime));var r,s,n,a=function(){r=JSON.stringify({metadata:t,events:s||i}),n=r.length/1024},o=function(){return n<=e._options.maxPayloadKBSize};return a(),o()||(qe.info("Payload size is too big ("+n+" kb). Removing unnecessary events."),s=i.filter(function(l){return j1.indexOf(l.e)===-1}),a()),o()||(qe.info("Payload size still too big ("+n+" kb). Cropping fields.."),s.forEach(function(l){for(var d in l){var u=l[d],c=50*1024;typeof u=="string"&&u.length>c&&(l[d]=u.substring(0,c))}}),a()),r};var X1=function(i){return i.length<=q1},bE=function(i,e,t,r){if(t&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(i,e)){r();return}if(Zr.default.fetch){Zr.default.fetch(i,{method:"POST",body:e,headers:{"Content-Type":"text/plain"},keepalive:X1(e)}).then(function(n){return r(null,n.ok?null:"Error")}).catch(function(n){return r(null,n)});return}if(Zr.default.XMLHttpRequest){var s=new Zr.default.XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4)return r(null,s.status!==200?"error":void 0)},s.open("POST",i),s.setRequestHeader("Content-Type","text/plain"),s.send(e);return}r()},Q1=ji,Z1=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id","player_error_code","player_error_message","player_error_context","player_error_severity","player_error_business_exception"],J1=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],ex=["ad_id","ad_creative_id","ad_universal_id"],tx=["viewstart","error","ended","viewend"],ix=10*60*1e3,rx=function(){"use strict";function i(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ht(this,i);var s,n,a,o,l,d,u,c,h,f,m,p;H(this,"mux",void 0),H(this,"envKey",void 0),H(this,"options",void 0),H(this,"eventQueue",void 0),H(this,"sampleRate",void 0),H(this,"disableCookies",void 0),H(this,"respectDoNotTrack",void 0),H(this,"previousBeaconData",void 0),H(this,"lastEventTime",void 0),H(this,"rateLimited",void 0),H(this,"pageLevelData",void 0),H(this,"viewerData",void 0),this.mux=e,this.envKey=t,this.options=r,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.eventQueue=new Q1($1(this.envKey,this.options));var g;this.sampleRate=(g=this.options.sampleRate)!==null&&g!==void 0?g:1;var E;this.disableCookies=(E=this.options.disableCookies)!==null&&E!==void 0?E:!1;var b;this.respectDoNotTrack=(b=this.options.respectDoNotTrack)!==null&&b!==void 0?b:!1,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(s=this.options.platform)===null||s===void 0?void 0:s.name,viewer_application_version:(n=this.options.platform)===null||n===void 0?void 0:n.version,viewer_application_engine:(a=this.options.platform)===null||a===void 0?void 0:a.layout,viewer_device_name:(o=this.options.platform)===null||o===void 0?void 0:o.product,viewer_device_category:"",viewer_device_manufacturer:(l=this.options.platform)===null||l===void 0?void 0:l.manufacturer,viewer_os_family:(u=this.options.platform)===null||u===void 0||(d=u.os)===null||d===void 0?void 0:d.family,viewer_os_architecture:(h=this.options.platform)===null||h===void 0||(c=h.os)===null||c===void 0?void 0:c.architecture,viewer_os_version:(m=this.options.platform)===null||m===void 0||(f=m.os)===null||f===void 0?void 0:f.version,viewer_connection_type:G1(),page_url:Fh.default===null||Fh.default===void 0||(p=Fh.default.location)===null||p===void 0?void 0:p.href},this.viewerData=this.disableCookies?{}:F1()}return Si(i,[{key:"send",value:function(e,t){if(!(!e||!(t!=null&&t.view_id))){if(this.respectDoNotTrack&&Gh())return qe.info("Not sending `"+e+"` because Do Not Track is enabled");if(!t||typeof t!="object")return qe.error("A data object was expected in send() but was not provided");var r=this.disableCookies?{}:B1(),s=qh(Wl({},this.pageLevelData,t,r,this.viewerData),{event:e,env_key:this.envKey});s.user_id&&(s.viewer_user_id=s.user_id,delete s.user_id);var n,a=((n=s.mux_sample_number)!==null&&n!==void 0?n:0)>=this.sampleRate,o=this._deduplicateBeaconData(e,s),l=Wh(o);if(this.lastEventTime=this.mux.utils.now(),a)return qe.info("Not sending event due to sample rate restriction",e,s,l);if(this.envKey||qe.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,s,l),!this.rateLimited){if(qe.info("Sending event",e,s,l),this.rateLimited=!this.eventQueue.queueEvent(e,l),this.mux.WINDOW_UNLOADING&&e==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&e==="hb"?this.eventQueue.flushEvents(!0):tx.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return s.event="eventrateexceeded",l=Wh(s),this.eventQueue.queueEvent(s.event,l),qe.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,t){var r=this,s={},n=t.view_id;if(n==="-1"||e==="viewstart"||e==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=ix)s=Wl({},t),n&&(this.previousBeaconData=s),n&&e==="viewend"&&(this.previousBeaconData=null);else{var a=e.indexOf("request")===0;Object.entries(t).forEach(function(o){var l=qi(o,2),d=l[0],u=l[1];r.previousBeaconData&&(u!==r.previousBeaconData[d]||Z1.indexOf(d)>-1||r.objectHasChanged(a,d,u,r.previousBeaconData[d])||r.eventRequiresKey(e,d))&&(s[d]=u,r.previousBeaconData[d]=u)})}return s}},{key:"objectHasChanged",value:function(e,t,r,s){return!e||t.indexOf("request_")!==0?!1:t==="request_response_headers"||typeof r!="object"||typeof s!="object"?!0:Object.keys(r||{}).length!==Object.keys(s||{}).length}},{key:"eventRequiresKey",value:function(e,t){return!!(e==="renditionchange"&&t.indexOf("video_source_")===0||ex.includes(t)&&J1.includes(e))}}]),i}(),sx=function i(e){"use strict";ht(this,i);var t=0,r=0,s=0,n=0,a=0,o=0,l=0,d=function(h,f){var m=f.request_start,p=f.request_response_start,g=f.request_response_end,E=f.request_bytes_loaded;n++;var b,T;if(p?(b=p-(m!=null?m:0),T=(g!=null?g:0)-p):T=(g!=null?g:0)-(m!=null?m:0),T>0&&E&&E>0){var _=E/T*8e3;a++,r+=E,s+=T,e.data.view_min_request_throughput=Math.min(e.data.view_min_request_throughput||1/0,_),e.data.view_average_request_throughput=r/s*8e3,e.data.view_request_count=n,b>0&&(t+=b,e.data.view_max_request_latency=Math.max(e.data.view_max_request_latency||0,b),e.data.view_average_request_latency=t/a)}},u=function(h,f){n++,o++,e.data.view_request_count=n,e.data.view_request_failed_count=o},c=function(h,f){n++,l++,e.data.view_request_count=n,e.data.view_request_canceled_count=l};e.on("requestcompleted",d),e.on("requestfailed",u),e.on("requestcanceled",c)},nx=sx,ax=60*60*1e3,ox=function i(e){"use strict";var t=this;ht(this,i),H(this,"_lastEventTime",void 0),e.on("before*",function(r,s){var n=s.viewer_time,a=st.now(),o=t._lastEventTime;if(t._lastEventTime=a,o&&a-o>ax){var l=Object.keys(e.data).reduce(function(d,u){return u.indexOf("video_")===0?Object.assign(d,H({},u,e.data[u])):d},{});e.mux.log.info("Received event after at least an hour inactivity, creating a new view"),e.emit("viewinit",Object.assign({viewer_time:n},l)),e.playbackHeartbeat._playheadShouldBeProgressing&&r.type!=="play"&&r.type!=="adbreakstart"&&(e.emit("play",{viewer_time:n}),r.type!=="playing"&&e.emit("playing",{viewer_time:n}))}})},lx=ox,dx=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],ux=new Set(["requestcompleted","requestfailed","requestcanceled"]),cx=function(i){"use strict";WS(t,i);var e=qS(t);function t(r,s,n){ht(this,t);var a;a=e.call(this),H(se(a),"DOM_CONTENT_LOADED_EVENT_END",void 0),H(se(a),"NAVIGATION_START",void 0),H(se(a),"_destroyed",void 0),H(se(a),"_heartBeatTimeout",void 0),H(se(a),"adTracker",void 0),H(se(a),"dashjs",void 0),H(se(a),"data",void 0),H(se(a),"disablePlayheadRebufferTracking",void 0),H(se(a),"disableRebufferTracking",void 0),H(se(a),"errorTracker",void 0),H(se(a),"errorTranslator",void 0),H(se(a),"getAdData",void 0),H(se(a),"getPlayheadTime",void 0),H(se(a),"getStateData",void 0),H(se(a),"hlsjs",void 0),H(se(a),"id",void 0),H(se(a),"longResumeTracker",void 0),H(se(a),"minimumRebufferDuration",void 0),H(se(a),"mux",void 0),H(se(a),"oldEmit",void 0),H(se(a),"playbackEventDispatcher",void 0),H(se(a),"playbackHeartbeat",void 0),H(se(a),"playbackHeartbeatTime",void 0),H(se(a),"playheadTime",void 0),H(se(a),"seekingTracker",void 0),H(se(a),"sustainedRebufferThreshold",void 0),H(se(a),"watchTimeTracker",void 0),H(se(a),"currentFragmentPDT",void 0),H(se(a),"currentFragmentStart",void 0),a.DOM_CONTENT_LOADED_EVENT_END=Kl.domContentLoadedEventEnd(),a.NAVIGATION_START=Kl.navigationStart();var o={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(f){return f}};a.mux=r,a.id=s,n!=null&&n.beaconDomain&&a.mux.log.warn("The `beaconDomain` setting has been deprecated in favor of `beaconCollectionDomain`. Please change your integration to use `beaconCollectionDomain` instead of `beaconDomain`."),n=Object.assign(o,n),n.data=n.data||{},n.data.property_key&&(n.data.env_key=n.data.property_key,delete n.data.property_key),qe.level=n.debug?Qr.DEBUG:Qr.WARN,a.getPlayheadTime=n.getPlayheadTime,a.getStateData=n.getStateData||function(){return{}},a.getAdData=n.getAdData||function(){},a.minimumRebufferDuration=n.minimumRebufferDuration,a.sustainedRebufferThreshold=n.sustainedRebufferThreshold,a.playbackHeartbeatTime=n.playbackHeartbeatTime,a.disableRebufferTracking=n.disableRebufferTracking,a.disableRebufferTracking&&a.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),a.disablePlayheadRebufferTracking=n.disablePlayheadRebufferTracking,a.errorTranslator=n.errorTranslator,a.playbackEventDispatcher=new rx(r,n.data.env_key,n),a.data={player_instance_id:_a(),mux_sample_rate:n.sampleRate,beacon_domain:n.beaconCollectionDomain||n.beaconDomain},a.data.view_sequence_number=1,a.data.player_sequence_number=1,a.oldEmit=a.emit,a.emit=function(f,m){m=Object.assign({viewer_time:this.mux.utils.now()},m),this.oldEmit(f,m)};var l=function(){typeof this.data.view_start=="undefined"&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(se(a));a.on("viewinit",function(f,m){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,m),this._initializeViewData(),this.one("play",l),this.one("adbreakstart",l)});var d=function(f){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",f)}.bind(se(a));if(a.on("videochange",function(f,m){d(m)}),a.on("programchange",function(f,m){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),d(Object.assign(m,{view_program_changed:!0})),l(),this.emit("play"),this.emit("playing")}),a.on("fragmentchange",function(f,m){this.currentFragmentPDT=m.currentFragmentPDT,this.currentFragmentStart=m.currentFragmentStart}),a.on("destroy",a.destroy),typeof window!="undefined"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var u=function(){var f=typeof a.data.view_start!="undefined";a.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",f&&a.mux.WINDOW_HIDDEN&&(a.data.player_is_paused||a.emit("hb"))};window.addEventListener("visibilitychange",u,!1);var c=function(f){f.persisted||a.destroy()};window.addEventListener("pagehide",c,!1),a.on("destroy",function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("pagehide",c)})}a.on("playerready",function(f,m){Object.assign(this.data,m)}),dx.forEach(function(f){a.on(f,function(m,p){f.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,p),this._sanitizeData()}),a.on("after"+f,function(){(f!=="error"||this.errorTracker.viewErrored)&&this.send(f)})}),a.on("viewend",function(f,m){Object.assign(a.data,m)});var h=function(f){var m=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=m-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};return a.one("playerready",h),a.longResumeTracker=new lx(se(a)),a.errorTracker=new c1(se(a)),new O1(se(a)),a.seekingTracker=new L1(se(a)),a.playheadTime=new v1(se(a)),a.playbackHeartbeat=new d1(se(a)),new x1(se(a)),a.watchTimeTracker=new f1(se(a)),new p1(se(a)),a.adTracker=new w1(se(a)),new T1(se(a)),new b1(se(a)),new A1(se(a)),new M1(se(a)),new nx(se(a)),n.hlsjs&&a.addHLSJS(n),n.dashjs&&a.addDashJS(n),a.emit("viewinit",n.data),a}return Si(t,[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,typeof this.data.view_start!="undefined"&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(r){if(this.data.view_id){var s=Object.assign({},this.data),n=["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"];if(s.video_source_is_live===void 0&&(s.player_source_duration===1/0||s.video_source_duration===1/0?s.video_source_is_live=!0:(s.player_source_duration>0||s.video_source_duration>0)&&(s.video_source_is_live=!1)),s.video_source_is_live||n.forEach(function(d){s[d]=void 0}),s.video_source_url=s.video_source_url||s.player_source_url,s.video_source_url){var a=qi(Aa(s.video_source_url),2),o=a[0],l=a[1];s.video_source_domain=l,s.video_source_hostname=o}delete s.ad_request_id,this.playbackEventDispatcher.send(r,s),this.data.view_sequence_number++,this.data.player_sequence_number++,ux.has(r)||this._restartHeartBeat(),r==="viewend"&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var r=this,s=["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"];s.forEach(function(a){var o=parseInt(r.data[a],10);r.data[a]=isNaN(o)?void 0:o});var n=["player_source_url","video_source_url"];n.forEach(function(a){if(r.data[a]){var o=r.data[a].toLowerCase();(o.indexOf("data:")===0||o.indexOf("blob:")===0)&&(r.data[a]="MSE style URL")}})}},{key:"_resetVideoData",value:function(){var r=this;Object.keys(this.data).forEach(function(s){s.indexOf("video_")===0&&delete r.data[s]})}},{key:"_resetViewData",value:function(){var r=this;Object.keys(this.data).forEach(function(s){s.indexOf("view_")===0&&delete r.data[s]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(){delete this.data.player_error_code,delete this.data.player_error_message,delete this.data.player_error_context,delete this.data.player_error_severity,delete this.data.player_error_business_exception}},{key:"_initializeViewData",value:function(){var r=this,s=this.data.view_id=_a(),n=function(){s===r.data.view_id&&et(r.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",n):n()}},{key:"_restartHeartBeat",value:function(){var r=this;window.clearTimeout(this._heartBeatTimeout),this._heartBeatTimeout=window.setTimeout(function(){r.data.player_is_paused||r.emit("hb")},1e4)}},{key:"addHLSJS",value:function(r){if(!r.hlsjs){this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.");return}if(this.hlsjs){this.mux.log.warn("An instance of HLS.js is already being monitored for this player.");return}this.hlsjs=r.hlsjs,JS(this.mux,this.id,r.hlsjs,{},r.Hls||window.Hls)}},{key:"removeHLSJS",value:function(){this.hlsjs&&(e1(this.hlsjs),this.hlsjs=void 0)}},{key:"addDashJS",value:function(r){if(!r.dashjs){this.mux.log.warn("You must pass a valid dashjs instance in order to track it.");return}if(this.dashjs){this.mux.log.warn("An instance of Dash.js is already being monitored for this player.");return}this.dashjs=r.dashjs,s1(this.mux,this.id,r.dashjs)}},{key:"removeDashJS",value:function(){this.dashjs&&(n1(this.dashjs),this.dashjs=void 0)}}]),t}(o1),hx=cx;Yh();var ba=ii(PS());function fx(){return ba.default&&!!(ba.default.fullscreenElement||ba.default.webkitFullscreenElement||ba.default.mozFullScreenElement||ba.default.msFullscreenElement)}var mx=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],px={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};function gx(i,e,t){var r=qi(Hh(e),3),s=r[0],n=r[1],a=r[2],o=i.log,l=i.utils.getComputedStyle,d=i.utils.secondsToMs,u={automaticErrorTracking:!0};if(s){if(a!=="video"&&a!=="audio")return o.error("The element of `"+n+"` was not a media element.")}else return o.error("No element was found with the `"+n+"` query selector.");s.mux&&(s.mux.destroy(),delete s.mux,o.warn("Already monitoring this video element, replacing existing event listeners")),t=Object.assign(u,t),t.data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:i.VERSION},t.data),t.getPlayheadTime=function(){return d(s.currentTime)},t.getStateData=function(){var h,f=this.hlsjs&&this.hlsjs.url,m=this.dashjs&&Vh(this.dashjs.getSource==="function")&&this.dashjs.getSource(),p={player_is_paused:s.paused,player_playhead_time:d(s.currentTime),player_width:parseInt(l(s,"width")),player_height:parseInt(l(s,"height")),player_autoplay_on:s.autoplay,player_preload_on:s.preload,player_language_code:s.lang,player_is_fullscreen:fx(),video_poster_url:s.poster,video_source_url:f||m||s.currentSrc,video_source_duration:d(s.duration),video_source_height:s.videoHeight,video_source_width:s.videoWidth,view_dropped_frame_count:s==null||(h=s.getVideoPlaybackQuality)===null||h===void 0?void 0:h.call(s).droppedVideoFrames},g=t.getPlayheadTime();if(s.getStartDate&&g>0){var E=s.getStartDate();if(E&&typeof E.getTime=="function"&&E.getTime()){var b=E.getTime();if(p.player_program_time=b+g,s.seekable.length>0){var T=b+s.seekable.end(s.seekable.length-1);p.player_live_edge_program_time=T}}}return p},s.mux=s.mux||{},s.mux.deleted=!1,s.mux.emit=function(h,f){i.emit(n,h,f)};var c=function(){o.error("The monitor for this video element has already been destroyed.")};s.mux.destroy=function(){Object.keys(s.mux.listeners).forEach(function(h){s.removeEventListener(h,s.mux.listeners[h],!1)}),delete s.mux.listeners,s.mux.destroy=c,s.mux.swapElement=c,s.mux.emit=c,s.mux.addHLSJS=c,s.mux.addDashJS=c,s.mux.removeHLSJS=c,s.mux.removeDashJS=c,s.mux.deleted=!0,i.emit(n,"destroy")},s.mux.swapElement=function(h){var f=qi(Hh(h),3),m=f[0],p=f[1],g=f[2];if(m){if(g!=="video"&&g!=="audio")return i.log.error("The element of `"+p+"` was not a media element.")}else return i.log.error("No element was found with the `"+p+"` query selector.");m.muxId=s.muxId,delete s.muxId,m.mux=m.mux||{},m.mux.listeners=Object.assign({},s.mux.listeners),delete s.mux.listeners,Object.keys(m.mux.listeners).forEach(function(E){s.removeEventListener(E,m.mux.listeners[E],!1),m.addEventListener(E,m.mux.listeners[E],!1)}),m.mux.swapElement=s.mux.swapElement,m.mux.destroy=s.mux.destroy,delete s.mux,s=m},s.mux.addHLSJS=function(h){i.addHLSJS(n,h)},s.mux.addDashJS=function(h){i.addDashJS(n,h)},s.mux.removeHLSJS=function(){i.removeHLSJS(n)},s.mux.removeDashJS=function(){i.removeDashJS(n)},i.init(n,t),i.emit(n,"playerready"),s.paused||(i.emit(n,"play"),s.readyState>2&&i.emit(n,"playing")),s.mux.listeners={},mx.forEach(function(h){h==="error"&&!t.automaticErrorTracking||(s.mux.listeners[h]=function(){var f={};if(h==="error"){if(!s.error||s.error.code===1)return;f.player_error_code=s.error.code,f.player_error_message=px[s.error.code]||s.error.message}i.emit(n,h,f)},s.addEventListener(h,s.mux.listeners[h],!1))})}function vx(i,e,t,r){var s=r;if(i&&typeof i[e]=="function")try{s=i[e].apply(i,t)}catch(n){qe.info("safeCall error",n)}return s}var Ta=ii(Ai()),hn;Ta.default&&Ta.default.WeakMap&&(hn=new WeakMap);function Ex(i,e){if(!i||!e||!Ta.default||typeof Ta.default.getComputedStyle!="function")return"";var t;return hn&&hn.has(i)&&(t=hn.get(i)),t||(t=Ta.default.getComputedStyle(i,null),hn&&hn.set(i,t)),t.getPropertyValue(e)}function bx(i){return Math.floor(i*1e3)}var zr={TARGET_DURATION:"#EXT-X-TARGETDURATION",PART_INF:"#EXT-X-PART-INF",SERVER_CONTROL:"#EXT-X-SERVER-CONTROL",INF:"#EXTINF",PROGRAM_DATE_TIME:"#EXT-X-PROGRAM-DATE-TIME",VERSION:"#EXT-X-VERSION",SESSION_DATA:"#EXT-X-SESSION-DATA"},Yl=function(i){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(i),this.manifest};Yl.prototype.process=function(i){var e;for(this.buffer+=i,e=this.buffer.indexOf(`
`);e>-1;e=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)};Yl.prototype.processLine=function(i){var e=i.indexOf(":"),t=Ax(i,e),r=t[0],s=t.length===2?zh(t[1]):void 0;if(r[0]!=="#")this.currentUri.uri=r,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(r){case zr.TARGET_DURATION:{if(!isFinite(s)||s<0)return;this.manifest.targetDuration=s,this.setHoldBack();break}case zr.PART_INF:{Bh(this.manifest,t),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break}case zr.SERVER_CONTROL:{Bh(this.manifest,t),this.setHoldBack();break}case zr.INF:{s===0?this.currentUri.duration=.01:s>0&&(this.currentUri.duration=s);break}case zr.PROGRAM_DATE_TIME:{var n=s,a=new Date(n);this.manifest.dateTimeString||(this.manifest.dateTimeString=n,this.manifest.dateTimeObject=a),this.currentUri.dateTimeString=n,this.currentUri.dateTimeObject=a;break}case zr.VERSION:{Bh(this.manifest,t);break}case zr.SESSION_DATA:{var o=Sx(t[1]),l=cE(o);Object.assign(this.manifest.sessionData,l)}}};Yl.prototype.setHoldBack=function(){var i=this.manifest,e=i.serverControl,t=i.targetDuration,r=i.partTargetDuration;if(e){var s="holdBack",n="partHoldBack",a=t&&t*3,o=r&&r*2;t&&!e.hasOwnProperty(s)&&(e[s]=a),a&&e[s]<a&&(e[s]=a),r&&!e.hasOwnProperty(n)&&(e[n]=r*3),r&&e[n]<o&&(e[n]=o)}};var Bh=function(i,e){var t=yE(e[0].replace("#EXT-X-","")),r;_x(e[1])?(r={},r=Object.assign(Tx(e[1]),r)):r=zh(e[1]),i[t]=r},yE=function(i){return i.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},zh=function(i){if(i.toLowerCase()==="yes"||i.toLowerCase()==="no")return i.toLowerCase()==="yes";var e=i.indexOf(":")!==-1?i:parseFloat(i);return isNaN(e)?i:e},yx=function(i){var e={},t=i.split("=");if(t.length>1){var r=yE(t[0]);e[r]=zh(t[1])}return e},Tx=function(i){for(var e=i.split(","),t={},r=0;e.length>r;r++){var s=e[r],n=yx(s);t=Object.assign(n,t)}return t},_x=function(i){return i.indexOf("=")>-1},Ax=function(i,e){return e===-1?[i]:[i.substring(0,e),i.substring(e+1)]},Sx=function(i){var e={};if(i){var t=i.search(","),r=i.slice(0,t),s=i.slice(t+1),n=[r,s];return n.forEach(function(a,o){for(var l=a.replace(/['"]+/g,"").split("="),d=0;d<l.length;d++)l[d]==="DATA-ID"&&(e["DATA-ID"]=l[1-d]),l[d]==="VALUE"&&(e.VALUE=l[1-d])}),{data:e}}},xx=Yl,Rx={safeCall:vx,safeIncrement:et,getComputedStyle:Ex,secondsToMs:bx,assign:Object.assign,headersStringToObject:jh,cdnHeadersToRequestId:Vl,extractHostnameAndDomain:Aa,extractHostname:ti,manifestParser:xx,generateShortID:dE,generateUUID:_a,now:st.now},Ix=Rx,Lx={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"},kx=Lx,Cx="mux-embed",wx="5.3.1",Dx="2.1",Gt={},pr=function(i){var e=arguments;typeof i=="string"?pr.hasOwnProperty(i)?ya.default.setTimeout(function(){e=Array.prototype.splice.call(e,1),pr[i].apply(null,e)},0):qe.warn("`"+i+"` is an unknown task"):typeof i=="function"?ya.default.setTimeout(function(){i(pr)},0):qe.warn("`"+i+"` is invalid.")},Mx={loaded:st.now(),NAME:Cx,VERSION:wx,API_VERSION:Dx,PLAYER_TRACKED:!1,monitor:function(i,e){return gx(pr,i,e)},destroyMonitor:function(i){var e=qi(Hh(i),1),t=e[0];t&&t.mux&&typeof t.mux.destroy=="function"?t.mux.destroy():qe.error("A video element monitor for `"+i+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(i,e){var t=Xr(i);Gt[t]?Gt[t].addHLSJS(e):qe.error("A monitor for `"+t+"` has not been initialized.")},addDashJS:function(i,e){var t=Xr(i);Gt[t]?Gt[t].addDashJS(e):qe.error("A monitor for `"+t+"` has not been initialized.")},removeHLSJS:function(i){var e=Xr(i);Gt[e]?Gt[e].removeHLSJS():qe.error("A monitor for `"+e+"` has not been initialized.")},removeDashJS:function(i){var e=Xr(i);Gt[e]?Gt[e].removeDashJS():qe.error("A monitor for `"+e+"` has not been initialized.")},init:function(i,e){Gh()&&e&&e.respectDoNotTrack&&qe.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var t=Xr(i);Gt[t]=new hx(pr,t,e)},emit:function(i,e,t){var r=Xr(i);Gt[r]?(Gt[r].emit(e,t),e==="destroy"&&delete Gt[r]):qe.error("A monitor for `"+r+"` has not been initialized.")},checkDoNotTrack:Gh,log:qe,utils:Ix,events:kx,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(pr,Mx);typeof ya.default!="undefined"&&typeof ya.default.addEventListener=="function"&&ya.default.addEventListener("pagehide",function(i){i.persisted||(pr.WINDOW_UNLOADING=!0)},!1);var ql=pr;function Px(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gb={exports:{}};(function(i,e){(function(t){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,d,u){if(u=u||{},l=l.trim(),d=d.trim(),!d){if(!u.alwaysNormalize)return l;var c=o.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=o.normalizePath(c.path),o.buildURLFromParts(c)}var h=o.parseURL(d);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return u.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):d;var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");if(!f.netLoc&&f.path&&f.path[0]!=="/"){var m=s.exec(f.path);f.netLoc=m[1],f.path=m[2]}f.netLoc&&!f.path&&(f.path="/");var p={scheme:f.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(p.netLoc=f.netLoc,h.path[0]!=="/"))if(!h.path)p.path=f.path,h.params||(p.params=f.params,h.query||(p.query=f.query));else{var g=f.path,E=g.substring(0,g.lastIndexOf("/")+1)+h.path;p.path=o.normalizePath(E)}return p.path===null&&(p.path=u.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(p)},parseURL:function(l){var d=r.exec(l);return d?{scheme:d[1]||"",netLoc:d[2]||"",path:d[3]||"",params:d[4]||"",query:d[5]||"",fragment:d[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(n,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};i.exports=o})()})(gb);var xm=gb.exports;function TE(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function gt(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(t),!0).forEach(function(r){Ux(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):TE(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Ox(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Nx(i){var e=Ox(i,"string");return typeof e=="symbol"?e:String(e)}function Ux(i,e,t){return e=Nx(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function tt(){return tt=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},tt.apply(this,arguments)}var q=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},Fx=Number.isSafeInteger||function(i){return typeof i=="number"&&Math.abs(i)<=Bx},Bx=Number.MAX_SAFE_INTEGER||9007199254740991,v=function(i){return i.MEDIA_ATTACHING="hlsMediaAttaching",i.MEDIA_ATTACHED="hlsMediaAttached",i.MEDIA_DETACHING="hlsMediaDetaching",i.MEDIA_DETACHED="hlsMediaDetached",i.BUFFER_RESET="hlsBufferReset",i.BUFFER_CODECS="hlsBufferCodecs",i.BUFFER_CREATED="hlsBufferCreated",i.BUFFER_APPENDING="hlsBufferAppending",i.BUFFER_APPENDED="hlsBufferAppended",i.BUFFER_EOS="hlsBufferEos",i.BUFFER_FLUSHING="hlsBufferFlushing",i.BUFFER_FLUSHED="hlsBufferFlushed",i.MANIFEST_LOADING="hlsManifestLoading",i.MANIFEST_LOADED="hlsManifestLoaded",i.MANIFEST_PARSED="hlsManifestParsed",i.LEVEL_SWITCHING="hlsLevelSwitching",i.LEVEL_SWITCHED="hlsLevelSwitched",i.LEVEL_LOADING="hlsLevelLoading",i.LEVEL_LOADED="hlsLevelLoaded",i.LEVEL_UPDATED="hlsLevelUpdated",i.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",i.LEVELS_UPDATED="hlsLevelsUpdated",i.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",i.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",i.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",i.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",i.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",i.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",i.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",i.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",i.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",i.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",i.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",i.CUES_PARSED="hlsCuesParsed",i.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",i.INIT_PTS_FOUND="hlsInitPtsFound",i.FRAG_LOADING="hlsFragLoading",i.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",i.FRAG_LOADED="hlsFragLoaded",i.FRAG_DECRYPTED="hlsFragDecrypted",i.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",i.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",i.FRAG_PARSING_METADATA="hlsFragParsingMetadata",i.FRAG_PARSED="hlsFragParsed",i.FRAG_BUFFERED="hlsFragBuffered",i.FRAG_CHANGED="hlsFragChanged",i.FPS_DROP="hlsFpsDrop",i.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",i.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",i.ERROR="hlsError",i.DESTROYING="hlsDestroying",i.KEY_LOADING="hlsKeyLoading",i.KEY_LOADED="hlsKeyLoaded",i.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",i.BACK_BUFFER_REACHED="hlsBackBufferReached",i.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",i}({}),ie=function(i){return i.NETWORK_ERROR="networkError",i.MEDIA_ERROR="mediaError",i.KEY_SYSTEM_ERROR="keySystemError",i.MUX_ERROR="muxError",i.OTHER_ERROR="otherError",i}({}),w=function(i){return i.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",i.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",i.KEY_SYSTEM_NO_SESSION="keySystemNoSession",i.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",i.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",i.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",i.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",i.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",i.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",i.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",i.MANIFEST_LOAD_ERROR="manifestLoadError",i.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",i.MANIFEST_PARSING_ERROR="manifestParsingError",i.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",i.LEVEL_EMPTY_ERROR="levelEmptyError",i.LEVEL_LOAD_ERROR="levelLoadError",i.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",i.LEVEL_PARSING_ERROR="levelParsingError",i.LEVEL_SWITCH_ERROR="levelSwitchError",i.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",i.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",i.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",i.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",i.FRAG_LOAD_ERROR="fragLoadError",i.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",i.FRAG_DECRYPT_ERROR="fragDecryptError",i.FRAG_PARSING_ERROR="fragParsingError",i.FRAG_GAP="fragGap",i.REMUX_ALLOC_ERROR="remuxAllocError",i.KEY_LOAD_ERROR="keyLoadError",i.KEY_LOAD_TIMEOUT="keyLoadTimeOut",i.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",i.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",i.BUFFER_APPEND_ERROR="bufferAppendError",i.BUFFER_APPENDING_ERROR="bufferAppendingError",i.BUFFER_STALLED_ERROR="bufferStalledError",i.BUFFER_FULL_ERROR="bufferFullError",i.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",i.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",i.INTERNAL_EXCEPTION="internalException",i.INTERNAL_ABORTED="aborted",i.UNKNOWN="unknown",i}({}),is=function(){},gf={trace:is,debug:is,log:is,warn:is,info:is,error:is},Ra=gf;function $x(i){let e=self.console[i];return e?e.bind(self.console,`[${i}] >`):is}function Hx(i,...e){e.forEach(function(t){Ra[t]=i[t]?i[t].bind(i):$x(t)})}function Gx(i,e){if(typeof console=="object"&&i===!0||typeof i=="object"){Hx(i,"debug","log","info","warn","error");try{Ra.log(`Debug logs enabled for "${e}" in hls.js version 1.5.15`)}catch{Ra=gf}}else Ra=gf}var L=Ra,Kx=/^(\d+)x(\d+)$/,_E=/(.+?)=(".*?"|.*?)(?:,|$)/g,je=class i{constructor(e){typeof e=="string"&&(e=i.parseAttrList(e)),tt(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){let t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;let r=new Uint8Array(t.length/2);for(let s=0;s<t.length/2;s++)r[s]=parseInt(t.slice(s*2,s*2+2),16);return r}else return null}hexadecimalIntegerAsNumber(e){let t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){let r=this[e];return r?parseFloat(r):t}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){let t=Kx.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e){let t,r={},s='"';for(_E.lastIndex=0;(t=_E.exec(e))!==null;){let n=t[2];n.indexOf(s)===0&&n.lastIndexOf(s)===n.length-1&&(n=n.slice(1,-1));let a=t[1].trim();r[a]=n}return r}};function Wx(i){return i!=="ID"&&i!=="CLASS"&&i!=="START-DATE"&&i!=="DURATION"&&i!=="END-DATE"&&i!=="END-ON-NEXT"}function Vx(i){return i==="SCTE35-OUT"||i==="SCTE35-IN"}var cd=class{constructor(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){let r=t.attr;for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==r[s]){L.warn(`DATERANGE tag attribute: "${s}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=s;break}e=tt(new je({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){let r=new Date(this.attr["END-DATE"]);q(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;let e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){let e=this.attr.decimalFloatingPoint("DURATION");if(q(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&q(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}},Tn=class{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},Ie={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"},hd=class{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Ie.AUDIO]:null,[Ie.VIDEO]:null,[Ie.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,t){let r=e.split("@",2),s;r.length===1?s=(t==null?void 0:t.byteRangeEndOffset)||0:s=parseInt(r[1]),this._byteRange=[s,parseInt(r[0])+s]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=xm.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}},Ia=class extends hd{constructor(e,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Tn,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){let{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){let t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{let r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!q(this.programDateTime))return null;let e=q(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){let t=Object.keys(this.levelkeys),r=t.length;if(r>1||r===1&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){let t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,r,s,n,a=!1){let{elementaryStreams:o}=this,l=o[e];if(!l){o[e]={startPTS:t,endPTS:r,startDTS:s,endDTS:n,partial:a};return}l.startPTS=Math.min(l.startPTS,t),l.endPTS=Math.max(l.endPTS,r),l.startDTS=Math.min(l.startDTS,s),l.endDTS=Math.max(l.endDTS,n)}clearElementaryStreamInfo(){let{elementaryStreams:e}=this;e[Ie.AUDIO]=null,e[Ie.VIDEO]=null,e[Ie.AUDIOVIDEO]=null}},vf=class extends hd{constructor(e,t,r,s,n){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Tn,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=s;let a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,n),n&&(this.fragOffset=n.fragOffset+n.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){let{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}},Yx=10,Ef=class{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.